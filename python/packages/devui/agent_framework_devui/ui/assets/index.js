function yE(e,n){for(var r=0;r<n.length;r++){const a=n[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function yp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gm={exports:{}},Pi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function vE(){if(Wy)return Pi;Wy=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Pi.Fragment=n,Pi.jsx=r,Pi.jsxs=r,Pi}var Ky;function bE(){return Ky||(Ky=1,Gm.exports=vE()),Gm.exports}var o=bE(),Xm={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function wE(){if(Qy)return Ge;Qy=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function j(C,$,Y){this.props=C,this.context=$,this.refs=N,this.updater=Y||b}j.prototype.isReactComponent={},j.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _(){}_.prototype=j.prototype;function M(C,$,Y){this.props=C,this.context=$,this.refs=N,this.updater=Y||b}var E=M.prototype=new _;E.constructor=M,S(E,j.prototype),E.isPureReactComponent=!0;var T=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function O(C,$,Y,V,K,fe){return Y=fe.ref,{$$typeof:e,type:C,key:$,ref:Y!==void 0?Y:null,props:fe}}function P(C,$){return O(C.type,$,void 0,void 0,void 0,C.props)}function q(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function Q(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Y){return $[Y]})}var ee=/\/+/g;function G(C,$){return typeof C=="object"&&C!==null&&C.key!=null?Q(""+C.key):$.toString(36)}function W(){}function B(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(W,W):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function U(C,$,Y,V,K){var fe=typeof C;(fe==="undefined"||fe==="boolean")&&(C=null);var ue=!1;if(C===null)ue=!0;else switch(fe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(C.$$typeof){case e:case n:ue=!0;break;case g:return ue=C._init,U(ue(C._payload),$,Y,V,K)}}if(ue)return K=K(C),ue=V===""?"."+G(C,0):V,T(K)?(Y="",ue!=null&&(Y=ue.replace(ee,"$&/")+"/"),U(K,$,Y,"",function(xe){return xe})):K!=null&&(q(K)&&(K=P(K,Y+(K.key==null||C&&C.key===K.key?"":(""+K.key).replace(ee,"$&/")+"/")+ue)),$.push(K)),1;ue=0;var te=V===""?".":V+":";if(T(C))for(var ie=0;ie<C.length;ie++)V=C[ie],fe=te+G(V,ie),ue+=U(V,$,Y,fe,K);else if(ie=x(C),typeof ie=="function")for(C=ie.call(C),ie=0;!(V=C.next()).done;)V=V.value,fe=te+G(V,ie++),ue+=U(V,$,Y,fe,K);else if(fe==="object"){if(typeof C.then=="function")return U(B(C),$,Y,V,K);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ue}function k(C,$,Y){if(C==null)return C;var V=[],K=0;return U(C,V,"","",function(fe){return $.call(Y,fe,K++)}),V}function L(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(Y){(C._status===0||C._status===-1)&&(C._status=1,C._result=Y)},function(Y){(C._status===0||C._status===-1)&&(C._status=2,C._result=Y)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var I=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function H(){}return Ge.Children={map:k,forEach:function(C,$,Y){k(C,function(){$.apply(this,arguments)},Y)},count:function(C){var $=0;return k(C,function(){$++}),$},toArray:function(C){return k(C,function($){return $})||[]},only:function(C){if(!q(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ge.Component=j,Ge.Fragment=r,Ge.Profiler=l,Ge.PureComponent=M,Ge.StrictMode=a,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Ge.cache=function(C){return function(){return C.apply(null,arguments)}},Ge.cloneElement=function(C,$,Y){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var V=S({},C.props),K=C.key,fe=void 0;if($!=null)for(ue in $.ref!==void 0&&(fe=void 0),$.key!==void 0&&(K=""+$.key),$)!D.call($,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&$.ref===void 0||(V[ue]=$[ue]);var ue=arguments.length-2;if(ue===1)V.children=Y;else if(1<ue){for(var te=Array(ue),ie=0;ie<ue;ie++)te[ie]=arguments[ie+2];V.children=te}return O(C.type,K,void 0,void 0,fe,V)},Ge.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ge.createElement=function(C,$,Y){var V,K={},fe=null;if($!=null)for(V in $.key!==void 0&&(fe=""+$.key),$)D.call($,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(K[V]=$[V]);var ue=arguments.length-2;if(ue===1)K.children=Y;else if(1<ue){for(var te=Array(ue),ie=0;ie<ue;ie++)te[ie]=arguments[ie+2];K.children=te}if(C&&C.defaultProps)for(V in ue=C.defaultProps,ue)K[V]===void 0&&(K[V]=ue[V]);return O(C,fe,void 0,void 0,null,K)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(C){return{$$typeof:f,render:C}},Ge.isValidElement=q,Ge.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:L}},Ge.memo=function(C,$){return{$$typeof:h,type:C,compare:$===void 0?null:$}},Ge.startTransition=function(C){var $=R.T,Y={};R.T=Y;try{var V=C(),K=R.S;K!==null&&K(Y,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(H,I)}catch(fe){I(fe)}finally{R.T=$}},Ge.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ge.use=function(C){return R.H.use(C)},Ge.useActionState=function(C,$,Y){return R.H.useActionState(C,$,Y)},Ge.useCallback=function(C,$){return R.H.useCallback(C,$)},Ge.useContext=function(C){return R.H.useContext(C)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(C,$){return R.H.useDeferredValue(C,$)},Ge.useEffect=function(C,$,Y){var V=R.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(C,$)},Ge.useId=function(){return R.H.useId()},Ge.useImperativeHandle=function(C,$,Y){return R.H.useImperativeHandle(C,$,Y)},Ge.useInsertionEffect=function(C,$){return R.H.useInsertionEffect(C,$)},Ge.useLayoutEffect=function(C,$){return R.H.useLayoutEffect(C,$)},Ge.useMemo=function(C,$){return R.H.useMemo(C,$)},Ge.useOptimistic=function(C,$){return R.H.useOptimistic(C,$)},Ge.useReducer=function(C,$,Y){return R.H.useReducer(C,$,Y)},Ge.useRef=function(C){return R.H.useRef(C)},Ge.useState=function(C){return R.H.useState(C)},Ge.useSyncExternalStore=function(C,$,Y){return R.H.useSyncExternalStore(C,$,Y)},Ge.useTransition=function(){return R.H.useTransition()},Ge.version="19.1.1",Ge}var Jy;function pl(){return Jy||(Jy=1,Xm.exports=wE()),Xm.exports}var w=pl();const xn=yp(w),Jb=yE({__proto__:null,default:xn},[w]);var Zm={exports:{}},Bi={},Wm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function NE(){return ev||(ev=1,(function(e){function n(k,L){var I=k.length;k.push(L);e:for(;0<I;){var H=I-1>>>1,C=k[H];if(0<l(C,L))k[H]=L,k[I]=C,I=H;else break e}}function r(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var L=k[0],I=k.pop();if(I!==L){k[0]=I;e:for(var H=0,C=k.length,$=C>>>1;H<$;){var Y=2*(H+1)-1,V=k[Y],K=Y+1,fe=k[K];if(0>l(V,I))K<C&&0>l(fe,V)?(k[H]=fe,k[K]=I,H=K):(k[H]=V,k[Y]=I,H=Y);else if(K<C&&0>l(fe,I))k[H]=fe,k[K]=I,H=K;else break e}}return L}function l(k,L){var I=k.sortIndex-L.sortIndex;return I!==0?I:k.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],h=[],g=1,y=null,x=3,b=!1,S=!1,N=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(k){for(var L=r(h);L!==null;){if(L.callback===null)a(h);else if(L.startTime<=k)a(h),L.sortIndex=L.expirationTime,n(m,L);else break;L=r(h)}}function R(k){if(N=!1,T(k),!S)if(r(m)!==null)S=!0,D||(D=!0,G());else{var L=r(h);L!==null&&U(R,L.startTime-k)}}var D=!1,O=-1,P=5,q=-1;function Q(){return j?!0:!(e.unstable_now()-q<P)}function ee(){if(j=!1,D){var k=e.unstable_now();q=k;var L=!0;try{e:{S=!1,N&&(N=!1,M(O),O=-1),b=!0;var I=x;try{t:{for(T(k),y=r(m);y!==null&&!(y.expirationTime>k&&Q());){var H=y.callback;if(typeof H=="function"){y.callback=null,x=y.priorityLevel;var C=H(y.expirationTime<=k);if(k=e.unstable_now(),typeof C=="function"){y.callback=C,T(k),L=!0;break t}y===r(m)&&a(m),T(k)}else a(m);y=r(m)}if(y!==null)L=!0;else{var $=r(h);$!==null&&U(R,$.startTime-k),L=!1}}break e}finally{y=null,x=I,b=!1}L=void 0}}finally{L?G():D=!1}}}var G;if(typeof E=="function")G=function(){E(ee)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,B=W.port2;W.port1.onmessage=ee,G=function(){B.postMessage(null)}}else G=function(){_(ee,0)};function U(k,L){O=_(function(){k(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(k){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var I=x;x=L;try{return k()}finally{x=I}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=x;x=k;try{return L()}finally{x=I}},e.unstable_scheduleCallback=function(k,L,I){var H=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,k){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=I+C,k={id:g++,callback:L,priorityLevel:k,startTime:I,expirationTime:C,sortIndex:-1},I>H?(k.sortIndex=I,n(h,k),r(m)===null&&k===r(h)&&(N?(M(O),O=-1):N=!0,U(R,I-H))):(k.sortIndex=C,n(m,k),S||b||(S=!0,D||(D=!0,G()))),k},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(k){var L=x;return function(){var I=x;x=L;try{return k.apply(this,arguments)}finally{x=I}}}})(Km)),Km}var tv;function SE(){return tv||(tv=1,Wm.exports=NE()),Wm.exports}var Qm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function jE(){if(nv)return Wt;nv=1;var e=pl();function n(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:m,containerInfo:h,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Wt.createPortal=function(m,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return c(m,h,null,g)},Wt.flushSync=function(m){var h=d.T,g=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=h,a.p=g,a.d.f()}},Wt.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(m,h))},Wt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Wt.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?a.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:b}):g==="script"&&a.d.X(m,{crossOrigin:y,integrity:x,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Wt.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(m)},Wt.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin);a.d.L(m,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Wt.preloadModule=function(m,h){if(typeof m=="string")if(h){var g=f(h.as,h.crossOrigin);a.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(m)},Wt.requestFormReset=function(m){a.d.r(m)},Wt.unstable_batchedUpdates=function(m,h){return m(h)},Wt.useFormState=function(m,h,g){return d.H.useFormState(m,h,g)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var sv;function ew(){if(sv)return Qm.exports;sv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Qm.exports=jE(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function _E(){if(rv)return Bi;rv=1;var e=SE(),n=pl(),r=ew();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,i=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(i=s.return),t=s.return;while(t)}return s.tag===3?i:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(c(t)!==t)throw Error(a(188))}function m(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(a(188));return s!==t?null:t}for(var i=t,u=s;;){var p=i.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){i=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===i)return f(p),t;if(v===u)return f(p),s;v=v.sibling}throw Error(a(188))}if(i.return!==u.return)i=p,u=v;else{for(var A=!1,z=p.child;z;){if(z===i){A=!0,i=p,u=v;break}if(z===u){A=!0,u=p,i=v;break}z=z.sibling}if(!A){for(z=v.child;z;){if(z===i){A=!0,i=v,u=p;break}if(z===u){A=!0,u=v,i=p;break}z=z.sibling}if(!A)throw Error(a(189))}}if(i.alternate!==u)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:s}function h(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=h(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var W=Symbol.for("react.client.reference");function B(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===W?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case E:return(t.displayName||"Context")+".Provider";case M:return(t._context.displayName||"Context")+".Consumer";case T:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return s=t.displayName||null,s!==null?s:B(t.type)||"Memo";case P:s=t._payload,t=t._init;try{return B(t(s))}catch{}}return null}var U=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},H=[],C=-1;function $(t){return{current:t}}function Y(t){0>C||(t.current=H[C],H[C]=null,C--)}function V(t,s){C++,H[C]=t.current,t.current=s}var K=$(null),fe=$(null),ue=$(null),te=$(null);function ie(t,s){switch(V(ue,s),V(fe,t),V(K,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?jy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=jy(s),t=_y(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(K),V(K,t)}function xe(){Y(K),Y(fe),Y(ue)}function ve(t){t.memoizedState!==null&&V(te,t);var s=K.current,i=_y(s,t.type);s!==i&&(V(fe,t),V(K,i))}function be(t){fe.current===t&&(Y(K),Y(fe)),te.current===t&&(Y(te),zi._currentValue=I)}var ne=Object.prototype.hasOwnProperty,he=e.unstable_scheduleCallback,X=e.unstable_cancelCallback,pe=e.unstable_shouldYield,Ne=e.unstable_requestPaint,ye=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,Se=e.unstable_ImmediatePriority,Ie=e.unstable_UserBlockingPriority,Xe=e.unstable_NormalPriority,He=e.unstable_LowPriority,Re=e.unstable_IdlePriority,Ve=e.log,_e=e.unstable_setDisableYieldValue,$e=null,Fe=null;function Nt(t){if(typeof Ve=="function"&&_e(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode($e,t)}catch{}}var yt=Math.clz32?Math.clz32:ge,hs=Math.log,wo=Math.LN2;function ge(t){return t>>>=0,t===0?32:31-(hs(t)/wo|0)|0}var Me=256,Be=4194304;function Et(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rn(t,s,i){var u=t.pendingLanes;if(u===0)return 0;var p=0,v=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var z=u&134217727;return z!==0?(u=z&~v,u!==0?p=Et(u):(A&=z,A!==0?p=Et(A):i||(i=z&~t,i!==0&&(p=Et(i))))):(z=u&~v,z!==0?p=Et(z):A!==0?p=Et(A):i||(i=u&~t,i!==0&&(p=Et(i)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,i=s&-s,v>=i||v===32&&(i&4194048)!==0)?s:p}function Le(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function we(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lt(){var t=Me;return Me<<=1,(Me&4194048)===0&&(Me=256),t}function at(){var t=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),t}function At(t){for(var s=[],i=0;31>i;i++)s.push(t);return s}function en(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dn(t,s,i,u,p,v){var A=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var z=t.entanglements,F=t.expirationTimes,re=t.hiddenUpdates;for(i=A&~i;0<i;){var le=31-yt(i),me=1<<le;z[le]=0,F[le]=-1;var oe=re[le];if(oe!==null)for(re[le]=null,le=0;le<oe.length;le++){var ae=oe[le];ae!==null&&(ae.lane&=-536870913)}i&=~me}u!==0&&Gn(t,u,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(A&~s))}function Gn(t,s,i){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-yt(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|i&4194090}function La(t,s){var i=t.entangledLanes|=s;for(t=t.entanglements;i;){var u=31-yt(i),p=1<<u;p&s|t[u]&s&&(t[u]|=s),i&=~p}}function Ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ml(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:qy(t.type))}function Ld(t,s){var i=L.p;try{return L.p=t,s()}finally{L.p=i}}var Xn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Xn,Xt="__reactProps$"+Xn,qs="__reactContainer$"+Xn,Pa="__reactEvents$"+Xn,Hd="__reactListeners$"+Xn,$d="__reactHandles$"+Xn,Tl="__reactResources$"+Xn,Or="__reactMarker$"+Xn;function Ba(t){delete t[Ht],delete t[Xt],delete t[Pa],delete t[Hd],delete t[$d]}function Fs(t){var s=t[Ht];if(s)return s;for(var i=t.parentNode;i;){if(s=i[qs]||i[Ht]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(t=Ay(t);t!==null;){if(i=t[Ht])return i;t=Ay(t)}return s}t=i,i=t.parentNode}return null}function ps(t){if(t=t[Ht]||t[qs]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Ys(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function gs(t){var s=t[Tl];return s||(s=t[Tl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(t){t[Or]=!0}var Rl=new Set,Dl={};function xs(t,s){Gs(t,s),Gs(t+"Capture",s)}function Gs(t,s){for(Dl[t]=s,t=0;t<s.length;t++)Rl.add(s[t])}var Pd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ua={},Ol={};function Bd(t){return ne.call(Ol,t)?!0:ne.call(Ua,t)?!1:Pd.test(t)?Ol[t]=!0:(Ua[t]=!0,!1)}function No(t,s,i){if(Bd(s))if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+i)}}function So(t,s,i){if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+i)}}function On(t,s,i,u){if(u===null)t.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(s,i,""+u)}}var Va,zl;function ys(t){if(Va===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);Va=s&&s[1]||"",zl=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+t+zl}var qa=!1;function Fa(t,s){if(!t||qa)return"";qa=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var oe=ae}Reflect.construct(t,[],me)}else{try{me.call()}catch(ae){oe=ae}t.call(me.prototype)}}else{try{throw Error()}catch(ae){oe=ae}(me=t())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&oe&&typeof ae.stack=="string")return[ae.stack,oe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),A=v[0],z=v[1];if(A&&z){var F=A.split(`
`),re=z.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<re.length&&!re[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===re.length)for(u=F.length-1,p=re.length-1;1<=u&&0<=p&&F[u]!==re[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==re[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==re[p]){var le=`
`+F[u].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=u&&0<=p);break}}}finally{qa=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ys(i):""}function Ud(t){switch(t.tag){case 26:case 27:case 5:return ys(t.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 15:return Fa(t.type,!1);case 11:return Fa(t.type.render,!1);case 1:return Fa(t.type,!0);case 31:return ys("Activity");default:return""}}function Il(t){try{var s="";do s+=Ud(t),t=t.return;while(t);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ll(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vd(t){var s=Ll(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),u=""+t[s];if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var p=i.get,v=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(A){u=""+A,v.call(this,A)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function jo(t){t._valueTracker||(t._valueTracker=Vd(t))}function Ya(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var i=s.getValue(),u="";return t&&(u=Ll(t)?t.checked?"true":"false":t.value),t=u,t!==i?(s.setValue(t),!0):!1}function _o(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qd=/[\n"\\]/g;function nn(t){return t.replace(qd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zr(t,s,i,u,p,v,A,z){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),s!=null?A==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+tn(s)):t.value!==""+tn(s)&&(t.value=""+tn(s)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),s!=null?Ga(t,A,tn(s)):i!=null?Ga(t,A,tn(i)):u!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?t.name=""+tn(z):t.removeAttribute("name")}function Hl(t,s,i,u,p,v,A,z){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),s!=null||i!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;i=i!=null?""+tn(i):"",s=s!=null?""+tn(s):i,z||s===t.value||(t.value=s),t.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=z?t.checked:!!u,t.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function Ga(t,s,i){s==="number"&&_o(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function vs(t,s,i,u){if(t=t.options,s){s={};for(var p=0;p<i.length;p++)s["$"+i[p]]=!0;for(i=0;i<t.length;i++)p=s.hasOwnProperty("$"+t[i].value),t[i].selected!==p&&(t[i].selected=p),p&&u&&(t[i].defaultSelected=!0)}else{for(i=""+tn(i),s=null,p=0;p<t.length;p++){if(t[p].value===i){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function Ng(t,s,i){if(s!=null&&(s=""+tn(s),s!==t.value&&(t.value=s),i==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=i!=null?""+tn(i):""}function Sg(t,s,i,u){if(s==null){if(u!=null){if(i!=null)throw Error(a(92));if(U(u)){if(1<u.length)throw Error(a(93));u=u[0]}i=u}i==null&&(i=""),s=i}i=tn(s),t.defaultValue=i,u=t.textContent,u===i&&u!==""&&u!==null&&(t.value=u)}function Eo(t,s){if(s){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=s;return}}t.textContent=s}var pj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jg(t,s,i){var u=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,i):typeof i!="number"||i===0||pj.has(s)?s==="float"?t.cssFloat=i:t[s]=(""+i).trim():t[s]=i+"px"}function _g(t,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,i!=null){for(var u in i)!i.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&i[p]!==u&&jg(t,p,u)}else for(var v in s)s.hasOwnProperty(v)&&jg(t,v,s[v])}function Fd(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(t){return xj.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yd=null;function Gd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Co=null,ko=null;function Eg(t){var s=ps(t);if(s&&(t=s.stateNode)){var i=t[Xt]||null;e:switch(t=s.stateNode,s.type){case"input":if(zr(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+nn(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var u=i[s];if(u!==t&&u.form===t.form){var p=u[Xt]||null;if(!p)throw Error(a(90));zr(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<i.length;s++)u=i[s],u.form===t.form&&Ya(u)}break e;case"textarea":Ng(t,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&vs(t,!!i.multiple,s,!1)}}}var Xd=!1;function Cg(t,s,i){if(Xd)return t(s,i);Xd=!0;try{var u=t(s);return u}finally{if(Xd=!1,(Co!==null||ko!==null)&&(jc(),Co&&(s=Co,t=ko,ko=Co=null,Eg(s),t)))for(s=0;s<t.length;s++)Eg(t[s])}}function Xa(t,s){var i=t.stateNode;if(i===null)return null;var u=i[Xt]||null;if(u===null)return null;i=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=!1;if(bs)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Zd=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Zd=!1}var Xs=null,Wd=null,Pl=null;function kg(){if(Pl)return Pl;var t,s=Wd,i=s.length,u,p="value"in Xs?Xs.value:Xs.textContent,v=p.length;for(t=0;t<i&&s[t]===p[t];t++);var A=i-t;for(u=1;u<=A&&s[i-u]===p[v-u];u++);return Pl=p.slice(t,1<u?1-u:void 0)}function Bl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function Ag(){return!1}function sn(t){function s(i,u,p,v,A){this._reactName=i,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(i=t[z],this[z]=i?i(v):v[z]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ul:Ag,this.isPropagationStopped=Ag,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),s}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=sn(Ir),Wa=g({},Ir,{view:0,detail:0}),yj=sn(Wa),Kd,Qd,Ka,ql=g({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ka&&(Ka&&t.type==="mousemove"?(Kd=t.screenX-Ka.screenX,Qd=t.screenY-Ka.screenY):Qd=Kd=0,Ka=t),Kd)},movementY:function(t){return"movementY"in t?t.movementY:Qd}}),Mg=sn(ql),vj=g({},ql,{dataTransfer:0}),bj=sn(vj),wj=g({},Wa,{relatedTarget:0}),Jd=sn(wj),Nj=g({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Sj=sn(Nj),jj=g({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_j=sn(jj),Ej=g({},Ir,{data:0}),Tg=sn(Ej),Cj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mj(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Aj[t])?!!s[t]:!1}function ef(){return Mj}var Tj=g({},Wa,{key:function(t){if(t.key){var s=Cj[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(t){return t.type==="keypress"?Bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rj=sn(Tj),Dj=g({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rg=sn(Dj),Oj=g({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),zj=sn(Oj),Ij=g({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lj=sn(Ij),Hj=g({},ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$j=sn(Hj),Pj=g({},Ir,{newState:0,oldState:0}),Bj=sn(Pj),Uj=[9,13,27,32],tf=bs&&"CompositionEvent"in window,Qa=null;bs&&"documentMode"in document&&(Qa=document.documentMode);var Vj=bs&&"TextEvent"in window&&!Qa,Dg=bs&&(!tf||Qa&&8<Qa&&11>=Qa),Og=" ",zg=!1;function Ig(t,s){switch(t){case"keyup":return Uj.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function qj(t,s){switch(t){case"compositionend":return Lg(s);case"keypress":return s.which!==32?null:(zg=!0,Og);case"textInput":return t=s.data,t===Og&&zg?null:t;default:return null}}function Fj(t,s){if(Ao)return t==="compositionend"||!tf&&Ig(t,s)?(t=kg(),Pl=Wd=Xs=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Dg&&s.locale!=="ko"?null:s.data;default:return null}}var Yj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Yj[t.type]:s==="textarea"}function $g(t,s,i,u){Co?ko?ko.push(u):ko=[u]:Co=u,s=Mc(s,"onChange"),0<s.length&&(i=new Vl("onChange","change",null,i,u),t.push({event:i,listeners:s}))}var Ja=null,ei=null;function Gj(t){vy(t,0)}function Fl(t){var s=Ys(t);if(Ya(s))return t}function Pg(t,s){if(t==="change")return s}var Bg=!1;if(bs){var nf;if(bs){var sf="oninput"in document;if(!sf){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),sf=typeof Ug.oninput=="function"}nf=sf}else nf=!1;Bg=nf&&(!document.documentMode||9<document.documentMode)}function Vg(){Ja&&(Ja.detachEvent("onpropertychange",qg),ei=Ja=null)}function qg(t){if(t.propertyName==="value"&&Fl(ei)){var s=[];$g(s,ei,t,Gd(t)),Cg(Gj,s)}}function Xj(t,s,i){t==="focusin"?(Vg(),Ja=s,ei=i,Ja.attachEvent("onpropertychange",qg)):t==="focusout"&&Vg()}function Zj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fl(ei)}function Wj(t,s){if(t==="click")return Fl(s)}function Kj(t,s){if(t==="input"||t==="change")return Fl(s)}function Qj(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var cn=typeof Object.is=="function"?Object.is:Qj;function ti(t,s){if(cn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var i=Object.keys(t),u=Object.keys(s);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var p=i[u];if(!ne.call(s,p)||!cn(t[p],s[p]))return!1}return!0}function Fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,s){var i=Fg(t);t=0;for(var u;i;){if(i.nodeType===3){if(u=t+i.textContent.length,t<=s&&u>=s)return{node:i,offset:s-t};t=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Fg(i)}}function Gg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Gg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=_o(t.document);s instanceof t.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)t=s.contentWindow;else break;s=_o(t.document)}return s}function rf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Jj=bs&&"documentMode"in document&&11>=document.documentMode,Mo=null,of=null,ni=null,af=!1;function Zg(t,s,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;af||Mo==null||Mo!==_o(u)||(u=Mo,"selectionStart"in u&&rf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ni&&ti(ni,u)||(ni=u,u=Mc(of,"onSelect"),0<u.length&&(s=new Vl("onSelect","select",null,s,i),t.push({event:s,listeners:u}),s.target=Mo)))}function Lr(t,s){var i={};return i[t.toLowerCase()]=s.toLowerCase(),i["Webkit"+t]="webkit"+s,i["Moz"+t]="moz"+s,i}var To={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},lf={},Wg={};bs&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Hr(t){if(lf[t])return lf[t];if(!To[t])return t;var s=To[t],i;for(i in s)if(s.hasOwnProperty(i)&&i in Wg)return lf[t]=s[i];return t}var Kg=Hr("animationend"),Qg=Hr("animationiteration"),Jg=Hr("animationstart"),e_=Hr("transitionrun"),t_=Hr("transitionstart"),n_=Hr("transitioncancel"),ex=Hr("transitionend"),tx=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function zn(t,s){tx.set(t,s),xs(s,[t])}var nx=new WeakMap;function Nn(t,s){if(typeof t=="object"&&t!==null){var i=nx.get(t);return i!==void 0?i:(s={value:t,source:s,stack:Il(s)},nx.set(t,s),s)}return{value:t,source:s,stack:Il(s)}}var Sn=[],Ro=0,uf=0;function Yl(){for(var t=Ro,s=uf=Ro=0;s<t;){var i=Sn[s];Sn[s++]=null;var u=Sn[s];Sn[s++]=null;var p=Sn[s];Sn[s++]=null;var v=Sn[s];if(Sn[s++]=null,u!==null&&p!==null){var A=u.pending;A===null?p.next=p:(p.next=A.next,A.next=p),u.pending=p}v!==0&&sx(i,p,v)}}function Gl(t,s,i,u){Sn[Ro++]=t,Sn[Ro++]=s,Sn[Ro++]=i,Sn[Ro++]=u,uf|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function df(t,s,i,u){return Gl(t,s,i,u),Xl(t)}function Do(t,s){return Gl(t,null,null,s),Xl(t)}function sx(t,s,i){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i);for(var p=!1,v=t.return;v!==null;)v.childLanes|=i,u=v.alternate,u!==null&&(u.childLanes|=i),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&s!==null&&(p=31-yt(i),t=v.hiddenUpdates,u=t[p],u===null?t[p]=[s]:u.push(s),s.lane=i|536870912),v):null}function Xl(t){if(50<Ci)throw Ci=0,xm=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Oo={};function s_(t,s,i,u){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,s,i,u){return new s_(t,s,i,u)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ws(t,s){var i=t.alternate;return i===null?(i=un(t.tag,s,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=s,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function rx(t,s){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,s=i.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Zl(t,s,i,u,p,v){var A=0;if(u=t,typeof t=="function")ff(t)&&(A=1);else if(typeof t=="string")A=oE(t,i,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case q:return t=un(31,i,s,p),t.elementType=q,t.lanes=v,t;case S:return $r(i.children,p,v,s);case N:A=8,p|=24;break;case j:return t=un(12,i,s,p|2),t.elementType=j,t.lanes=v,t;case R:return t=un(13,i,s,p),t.elementType=R,t.lanes=v,t;case D:return t=un(19,i,s,p),t.elementType=D,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:case E:A=10;break e;case M:A=9;break e;case T:A=11;break e;case O:A=14;break e;case P:A=16,u=null;break e}A=29,i=Error(a(130,t===null?"null":typeof t,"")),u=null}return s=un(A,i,s,p),s.elementType=t,s.type=u,s.lanes=v,s}function $r(t,s,i,u){return t=un(7,t,u,s),t.lanes=i,t}function mf(t,s,i){return t=un(6,t,null,s),t.lanes=i,t}function hf(t,s,i){return s=un(4,t.children!==null?t.children:[],t.key,s),s.lanes=i,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var zo=[],Io=0,Wl=null,Kl=0,jn=[],_n=0,Pr=null,Ns=1,Ss="";function Br(t,s){zo[Io++]=Kl,zo[Io++]=Wl,Wl=t,Kl=s}function ox(t,s,i){jn[_n++]=Ns,jn[_n++]=Ss,jn[_n++]=Pr,Pr=t;var u=Ns;t=Ss;var p=32-yt(u)-1;u&=~(1<<p),i+=1;var v=32-yt(s)+p;if(30<v){var A=p-p%5;v=(u&(1<<A)-1).toString(32),u>>=A,p-=A,Ns=1<<32-yt(s)+p|i<<p|u,Ss=v+t}else Ns=1<<v|i<<p|u,Ss=t}function pf(t){t.return!==null&&(Br(t,1),ox(t,1,0))}function gf(t){for(;t===Wl;)Wl=zo[--Io],zo[Io]=null,Kl=zo[--Io],zo[Io]=null;for(;t===Pr;)Pr=jn[--_n],jn[_n]=null,Ss=jn[--_n],jn[_n]=null,Ns=jn[--_n],jn[_n]=null}var Kt=null,jt=null,it=!1,Ur=null,Zn=!1,xf=Error(a(519));function Vr(t){var s=Error(a(418,""));throw oi(Nn(s,t)),xf}function ax(t){var s=t.stateNode,i=t.type,u=t.memoizedProps;switch(s[Ht]=t,s[Xt]=u,i){case"dialog":tt("cancel",s),tt("close",s);break;case"iframe":case"object":case"embed":tt("load",s);break;case"video":case"audio":for(i=0;i<Ai.length;i++)tt(Ai[i],s);break;case"source":tt("error",s);break;case"img":case"image":case"link":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"input":tt("invalid",s),Hl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),jo(s);break;case"select":tt("invalid",s);break;case"textarea":tt("invalid",s),Sg(s,u.value,u.defaultValue,u.children),jo(s)}i=u.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||u.suppressHydrationWarning===!0||Sy(s.textContent,i)?(u.popover!=null&&(tt("beforetoggle",s),tt("toggle",s)),u.onScroll!=null&&tt("scroll",s),u.onScrollEnd!=null&&tt("scrollend",s),u.onClick!=null&&(s.onclick=Tc),s=!0):s=!1,s||Vr(t)}function ix(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Kt=Kt.return}}function si(t){if(t!==Kt)return!1;if(!it)return ix(t),it=!0,!1;var s=t.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Dm(t.type,t.memoizedProps)),i=!i),i&&jt&&Vr(t),ix(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(s===0){jt=Ln(t.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++;t=t.nextSibling}jt=null}}else s===27?(s=jt,ur(t.type)?(t=Lm,Lm=null,jt=t):jt=s):jt=Kt?Ln(t.stateNode.nextSibling):null;return!0}function ri(){jt=Kt=null,it=!1}function lx(){var t=Ur;return t!==null&&(an===null?an=t:an.push.apply(an,t),Ur=null),t}function oi(t){Ur===null?Ur=[t]:Ur.push(t)}var yf=$(null),qr=null,js=null;function Zs(t,s,i){V(yf,s._currentValue),s._currentValue=i}function _s(t){t._currentValue=yf.current,Y(yf)}function vf(t,s,i){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===i)break;t=t.return}}function bf(t,s,i,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var A=p.child;v=v.firstContext;e:for(;v!==null;){var z=v;v=p;for(var F=0;F<s.length;F++)if(z.context===s[F]){v.lanes|=i,z=v.alternate,z!==null&&(z.lanes|=i),vf(v.return,i,t),u||(A=null);break e}v=z.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(a(341));A.lanes|=i,v=A.alternate,v!==null&&(v.lanes|=i),vf(A,i,t),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===t){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function ai(t,s,i,u){t=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var z=p.type;cn(p.pendingProps.value,A.value)||(t!==null?t.push(z):t=[z])}}else if(p===te.current){if(A=p.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(zi):t=[zi])}p=p.return}t!==null&&bf(s,t,i,u),s.flags|=262144}function Ql(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){qr=t,js=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return cx(qr,t)}function Jl(t,s){return qr===null&&Fr(t),cx(t,s)}function cx(t,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},js===null){if(t===null)throw Error(a(308));js=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else js=js.next=s;return i}var r_=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(i,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(i){return i()})}},o_=e.unstable_scheduleCallback,a_=e.unstable_NormalPriority,Ot={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new r_,data:new Map,refCount:0}}function ii(t){t.refCount--,t.refCount===0&&o_(a_,function(){t.controller.abort()})}var li=null,Nf=0,Lo=0,Ho=null;function i_(t,s){if(li===null){var i=li=[];Nf=0,Lo=jm(),Ho={status:"pending",value:void 0,then:function(u){i.push(u)}}}return Nf++,s.then(ux,ux),s}function ux(){if(--Nf===0&&li!==null){Ho!==null&&(Ho.status="fulfilled");var t=li;li=null,Lo=0,Ho=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function l_(t,s){var i=[],u={status:"pending",value:null,reason:null,then:function(p){i.push(p)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<i.length;p++)(0,i[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<i.length;p++)(0,i[p])(void 0)}),u}var dx=k.S;k.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&i_(t,s),dx!==null&&dx(t,s)};var Yr=$(null);function Sf(){var t=Yr.current;return t!==null?t:gt.pooledCache}function ec(t,s){s===null?V(Yr,Yr.current):V(Yr,s.pool)}function fx(){var t=Sf();return t===null?null:{parent:Ot._currentValue,pool:t}}var ci=Error(a(460)),mx=Error(a(474)),tc=Error(a(542)),jf={then:function(){}};function hx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nc(){}function px(t,s,i){switch(i=t[i],i===void 0?t.push(s):i!==s&&(s.then(nc,nc),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,xx(t),t;default:if(typeof s.status=="string")s.then(nc,nc);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,xx(t),t}throw ui=s,ci}}var ui=null;function gx(){if(ui===null)throw Error(a(459));var t=ui;return ui=null,t}function xx(t){if(t===ci||t===tc)throw Error(a(483))}var Ws=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(t,s,i){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Xl(t),sx(t,null,i),s}return Gl(t,u,s,i),Xl(t)}function di(t,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var u=s.lanes;u&=t.pendingLanes,i|=u,s.lanes=i,La(t,i)}}function Cf(t,s){var i=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var p=null,v=null;if(i=i.firstBaseUpdate,i!==null){do{var A={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};v===null?p=v=A:v=v.next=A,i=i.next}while(i!==null);v===null?p=v=s:v=v.next=s}else p=v=s;i={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=s:t.next=s,i.lastBaseUpdate=s}var kf=!1;function fi(){if(kf){var t=Ho;if(t!==null)throw t}}function mi(t,s,i,u){kf=!1;var p=t.updateQueue;Ws=!1;var v=p.firstBaseUpdate,A=p.lastBaseUpdate,z=p.shared.pending;if(z!==null){p.shared.pending=null;var F=z,re=F.next;F.next=null,A===null?v=re:A.next=re,A=F;var le=t.alternate;le!==null&&(le=le.updateQueue,z=le.lastBaseUpdate,z!==A&&(z===null?le.firstBaseUpdate=re:z.next=re,le.lastBaseUpdate=F))}if(v!==null){var me=p.baseState;A=0,le=re=F=null,z=v;do{var oe=z.lane&-536870913,ae=oe!==z.lane;if(ae?(st&oe)===oe:(u&oe)===oe){oe!==0&&oe===Lo&&(kf=!0),le!==null&&(le=le.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var qe=t,Pe=z;oe=s;var mt=i;switch(Pe.tag){case 1:if(qe=Pe.payload,typeof qe=="function"){me=qe.call(mt,me,oe);break e}me=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Pe.payload,oe=typeof qe=="function"?qe.call(mt,me,oe):qe,oe==null)break e;me=g({},me,oe);break e;case 2:Ws=!0}}oe=z.callback,oe!==null&&(t.flags|=64,ae&&(t.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[oe]:ae.push(oe))}else ae={lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},le===null?(re=le=ae,F=me):le=le.next=ae,A|=oe;if(z=z.next,z===null){if(z=p.shared.pending,z===null)break;ae=z,z=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);le===null&&(F=me),p.baseState=F,p.firstBaseUpdate=re,p.lastBaseUpdate=le,v===null&&(p.shared.lanes=0),ar|=A,t.lanes=A,t.memoizedState=me}}function yx(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function vx(t,s){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)yx(i[t],s)}var $o=$(null),sc=$(0);function bx(t,s){t=Rs,V(sc,t),V($o,s),Rs=t|s.baseLanes}function Af(){V(sc,Rs),V($o,$o.current)}function Mf(){Rs=sc.current,Y($o),Y(sc)}var Js=0,We=null,dt=null,Tt=null,rc=!1,Po=!1,Gr=!1,oc=0,hi=0,Bo=null,c_=0;function Ct(){throw Error(a(321))}function Tf(t,s){if(s===null)return!1;for(var i=0;i<s.length&&i<t.length;i++)if(!cn(t[i],s[i]))return!1;return!0}function Rf(t,s,i,u,p,v){return Js=v,We=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=t===null||t.memoizedState===null?s0:r0,Gr=!1,v=i(u,p),Gr=!1,Po&&(v=Nx(s,i,u,p)),wx(t),v}function wx(t){k.H=dc;var s=dt!==null&&dt.next!==null;if(Js=0,Tt=dt=We=null,rc=!1,hi=0,Bo=null,s)throw Error(a(300));t===null||$t||(t=t.dependencies,t!==null&&Ql(t)&&($t=!0))}function Nx(t,s,i,u){We=t;var p=0;do{if(Po&&(Bo=null),hi=0,Po=!1,25<=p)throw Error(a(301));if(p+=1,Tt=dt=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}k.H=g_,v=s(i,u)}while(Po);return v}function u_(){var t=k.H,s=t.useState()[0];return s=typeof s.then=="function"?pi(s):s,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(We.flags|=1024),s}function Df(){var t=oc!==0;return oc=0,t}function Of(t,s,i){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i}function zf(t){if(rc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}rc=!1}Js=0,Tt=dt=We=null,Po=!1,hi=oc=0,Bo=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?We.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Rt(){if(dt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var s=Tt===null?We.memoizedState:Tt.next;if(s!==null)Tt=s,dt=t;else{if(t===null)throw We.alternate===null?Error(a(467)):Error(a(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Tt===null?We.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pi(t){var s=hi;return hi+=1,Bo===null&&(Bo=[]),t=px(Bo,t,s),s=We,(Tt===null?s.memoizedState:Tt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?s0:r0),t}function ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pi(t);if(t.$$typeof===E)return Zt(t)}throw Error(a(438,String(t)))}function Lf(t){var s=null,i=We.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var u=We.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=If(),We.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(t),u=0;u<t;u++)i[u]=Q;return s.index++,i}function Es(t,s){return typeof s=="function"?s(t):s}function ic(t){var s=Rt();return Hf(s,dt,t)}function Hf(t,s,i){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var p=t.baseQueue,v=u.pending;if(v!==null){if(p!==null){var A=p.next;p.next=v.next,v.next=A}s.baseQueue=p=v,u.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{s=p.next;var z=A=null,F=null,re=s,le=!1;do{var me=re.lane&-536870913;if(me!==re.lane?(st&me)===me:(Js&me)===me){var oe=re.revertLane;if(oe===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),me===Lo&&(le=!0);else if((Js&oe)===oe){re=re.next,oe===Lo&&(le=!0);continue}else me={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},F===null?(z=F=me,A=v):F=F.next=me,We.lanes|=oe,ar|=oe;me=re.action,Gr&&i(v,me),v=re.hasEagerState?re.eagerState:i(v,me)}else oe={lane:me,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},F===null?(z=F=oe,A=v):F=F.next=oe,We.lanes|=me,ar|=me;re=re.next}while(re!==null&&re!==s);if(F===null?A=v:F.next=z,!cn(v,t.memoizedState)&&($t=!0,le&&(i=Ho,i!==null)))throw i;t.memoizedState=v,t.baseState=A,t.baseQueue=F,u.lastRenderedState=v}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function $f(t){var s=Rt(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var u=i.dispatch,p=i.pending,v=s.memoizedState;if(p!==null){i.pending=null;var A=p=p.next;do v=t(v,A.action),A=A.next;while(A!==p);cn(v,s.memoizedState)||($t=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),i.lastRenderedState=v}return[v,u]}function Sx(t,s,i){var u=We,p=Rt(),v=it;if(v){if(i===void 0)throw Error(a(407));i=i()}else i=s();var A=!cn((dt||p).memoizedState,i);A&&(p.memoizedState=i,$t=!0),p=p.queue;var z=Ex.bind(null,u,p,t);if(gi(2048,8,z,[t]),p.getSnapshot!==s||A||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,Uo(9,lc(),_x.bind(null,u,p,i,s),null),gt===null)throw Error(a(349));v||(Js&124)!==0||jx(u,s,i)}return i}function jx(t,s,i){t.flags|=16384,t={getSnapshot:s,value:i},s=We.updateQueue,s===null?(s=If(),We.updateQueue=s,s.stores=[t]):(i=s.stores,i===null?s.stores=[t]:i.push(t))}function _x(t,s,i,u){s.value=i,s.getSnapshot=u,Cx(s)&&kx(t)}function Ex(t,s,i){return i(function(){Cx(s)&&kx(t)})}function Cx(t){var s=t.getSnapshot;t=t.value;try{var i=s();return!cn(t,i)}catch{return!0}}function kx(t){var s=Do(t,2);s!==null&&pn(s,t,2)}function Pf(t){var s=rn();if(typeof t=="function"){var i=t;if(t=i(),Gr){Nt(!0);try{i()}finally{Nt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},s}function Ax(t,s,i,u){return t.baseState=i,Hf(t,dt,typeof u=="function"?u:Es)}function d_(t,s,i,u,p){if(uc(t))throw Error(a(485));if(t=s.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};k.T!==null?i(!0):v.isTransition=!1,u(v),i=s.pending,i===null?(v.next=s.pending=v,Mx(s,v)):(v.next=i.next,s.pending=i.next=v)}}function Mx(t,s){var i=s.action,u=s.payload,p=t.state;if(s.isTransition){var v=k.T,A={};k.T=A;try{var z=i(p,u),F=k.S;F!==null&&F(A,z),Tx(t,s,z)}catch(re){Bf(t,s,re)}finally{k.T=v}}else try{v=i(p,u),Tx(t,s,v)}catch(re){Bf(t,s,re)}}function Tx(t,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(u){Rx(t,s,u)},function(u){return Bf(t,s,u)}):Rx(t,s,i)}function Rx(t,s,i){s.status="fulfilled",s.value=i,Dx(s),t.state=i,s=t.pending,s!==null&&(i=s.next,i===s?t.pending=null:(i=i.next,s.next=i,Mx(t,i)))}function Bf(t,s,i){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=i,Dx(s),s=s.next;while(s!==u)}t.action=null}function Dx(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ox(t,s){return s}function zx(t,s){if(it){var i=gt.formState;if(i!==null){e:{var u=We;if(it){if(jt){t:{for(var p=jt,v=Zn;p.nodeType!==8;){if(!v){p=null;break t}if(p=Ln(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){jt=Ln(p.nextSibling),u=p.data==="F!";break e}}Vr(u)}u=!1}u&&(s=i[0])}}return i=rn(),i.memoizedState=i.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ox,lastRenderedState:s},i.queue=u,i=e0.bind(null,We,u),u.dispatch=i,u=Pf(!1),v=Yf.bind(null,We,!1,u.queue),u=rn(),p={state:s,dispatch:null,action:t,pending:null},u.queue=p,i=d_.bind(null,We,p,v,i),p.dispatch=i,u.memoizedState=t,[s,i,!1]}function Ix(t){var s=Rt();return Lx(s,dt,t)}function Lx(t,s,i){if(s=Hf(t,s,Ox)[0],t=ic(Es)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=pi(s)}catch(A){throw A===ci?tc:A}else u=s;s=Rt();var p=s.queue,v=p.dispatch;return i!==s.memoizedState&&(We.flags|=2048,Uo(9,lc(),f_.bind(null,p,i),null)),[u,v,t]}function f_(t,s){t.action=s}function Hx(t){var s=Rt(),i=dt;if(i!==null)return Lx(s,i,t);Rt(),s=s.memoizedState,i=Rt();var u=i.queue.dispatch;return i.memoizedState=t,[s,u,!1]}function Uo(t,s,i,u){return t={tag:t,create:i,deps:u,inst:s,next:null},s=We.updateQueue,s===null&&(s=If(),We.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=t.next=t:(u=i.next,i.next=t,t.next=u,s.lastEffect=t),t}function lc(){return{destroy:void 0,resource:void 0}}function $x(){return Rt().memoizedState}function cc(t,s,i,u){var p=rn();u=u===void 0?null:u,We.flags|=t,p.memoizedState=Uo(1|s,lc(),i,u)}function gi(t,s,i,u){var p=Rt();u=u===void 0?null:u;var v=p.memoizedState.inst;dt!==null&&u!==null&&Tf(u,dt.memoizedState.deps)?p.memoizedState=Uo(s,v,i,u):(We.flags|=t,p.memoizedState=Uo(1|s,v,i,u))}function Px(t,s){cc(8390656,8,t,s)}function Bx(t,s){gi(2048,8,t,s)}function Ux(t,s){return gi(4,2,t,s)}function Vx(t,s){return gi(4,4,t,s)}function qx(t,s){if(typeof s=="function"){t=t();var i=s(t);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Fx(t,s,i){i=i!=null?i.concat([t]):null,gi(4,4,qx.bind(null,s,t),i)}function Uf(){}function Yx(t,s){var i=Rt();s=s===void 0?null:s;var u=i.memoizedState;return s!==null&&Tf(s,u[1])?u[0]:(i.memoizedState=[t,s],t)}function Gx(t,s){var i=Rt();s=s===void 0?null:s;var u=i.memoizedState;if(s!==null&&Tf(s,u[1]))return u[0];if(u=t(),Gr){Nt(!0);try{t()}finally{Nt(!1)}}return i.memoizedState=[u,s],u}function Vf(t,s,i){return i===void 0||(Js&1073741824)!==0?t.memoizedState=s:(t.memoizedState=i,t=W0(),We.lanes|=t,ar|=t,i)}function Xx(t,s,i,u){return cn(i,s)?i:$o.current!==null?(t=Vf(t,i,u),cn(t,s)||($t=!0),t):(Js&42)===0?($t=!0,t.memoizedState=i):(t=W0(),We.lanes|=t,ar|=t,s)}function Zx(t,s,i,u,p){var v=L.p;L.p=v!==0&&8>v?v:8;var A=k.T,z={};k.T=z,Yf(t,!1,s,i);try{var F=p(),re=k.S;if(re!==null&&re(z,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=l_(F,u);xi(t,s,le,hn(t))}else xi(t,s,u,hn(t))}catch(me){xi(t,s,{then:function(){},status:"rejected",reason:me},hn())}finally{L.p=v,k.T=A}}function m_(){}function qf(t,s,i,u){if(t.tag!==5)throw Error(a(476));var p=Wx(t).queue;Zx(t,p,s,I,i===null?m_:function(){return Kx(t),i(u)})}function Wx(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:I},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:i},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Kx(t){var s=Wx(t).next.queue;xi(t,s,{},hn())}function Ff(){return Zt(zi)}function Qx(){return Rt().memoizedState}function Jx(){return Rt().memoizedState}function h_(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var i=hn();t=Ks(i);var u=Qs(s,t,i);u!==null&&(pn(u,s,i),di(u,s,i)),s={cache:wf()},t.payload=s;return}s=s.return}}function p_(t,s,i){var u=hn();i={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},uc(t)?t0(s,i):(i=df(t,s,i,u),i!==null&&(pn(i,t,u),n0(i,s,u)))}function e0(t,s,i){var u=hn();xi(t,s,i,u)}function xi(t,s,i,u){var p={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(uc(t))t0(s,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,z=v(A,i);if(p.hasEagerState=!0,p.eagerState=z,cn(z,A))return Gl(t,s,p,0),gt===null&&Yl(),!1}catch{}finally{}if(i=df(t,s,p,u),i!==null)return pn(i,t,u),n0(i,s,u),!0}return!1}function Yf(t,s,i,u){if(u={lane:2,revertLane:jm(),action:u,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(s)throw Error(a(479))}else s=df(t,i,u,2),s!==null&&pn(s,t,2)}function uc(t){var s=t.alternate;return t===We||s!==null&&s===We}function t0(t,s){Po=rc=!0;var i=t.pending;i===null?s.next=s:(s.next=i.next,i.next=s),t.pending=s}function n0(t,s,i){if((i&4194048)!==0){var u=s.lanes;u&=t.pendingLanes,i|=u,s.lanes=i,La(t,i)}}var dc={readContext:Zt,use:ac,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},s0={readContext:Zt,use:ac,useCallback:function(t,s){return rn().memoizedState=[t,s===void 0?null:s],t},useContext:Zt,useEffect:Px,useImperativeHandle:function(t,s,i){i=i!=null?i.concat([t]):null,cc(4194308,4,qx.bind(null,s,t),i)},useLayoutEffect:function(t,s){return cc(4194308,4,t,s)},useInsertionEffect:function(t,s){cc(4,2,t,s)},useMemo:function(t,s){var i=rn();s=s===void 0?null:s;var u=t();if(Gr){Nt(!0);try{t()}finally{Nt(!1)}}return i.memoizedState=[u,s],u},useReducer:function(t,s,i){var u=rn();if(i!==void 0){var p=i(s);if(Gr){Nt(!0);try{i(s)}finally{Nt(!1)}}}else p=s;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=p_.bind(null,We,t),[u.memoizedState,t]},useRef:function(t){var s=rn();return t={current:t},s.memoizedState=t},useState:function(t){t=Pf(t);var s=t.queue,i=e0.bind(null,We,s);return s.dispatch=i,[t.memoizedState,i]},useDebugValue:Uf,useDeferredValue:function(t,s){var i=rn();return Vf(i,t,s)},useTransition:function(){var t=Pf(!1);return t=Zx.bind(null,We,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,i){var u=We,p=rn();if(it){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),gt===null)throw Error(a(349));(st&124)!==0||jx(u,s,i)}p.memoizedState=i;var v={value:i,getSnapshot:s};return p.queue=v,Px(Ex.bind(null,u,v,t),[t]),u.flags|=2048,Uo(9,lc(),_x.bind(null,u,v,i,s),null),i},useId:function(){var t=rn(),s=gt.identifierPrefix;if(it){var i=Ss,u=Ns;i=(u&~(1<<32-yt(u)-1)).toString(32)+i,s=""+s+"R"+i,i=oc++,0<i&&(s+="H"+i.toString(32)),s+=""}else i=c_++,s=""+s+"r"+i.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:Ff,useFormState:zx,useActionState:zx,useOptimistic:function(t){var s=rn();s.memoizedState=s.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=Yf.bind(null,We,!0,i),i.dispatch=s,[t,s]},useMemoCache:Lf,useCacheRefresh:function(){return rn().memoizedState=h_.bind(null,We)}},r0={readContext:Zt,use:ac,useCallback:Yx,useContext:Zt,useEffect:Bx,useImperativeHandle:Fx,useInsertionEffect:Ux,useLayoutEffect:Vx,useMemo:Gx,useReducer:ic,useRef:$x,useState:function(){return ic(Es)},useDebugValue:Uf,useDeferredValue:function(t,s){var i=Rt();return Xx(i,dt.memoizedState,t,s)},useTransition:function(){var t=ic(Es)[0],s=Rt().memoizedState;return[typeof t=="boolean"?t:pi(t),s]},useSyncExternalStore:Sx,useId:Qx,useHostTransitionStatus:Ff,useFormState:Ix,useActionState:Ix,useOptimistic:function(t,s){var i=Rt();return Ax(i,dt,t,s)},useMemoCache:Lf,useCacheRefresh:Jx},g_={readContext:Zt,use:ac,useCallback:Yx,useContext:Zt,useEffect:Bx,useImperativeHandle:Fx,useInsertionEffect:Ux,useLayoutEffect:Vx,useMemo:Gx,useReducer:$f,useRef:$x,useState:function(){return $f(Es)},useDebugValue:Uf,useDeferredValue:function(t,s){var i=Rt();return dt===null?Vf(i,t,s):Xx(i,dt.memoizedState,t,s)},useTransition:function(){var t=$f(Es)[0],s=Rt().memoizedState;return[typeof t=="boolean"?t:pi(t),s]},useSyncExternalStore:Sx,useId:Qx,useHostTransitionStatus:Ff,useFormState:Hx,useActionState:Hx,useOptimistic:function(t,s){var i=Rt();return dt!==null?Ax(i,dt,t,s):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:Jx},Vo=null,yi=0;function fc(t){var s=yi;return yi+=1,Vo===null&&(Vo=[]),px(Vo,t,s)}function vi(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function mc(t,s){throw s.$$typeof===y?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function o0(t){var s=t._init;return s(t._payload)}function a0(t){function s(J,Z){if(t){var se=J.deletions;se===null?(J.deletions=[Z],J.flags|=16):se.push(Z)}}function i(J,Z){if(!t)return null;for(;Z!==null;)s(J,Z),Z=Z.sibling;return null}function u(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function p(J,Z){return J=ws(J,Z),J.index=0,J.sibling=null,J}function v(J,Z,se){return J.index=se,t?(se=J.alternate,se!==null?(se=se.index,se<Z?(J.flags|=67108866,Z):se):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function A(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function z(J,Z,se,ce){return Z===null||Z.tag!==6?(Z=mf(se,J.mode,ce),Z.return=J,Z):(Z=p(Z,se),Z.return=J,Z)}function F(J,Z,se,ce){var Ee=se.type;return Ee===S?le(J,Z,se.props.children,ce,se.key):Z!==null&&(Z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===P&&o0(Ee)===Z.type)?(Z=p(Z,se.props),vi(Z,se),Z.return=J,Z):(Z=Zl(se.type,se.key,se.props,null,J.mode,ce),vi(Z,se),Z.return=J,Z)}function re(J,Z,se,ce){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==se.containerInfo||Z.stateNode.implementation!==se.implementation?(Z=hf(se,J.mode,ce),Z.return=J,Z):(Z=p(Z,se.children||[]),Z.return=J,Z)}function le(J,Z,se,ce,Ee){return Z===null||Z.tag!==7?(Z=$r(se,J.mode,ce,Ee),Z.return=J,Z):(Z=p(Z,se),Z.return=J,Z)}function me(J,Z,se){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=mf(""+Z,J.mode,se),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return se=Zl(Z.type,Z.key,Z.props,null,J.mode,se),vi(se,Z),se.return=J,se;case b:return Z=hf(Z,J.mode,se),Z.return=J,Z;case P:var ce=Z._init;return Z=ce(Z._payload),me(J,Z,se)}if(U(Z)||G(Z))return Z=$r(Z,J.mode,se,null),Z.return=J,Z;if(typeof Z.then=="function")return me(J,fc(Z),se);if(Z.$$typeof===E)return me(J,Jl(J,Z),se);mc(J,Z)}return null}function oe(J,Z,se,ce){var Ee=Z!==null?Z.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ee!==null?null:z(J,Z,""+se,ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return se.key===Ee?F(J,Z,se,ce):null;case b:return se.key===Ee?re(J,Z,se,ce):null;case P:return Ee=se._init,se=Ee(se._payload),oe(J,Z,se,ce)}if(U(se)||G(se))return Ee!==null?null:le(J,Z,se,ce,null);if(typeof se.then=="function")return oe(J,Z,fc(se),ce);if(se.$$typeof===E)return oe(J,Z,Jl(J,se),ce);mc(J,se)}return null}function ae(J,Z,se,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return J=J.get(se)||null,z(Z,J,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return J=J.get(ce.key===null?se:ce.key)||null,F(Z,J,ce,Ee);case b:return J=J.get(ce.key===null?se:ce.key)||null,re(Z,J,ce,Ee);case P:var Qe=ce._init;return ce=Qe(ce._payload),ae(J,Z,se,ce,Ee)}if(U(ce)||G(ce))return J=J.get(se)||null,le(Z,J,ce,Ee,null);if(typeof ce.then=="function")return ae(J,Z,se,fc(ce),Ee);if(ce.$$typeof===E)return ae(J,Z,se,Jl(Z,ce),Ee);mc(Z,ce)}return null}function qe(J,Z,se,ce){for(var Ee=null,Qe=null,De=Z,Ue=Z=0,Bt=null;De!==null&&Ue<se.length;Ue++){De.index>Ue?(Bt=De,De=null):Bt=De.sibling;var ot=oe(J,De,se[Ue],ce);if(ot===null){De===null&&(De=Bt);break}t&&De&&ot.alternate===null&&s(J,De),Z=v(ot,Z,Ue),Qe===null?Ee=ot:Qe.sibling=ot,Qe=ot,De=Bt}if(Ue===se.length)return i(J,De),it&&Br(J,Ue),Ee;if(De===null){for(;Ue<se.length;Ue++)De=me(J,se[Ue],ce),De!==null&&(Z=v(De,Z,Ue),Qe===null?Ee=De:Qe.sibling=De,Qe=De);return it&&Br(J,Ue),Ee}for(De=u(De);Ue<se.length;Ue++)Bt=ae(De,J,Ue,se[Ue],ce),Bt!==null&&(t&&Bt.alternate!==null&&De.delete(Bt.key===null?Ue:Bt.key),Z=v(Bt,Z,Ue),Qe===null?Ee=Bt:Qe.sibling=Bt,Qe=Bt);return t&&De.forEach(function(pr){return s(J,pr)}),it&&Br(J,Ue),Ee}function Pe(J,Z,se,ce){if(se==null)throw Error(a(151));for(var Ee=null,Qe=null,De=Z,Ue=Z=0,Bt=null,ot=se.next();De!==null&&!ot.done;Ue++,ot=se.next()){De.index>Ue?(Bt=De,De=null):Bt=De.sibling;var pr=oe(J,De,ot.value,ce);if(pr===null){De===null&&(De=Bt);break}t&&De&&pr.alternate===null&&s(J,De),Z=v(pr,Z,Ue),Qe===null?Ee=pr:Qe.sibling=pr,Qe=pr,De=Bt}if(ot.done)return i(J,De),it&&Br(J,Ue),Ee;if(De===null){for(;!ot.done;Ue++,ot=se.next())ot=me(J,ot.value,ce),ot!==null&&(Z=v(ot,Z,Ue),Qe===null?Ee=ot:Qe.sibling=ot,Qe=ot);return it&&Br(J,Ue),Ee}for(De=u(De);!ot.done;Ue++,ot=se.next())ot=ae(De,J,Ue,ot.value,ce),ot!==null&&(t&&ot.alternate!==null&&De.delete(ot.key===null?Ue:ot.key),Z=v(ot,Z,Ue),Qe===null?Ee=ot:Qe.sibling=ot,Qe=ot);return t&&De.forEach(function(xE){return s(J,xE)}),it&&Br(J,Ue),Ee}function mt(J,Z,se,ce){if(typeof se=="object"&&se!==null&&se.type===S&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case x:e:{for(var Ee=se.key;Z!==null;){if(Z.key===Ee){if(Ee=se.type,Ee===S){if(Z.tag===7){i(J,Z.sibling),ce=p(Z,se.props.children),ce.return=J,J=ce;break e}}else if(Z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===P&&o0(Ee)===Z.type){i(J,Z.sibling),ce=p(Z,se.props),vi(ce,se),ce.return=J,J=ce;break e}i(J,Z);break}else s(J,Z);Z=Z.sibling}se.type===S?(ce=$r(se.props.children,J.mode,ce,se.key),ce.return=J,J=ce):(ce=Zl(se.type,se.key,se.props,null,J.mode,ce),vi(ce,se),ce.return=J,J=ce)}return A(J);case b:e:{for(Ee=se.key;Z!==null;){if(Z.key===Ee)if(Z.tag===4&&Z.stateNode.containerInfo===se.containerInfo&&Z.stateNode.implementation===se.implementation){i(J,Z.sibling),ce=p(Z,se.children||[]),ce.return=J,J=ce;break e}else{i(J,Z);break}else s(J,Z);Z=Z.sibling}ce=hf(se,J.mode,ce),ce.return=J,J=ce}return A(J);case P:return Ee=se._init,se=Ee(se._payload),mt(J,Z,se,ce)}if(U(se))return qe(J,Z,se,ce);if(G(se)){if(Ee=G(se),typeof Ee!="function")throw Error(a(150));return se=Ee.call(se),Pe(J,Z,se,ce)}if(typeof se.then=="function")return mt(J,Z,fc(se),ce);if(se.$$typeof===E)return mt(J,Z,Jl(J,se),ce);mc(J,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Z!==null&&Z.tag===6?(i(J,Z.sibling),ce=p(Z,se),ce.return=J,J=ce):(i(J,Z),ce=mf(se,J.mode,ce),ce.return=J,J=ce),A(J)):i(J,Z)}return function(J,Z,se,ce){try{yi=0;var Ee=mt(J,Z,se,ce);return Vo=null,Ee}catch(De){if(De===ci||De===tc)throw De;var Qe=un(29,De,null,J.mode);return Qe.lanes=ce,Qe.return=J,Qe}finally{}}}var qo=a0(!0),i0=a0(!1),En=$(null),Wn=null;function er(t){var s=t.alternate;V(zt,zt.current&1),V(En,t),Wn===null&&(s===null||$o.current!==null||s.memoizedState!==null)&&(Wn=t)}function l0(t){if(t.tag===22){if(V(zt,zt.current),V(En,t),Wn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Wn=t)}}else tr()}function tr(){V(zt,zt.current),V(En,En.current)}function Cs(t){Y(En),Wn===t&&(Wn=null),Y(zt)}var zt=$(0);function hc(t){for(var s=t;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Im(i)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Gf(t,s,i,u){s=t.memoizedState,i=i(u,s),i=i==null?s:g({},s,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Xf={enqueueSetState:function(t,s,i){t=t._reactInternals;var u=hn(),p=Ks(u);p.payload=s,i!=null&&(p.callback=i),s=Qs(t,p,u),s!==null&&(pn(s,t,u),di(s,t,u))},enqueueReplaceState:function(t,s,i){t=t._reactInternals;var u=hn(),p=Ks(u);p.tag=1,p.payload=s,i!=null&&(p.callback=i),s=Qs(t,p,u),s!==null&&(pn(s,t,u),di(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var i=hn(),u=Ks(i);u.tag=2,s!=null&&(u.callback=s),s=Qs(t,u,i),s!==null&&(pn(s,t,i),di(s,t,i))}};function c0(t,s,i,u,p,v,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,A):s.prototype&&s.prototype.isPureReactComponent?!ti(i,u)||!ti(p,v):!0}function u0(t,s,i,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,u),s.state!==t&&Xf.enqueueReplaceState(s,s.state,null)}function Xr(t,s){var i=s;if("ref"in s){i={};for(var u in s)u!=="ref"&&(i[u]=s[u])}if(t=t.defaultProps){i===s&&(i=g({},i));for(var p in t)i[p]===void 0&&(i[p]=t[p])}return i}var pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function d0(t){pc(t)}function f0(t){console.error(t)}function m0(t){pc(t)}function gc(t,s){try{var i=t.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function h0(t,s,i){try{var u=t.onCaughtError;u(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Zf(t,s,i){return i=Ks(i),i.tag=3,i.payload={element:null},i.callback=function(){gc(t,s)},i}function p0(t){return t=Ks(t),t.tag=3,t}function g0(t,s,i,u){var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;t.payload=function(){return p(v)},t.callback=function(){h0(s,i,u)}}var A=i.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){h0(s,i,u),typeof p!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})})}function x_(t,s,i,u,p){if(i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=i.alternate,s!==null&&ai(s,i,p,!0),i=En.current,i!==null){switch(i.tag){case 13:return Wn===null?vm():i.alternate===null&&_t===0&&(_t=3),i.flags&=-257,i.flags|=65536,i.lanes=p,u===jf?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([u]):s.add(u),wm(t,u,p)),!1;case 22:return i.flags|=65536,u===jf?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([u]):i.add(u)),wm(t,u,p)),!1}throw Error(a(435,i.tag))}return wm(t,u,p),vm(),!1}if(it)return s=En.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==xf&&(t=Error(a(422),{cause:u}),oi(Nn(t,i)))):(u!==xf&&(s=Error(a(423),{cause:u}),oi(Nn(s,i))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=Nn(u,i),p=Zf(t.stateNode,u,p),Cf(t,p),_t!==4&&(_t=2)),!1;var v=Error(a(520),{cause:u});if(v=Nn(v,i),Ei===null?Ei=[v]:Ei.push(v),_t!==4&&(_t=2),s===null)return!0;u=Nn(u,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,t=p&-p,i.lanes|=t,t=Zf(i.stateNode,u,t),Cf(i,t),!1;case 1:if(s=i.type,v=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ir===null||!ir.has(v))))return i.flags|=65536,p&=-p,i.lanes|=p,p=p0(p),g0(p,t,i,u),Cf(i,p),!1}i=i.return}while(i!==null);return!1}var x0=Error(a(461)),$t=!1;function Ut(t,s,i,u){s.child=t===null?i0(s,null,i,u):qo(s,t.child,i,u)}function y0(t,s,i,u,p){i=i.render;var v=s.ref;if("ref"in u){var A={};for(var z in u)z!=="ref"&&(A[z]=u[z])}else A=u;return Fr(s),u=Rf(t,s,i,A,v,p),z=Df(),t!==null&&!$t?(Of(t,s,p),ks(t,s,p)):(it&&z&&pf(s),s.flags|=1,Ut(t,s,u,p),s.child)}function v0(t,s,i,u,p){if(t===null){var v=i.type;return typeof v=="function"&&!ff(v)&&v.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=v,b0(t,s,v,u,p)):(t=Zl(i.type,null,u,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(v=t.child,!sm(t,p)){var A=v.memoizedProps;if(i=i.compare,i=i!==null?i:ti,i(A,u)&&t.ref===s.ref)return ks(t,s,p)}return s.flags|=1,t=ws(v,u),t.ref=s.ref,t.return=s,s.child=t}function b0(t,s,i,u,p){if(t!==null){var v=t.memoizedProps;if(ti(v,u)&&t.ref===s.ref)if($t=!1,s.pendingProps=u=v,sm(t,p))(t.flags&131072)!==0&&($t=!0);else return s.lanes=t.lanes,ks(t,s,p)}return Wf(t,s,i,u,p)}function w0(t,s,i){var u=s.pendingProps,p=u.children,v=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=v!==null?v.baseLanes|i:i,t!==null){for(p=s.child=t.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;s.childLanes=v&~u}else s.childLanes=0,s.child=null;return N0(t,s,u,i)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(s,v!==null?v.cachePool:null),v!==null?bx(s,v):Af(),l0(s);else return s.lanes=s.childLanes=536870912,N0(t,s,v!==null?v.baseLanes|i:i,i)}else v!==null?(ec(s,v.cachePool),bx(s,v),tr(),s.memoizedState=null):(t!==null&&ec(s,null),Af(),tr());return Ut(t,s,p,i),s.child}function N0(t,s,i,u){var p=Sf();return p=p===null?null:{parent:Ot._currentValue,pool:p},s.memoizedState={baseLanes:i,cachePool:p},t!==null&&ec(s,null),Af(),l0(s),t!==null&&ai(t,s,u,!0),null}function xc(t,s){var i=s.ref;if(i===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(t===null||t.ref!==i)&&(s.flags|=4194816)}}function Wf(t,s,i,u,p){return Fr(s),i=Rf(t,s,i,u,void 0,p),u=Df(),t!==null&&!$t?(Of(t,s,p),ks(t,s,p)):(it&&u&&pf(s),s.flags|=1,Ut(t,s,i,p),s.child)}function S0(t,s,i,u,p,v){return Fr(s),s.updateQueue=null,i=Nx(s,u,i,p),wx(t),u=Df(),t!==null&&!$t?(Of(t,s,v),ks(t,s,v)):(it&&u&&pf(s),s.flags|=1,Ut(t,s,i,v),s.child)}function j0(t,s,i,u,p){if(Fr(s),s.stateNode===null){var v=Oo,A=i.contextType;typeof A=="object"&&A!==null&&(v=Zt(A)),v=new i(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Xf,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},_f(s),A=i.contextType,v.context=typeof A=="object"&&A!==null?Zt(A):Oo,v.state=s.memoizedState,A=i.getDerivedStateFromProps,typeof A=="function"&&(Gf(s,i,A,u),v.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Xf.enqueueReplaceState(v,v.state,null),mi(s,u,v,p),fi(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){v=s.stateNode;var z=s.memoizedProps,F=Xr(i,z);v.props=F;var re=v.context,le=i.contextType;A=Oo,typeof le=="object"&&le!==null&&(A=Zt(le));var me=i.getDerivedStateFromProps;le=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",z=s.pendingProps!==z,le||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(z||re!==A)&&u0(s,v,u,A),Ws=!1;var oe=s.memoizedState;v.state=oe,mi(s,u,v,p),fi(),re=s.memoizedState,z||oe!==re||Ws?(typeof me=="function"&&(Gf(s,i,me,u),re=s.memoizedState),(F=Ws||c0(s,i,F,u,oe,re,A))?(le||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=re),v.props=u,v.state=re,v.context=A,u=F):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Ef(t,s),A=s.memoizedProps,le=Xr(i,A),v.props=le,me=s.pendingProps,oe=v.context,re=i.contextType,F=Oo,typeof re=="object"&&re!==null&&(F=Zt(re)),z=i.getDerivedStateFromProps,(re=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==me||oe!==F)&&u0(s,v,u,F),Ws=!1,oe=s.memoizedState,v.state=oe,mi(s,u,v,p),fi();var ae=s.memoizedState;A!==me||oe!==ae||Ws||t!==null&&t.dependencies!==null&&Ql(t.dependencies)?(typeof z=="function"&&(Gf(s,i,z,u),ae=s.memoizedState),(le=Ws||c0(s,i,le,u,oe,ae,F)||t!==null&&t.dependencies!==null&&Ql(t.dependencies))?(re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,F)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===t.memoizedProps&&oe===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&oe===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ae),v.props=u,v.state=ae,v.context=F,u=le):(typeof v.componentDidUpdate!="function"||A===t.memoizedProps&&oe===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&oe===t.memoizedState||(s.flags|=1024),u=!1)}return v=u,xc(t,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,i=u&&typeof i.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,t!==null&&u?(s.child=qo(s,t.child,null,p),s.child=qo(s,null,i,p)):Ut(t,s,i,p),s.memoizedState=v.state,t=s.child):t=ks(t,s,p),t}function _0(t,s,i,u){return ri(),s.flags|=256,Ut(t,s,i,u),s.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:fx()}}function Jf(t,s,i){return t=t!==null?t.childLanes&~i:0,s&&(t|=Cn),t}function E0(t,s,i){var u=s.pendingProps,p=!1,v=(s.flags&128)!==0,A;if((A=v)||(A=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),A&&(p=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,t===null){if(it){if(p?er(s):tr(),it){var z=jt,F;if(F=z){e:{for(F=z,z=Zn;F.nodeType!==8;){if(!z){z=null;break e}if(F=Ln(F.nextSibling),F===null){z=null;break e}}z=F}z!==null?(s.memoizedState={dehydrated:z,treeContext:Pr!==null?{id:Ns,overflow:Ss}:null,retryLane:536870912,hydrationErrors:null},F=un(18,null,null,0),F.stateNode=z,F.return=s,s.child=F,Kt=s,jt=null,F=!0):F=!1}F||Vr(s)}if(z=s.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Im(z)?s.lanes=32:s.lanes=536870912,null;Cs(s)}return z=u.children,u=u.fallback,p?(tr(),p=s.mode,z=yc({mode:"hidden",children:z},p),u=$r(u,p,i,null),z.return=s,u.return=s,z.sibling=u,s.child=z,p=s.child,p.memoizedState=Qf(i),p.childLanes=Jf(t,A,i),s.memoizedState=Kf,u):(er(s),em(s,z))}if(F=t.memoizedState,F!==null&&(z=F.dehydrated,z!==null)){if(v)s.flags&256?(er(s),s.flags&=-257,s=tm(t,s,i)):s.memoizedState!==null?(tr(),s.child=t.child,s.flags|=128,s=null):(tr(),p=u.fallback,z=s.mode,u=yc({mode:"visible",children:u.children},z),p=$r(p,z,i,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,qo(s,t.child,null,i),u=s.child,u.memoizedState=Qf(i),u.childLanes=Jf(t,A,i),s.memoizedState=Kf,s=p);else if(er(s),Im(z)){if(A=z.nextSibling&&z.nextSibling.dataset,A)var re=A.dgst;A=re,u=Error(a(419)),u.stack="",u.digest=A,oi({value:u,source:null,stack:null}),s=tm(t,s,i)}else if($t||ai(t,s,i,!1),A=(i&t.childLanes)!==0,$t||A){if(A=gt,A!==null&&(u=i&-i,u=(u&42)!==0?1:Ha(u),u=(u&(A.suspendedLanes|i))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,Do(t,u),pn(A,t,u),x0;z.data==="$?"||vm(),s=tm(t,s,i)}else z.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=F.treeContext,jt=Ln(z.nextSibling),Kt=s,it=!0,Ur=null,Zn=!1,t!==null&&(jn[_n++]=Ns,jn[_n++]=Ss,jn[_n++]=Pr,Ns=t.id,Ss=t.overflow,Pr=s),s=em(s,u.children),s.flags|=4096);return s}return p?(tr(),p=u.fallback,z=s.mode,F=t.child,re=F.sibling,u=ws(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,re!==null?p=ws(re,p):(p=$r(p,z,i,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,z=t.child.memoizedState,z===null?z=Qf(i):(F=z.cachePool,F!==null?(re=Ot._currentValue,F=F.parent!==re?{parent:re,pool:re}:F):F=fx(),z={baseLanes:z.baseLanes|i,cachePool:F}),p.memoizedState=z,p.childLanes=Jf(t,A,i),s.memoizedState=Kf,u):(er(s),i=t.child,t=i.sibling,i=ws(i,{mode:"visible",children:u.children}),i.return=s,i.sibling=null,t!==null&&(A=s.deletions,A===null?(s.deletions=[t],s.flags|=16):A.push(t)),s.child=i,s.memoizedState=null,i)}function em(t,s){return s=yc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function yc(t,s){return t=un(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function tm(t,s,i){return qo(s,t.child,null,i),t=em(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function C0(t,s,i){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),vf(t.return,s,i)}function nm(t,s,i,u,p){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=i,v.tailMode=p)}function k0(t,s,i){var u=s.pendingProps,p=u.revealOrder,v=u.tail;if(Ut(t,s,u.children,i),u=zt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C0(t,i,s);else if(t.tag===19)C0(t,i,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(V(zt,u),p){case"forwards":for(i=s.child,p=null;i!==null;)t=i.alternate,t!==null&&hc(t)===null&&(p=i),i=i.sibling;i=p,i===null?(p=s.child,s.child=null):(p=i.sibling,i.sibling=null),nm(s,!1,p,i,v);break;case"backwards":for(i=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&hc(t)===null){s.child=p;break}t=p.sibling,p.sibling=i,i=p,p=t}nm(s,!0,i,null,v);break;case"together":nm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ks(t,s,i){if(t!==null&&(s.dependencies=t.dependencies),ar|=s.lanes,(i&s.childLanes)===0)if(t!==null){if(ai(t,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,i=ws(t,t.pendingProps),s.child=i,i.return=s;t.sibling!==null;)t=t.sibling,i=i.sibling=ws(t,t.pendingProps),i.return=s;i.sibling=null}return s.child}function sm(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Ql(t)))}function y_(t,s,i){switch(s.tag){case 3:ie(s,s.stateNode.containerInfo),Zs(s,Ot,t.memoizedState.cache),ri();break;case 27:case 5:ve(s);break;case 4:ie(s,s.stateNode.containerInfo);break;case 10:Zs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(er(s),s.flags|=128,null):(i&s.child.childLanes)!==0?E0(t,s,i):(er(s),t=ks(t,s,i),t!==null?t.sibling:null);er(s);break;case 19:var p=(t.flags&128)!==0;if(u=(i&s.childLanes)!==0,u||(ai(t,s,i,!1),u=(i&s.childLanes)!==0),p){if(u)return k0(t,s,i);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),V(zt,zt.current),u)break;return null;case 22:case 23:return s.lanes=0,w0(t,s,i);case 24:Zs(s,Ot,t.memoizedState.cache)}return ks(t,s,i)}function A0(t,s,i){if(t!==null)if(t.memoizedProps!==s.pendingProps)$t=!0;else{if(!sm(t,i)&&(s.flags&128)===0)return $t=!1,y_(t,s,i);$t=(t.flags&131072)!==0}else $t=!1,it&&(s.flags&1048576)!==0&&ox(s,Kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")ff(u)?(t=Xr(u,t),s.tag=1,s=j0(null,s,u,t,i)):(s.tag=0,s=Wf(null,s,u,t,i));else{if(u!=null){if(p=u.$$typeof,p===T){s.tag=11,s=y0(null,s,u,t,i);break e}else if(p===O){s.tag=14,s=v0(null,s,u,t,i);break e}}throw s=B(u)||u,Error(a(306,s,""))}}return s;case 0:return Wf(t,s,s.type,s.pendingProps,i);case 1:return u=s.type,p=Xr(u,s.pendingProps),j0(t,s,u,p,i);case 3:e:{if(ie(s,s.stateNode.containerInfo),t===null)throw Error(a(387));u=s.pendingProps;var v=s.memoizedState;p=v.element,Ef(t,s),mi(s,u,null,i);var A=s.memoizedState;if(u=A.cache,Zs(s,Ot,u),u!==v.cache&&bf(s,[Ot],i,!0),fi(),u=A.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=_0(t,s,u,i);break e}else if(u!==p){p=Nn(Error(a(424)),s),oi(p),s=_0(t,s,u,i);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(jt=Ln(t.firstChild),Kt=s,it=!0,Ur=null,Zn=!0,i=i0(s,null,u,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ri(),u===p){s=ks(t,s,i);break e}Ut(t,s,u,i)}s=s.child}return s;case 26:return xc(t,s),t===null?(i=Dy(s.type,null,s.pendingProps,null))?s.memoizedState=i:it||(i=s.type,t=s.pendingProps,u=Rc(ue.current).createElement(i),u[Ht]=s,u[Xt]=t,qt(u,i,t),Mt(u),s.stateNode=u):s.memoizedState=Dy(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ve(s),t===null&&it&&(u=s.stateNode=My(s.type,s.pendingProps,ue.current),Kt=s,Zn=!0,p=jt,ur(s.type)?(Lm=p,jt=Ln(u.firstChild)):jt=p),Ut(t,s,s.pendingProps.children,i),xc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&it&&((p=u=jt)&&(u=Y_(u,s.type,s.pendingProps,Zn),u!==null?(s.stateNode=u,Kt=s,jt=Ln(u.firstChild),Zn=!1,p=!0):p=!1),p||Vr(s)),ve(s),p=s.type,v=s.pendingProps,A=t!==null?t.memoizedProps:null,u=v.children,Dm(p,v)?u=null:A!==null&&Dm(p,A)&&(s.flags|=32),s.memoizedState!==null&&(p=Rf(t,s,u_,null,null,i),zi._currentValue=p),xc(t,s),Ut(t,s,u,i),s.child;case 6:return t===null&&it&&((t=i=jt)&&(i=G_(i,s.pendingProps,Zn),i!==null?(s.stateNode=i,Kt=s,jt=null,t=!0):t=!1),t||Vr(s)),null;case 13:return E0(t,s,i);case 4:return ie(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=qo(s,null,u,i):Ut(t,s,u,i),s.child;case 11:return y0(t,s,s.type,s.pendingProps,i);case 7:return Ut(t,s,s.pendingProps,i),s.child;case 8:return Ut(t,s,s.pendingProps.children,i),s.child;case 12:return Ut(t,s,s.pendingProps.children,i),s.child;case 10:return u=s.pendingProps,Zs(s,s.type,u.value),Ut(t,s,u.children,i),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Fr(s),p=Zt(p),u=u(p),s.flags|=1,Ut(t,s,u,i),s.child;case 14:return v0(t,s,s.type,s.pendingProps,i);case 15:return b0(t,s,s.type,s.pendingProps,i);case 19:return k0(t,s,i);case 31:return u=s.pendingProps,i=s.mode,u={mode:u.mode,children:u.children},t===null?(i=yc(u,i),i.ref=s.ref,s.child=i,i.return=s,s=i):(i=ws(t.child,u),i.ref=s.ref,s.child=i,i.return=s,s=i),s;case 22:return w0(t,s,i);case 24:return Fr(s),u=Zt(Ot),t===null?(p=Sf(),p===null&&(p=gt,v=wf(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=i),p=v),s.memoizedState={parent:u,cache:p},_f(s),Zs(s,Ot,p)):((t.lanes&i)!==0&&(Ef(t,s),mi(s,null,null,i),fi()),p=t.memoizedState,v=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Zs(s,Ot,u)):(u=v.cache,Zs(s,Ot,u),u!==p.cache&&bf(s,[Ot],i,!0))),Ut(t,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function As(t){t.flags|=4}function M0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(s)){if(s=En.current,s!==null&&((st&4194048)===st?Wn!==null:(st&62914560)!==st&&(st&536870912)===0||s!==Wn))throw ui=jf,mx;t.flags|=8192}}function vc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?at():536870912,t.lanes|=s,Xo|=s)}function bi(t,s){if(!it)switch(t.tailMode){case"hidden":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function St(t){var s=t.alternate!==null&&t.alternate.child===t.child,i=0,u=0;if(s)for(var p=t.child;p!==null;)i|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)i|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=i,s}function v_(t,s,i){var u=s.pendingProps;switch(gf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return i=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),_s(Ot),xe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(si(s)?As(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lx())),St(s),null;case 26:return i=s.memoizedState,t===null?(As(s),i!==null?(St(s),M0(s,i)):(St(s),s.flags&=-16777217)):i?i!==t.memoizedState?(As(s),St(s),M0(s,i)):(St(s),s.flags&=-16777217):(t.memoizedProps!==u&&As(s),St(s),s.flags&=-16777217),null;case 27:be(s),i=ue.current;var p=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==u&&As(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return St(s),null}t=K.current,si(s)?ax(s):(t=My(p,u,i),s.stateNode=t,As(s))}return St(s),null;case 5:if(be(s),i=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&As(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return St(s),null}if(t=K.current,si(s))ax(s);else{switch(p=Rc(ue.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?p.createElement(i,{is:u.is}):p.createElement(i)}}t[Ht]=s,t[Xt]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=t;e:switch(qt(t,i,u),i){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&As(s)}}return St(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&As(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(t=ue.current,si(s)){if(t=s.stateNode,i=s.memoizedProps,u=null,p=Kt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[Ht]=s,t=!!(t.nodeValue===i||u!==null&&u.suppressHydrationWarning===!0||Sy(t.nodeValue,i)),t||Vr(s)}else t=Rc(t).createTextNode(u),t[Ht]=s,s.stateNode=t}return St(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=si(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Ht]=s}else ri(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),p=!1}else p=lx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Cs(s),s):(Cs(s),null)}if(Cs(s),(s.flags&128)!==0)return s.lanes=i,s;if(i=u!==null,t=t!==null&&t.memoizedState!==null,i){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)}return i!==t&&i&&(s.child.flags|=8192),vc(s,s.updateQueue),St(s),null;case 4:return xe(),t===null&&km(s.stateNode.containerInfo),St(s),null;case 10:return _s(s.type),St(s),null;case 19:if(Y(zt),p=s.memoizedState,p===null)return St(s),null;if(u=(s.flags&128)!==0,v=p.rendering,v===null)if(u)bi(p,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(v=hc(t),v!==null){for(s.flags|=128,bi(p,!1),t=v.updateQueue,s.updateQueue=t,vc(s,t),s.subtreeFlags=0,t=i,i=s.child;i!==null;)rx(i,t),i=i.sibling;return V(zt,zt.current&1|2),s.child}t=t.sibling}p.tail!==null&&ye()>Nc&&(s.flags|=128,u=!0,bi(p,!1),s.lanes=4194304)}else{if(!u)if(t=hc(v),t!==null){if(s.flags|=128,u=!0,t=t.updateQueue,s.updateQueue=t,vc(s,t),bi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!it)return St(s),null}else 2*ye()-p.renderingStartTime>Nc&&i!==536870912&&(s.flags|=128,u=!0,bi(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(t=p.last,t!==null?t.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=ye(),s.sibling=null,t=zt.current,V(zt,u?t&1|2:t&1),s):(St(s),null);case 22:case 23:return Cs(s),Mf(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(i&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),i=s.updateQueue,i!==null&&vc(s,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==i&&(s.flags|=2048),t!==null&&Y(Yr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),_s(Ot),St(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function b_(t,s){switch(gf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return _s(Ot),xe(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return be(s),null;case 13:if(Cs(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ri()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Y(zt),null;case 4:return xe(),null;case 10:return _s(s.type),null;case 22:case 23:return Cs(s),Mf(),t!==null&&Y(Yr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return _s(Ot),null;case 25:return null;default:return null}}function T0(t,s){switch(gf(s),s.tag){case 3:_s(Ot),xe();break;case 26:case 27:case 5:be(s);break;case 4:xe();break;case 13:Cs(s);break;case 19:Y(zt);break;case 10:_s(s.type);break;case 22:case 23:Cs(s),Mf(),t!==null&&Y(Yr);break;case 24:_s(Ot)}}function wi(t,s){try{var i=s.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var p=u.next;i=p;do{if((i.tag&t)===t){u=void 0;var v=i.create,A=i.inst;u=v(),A.destroy=u}i=i.next}while(i!==p)}}catch(z){pt(s,s.return,z)}}function nr(t,s,i){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&t)===t){var A=u.inst,z=A.destroy;if(z!==void 0){A.destroy=void 0,p=s;var F=i,re=z;try{re()}catch(le){pt(p,F,le)}}}u=u.next}while(u!==v)}}catch(le){pt(s,s.return,le)}}function R0(t){var s=t.updateQueue;if(s!==null){var i=t.stateNode;try{vx(s,i)}catch(u){pt(t,t.return,u)}}}function D0(t,s,i){i.props=Xr(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(u){pt(t,s,u)}}function Ni(t,s){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof i=="function"?t.refCleanup=i(u):i.current=u}}catch(p){pt(t,s,p)}}function Kn(t,s){var i=t.ref,u=t.refCleanup;if(i!==null)if(typeof u=="function")try{u()}catch(p){pt(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(p){pt(t,s,p)}else i.current=null}function O0(t){var s=t.type,i=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&u.focus();break e;case"img":i.src?u.src=i.src:i.srcSet&&(u.srcset=i.srcSet)}}catch(p){pt(t,t.return,p)}}function rm(t,s,i){try{var u=t.stateNode;B_(u,t.type,i,s),u[Xt]=s}catch(p){pt(t,t.return,p)}}function z0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,s,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(t),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Tc));else if(u!==4&&(u===27&&ur(t.type)&&(i=t.stateNode,s=null),t=t.child,t!==null))for(am(t,s,i),t=t.sibling;t!==null;)am(t,s,i),t=t.sibling}function bc(t,s,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?i.insertBefore(t,s):i.appendChild(t);else if(u!==4&&(u===27&&ur(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(bc(t,s,i),t=t.sibling;t!==null;)bc(t,s,i),t=t.sibling}function I0(t){var s=t.stateNode,i=t.memoizedProps;try{for(var u=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);qt(s,u,i),s[Ht]=t,s[Xt]=i}catch(v){pt(t,t.return,v)}}var Ms=!1,kt=!1,im=!1,L0=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function w_(t,s){if(t=t.containerInfo,Tm=Hc,t=Xg(t),rf(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{i.nodeType,v.nodeType}catch{i=null;break e}var A=0,z=-1,F=-1,re=0,le=0,me=t,oe=null;t:for(;;){for(var ae;me!==i||p!==0&&me.nodeType!==3||(z=A+p),me!==v||u!==0&&me.nodeType!==3||(F=A+u),me.nodeType===3&&(A+=me.nodeValue.length),(ae=me.firstChild)!==null;)oe=me,me=ae;for(;;){if(me===t)break t;if(oe===i&&++re===p&&(z=A),oe===v&&++le===u&&(F=A),(ae=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=ae}i=z===-1||F===-1?null:{start:z,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(Rm={focusedElem:t,selectionRange:i},Hc=!1,Pt=s;Pt!==null;)if(s=Pt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Pt=t;else for(;Pt!==null;){switch(s=Pt,v=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,i=s,p=v.memoizedProps,v=v.memoizedState,u=i.stateNode;try{var qe=Xr(i.type,p,i.elementType===i.type);t=u.getSnapshotBeforeUpdate(qe,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){pt(i,i.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,i=t.nodeType,i===9)zm(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,Pt=t;break}Pt=s.return}}function H0(t,s,i){var u=i.flags;switch(i.tag){case 0:case 11:case 15:sr(t,i),u&4&&wi(5,i);break;case 1:if(sr(t,i),u&4)if(t=i.stateNode,s===null)try{t.componentDidMount()}catch(A){pt(i,i.return,A)}else{var p=Xr(i.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(A){pt(i,i.return,A)}}u&64&&R0(i),u&512&&Ni(i,i.return);break;case 3:if(sr(t,i),u&64&&(t=i.updateQueue,t!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{vx(t,s)}catch(A){pt(i,i.return,A)}}break;case 27:s===null&&u&4&&I0(i);case 26:case 5:sr(t,i),s===null&&u&4&&O0(i),u&512&&Ni(i,i.return);break;case 12:sr(t,i);break;case 13:sr(t,i),u&4&&B0(t,i),u&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=M_.bind(null,i),X_(t,i))));break;case 22:if(u=i.memoizedState!==null||Ms,!u){s=s!==null&&s.memoizedState!==null||kt,p=Ms;var v=kt;Ms=u,(kt=s)&&!v?rr(t,i,(i.subtreeFlags&8772)!==0):sr(t,i),Ms=p,kt=v}break;case 30:break;default:sr(t,i)}}function $0(t){var s=t.alternate;s!==null&&(t.alternate=null,$0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ba(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,on=!1;function Ts(t,s,i){for(i=i.child;i!==null;)P0(t,s,i),i=i.sibling}function P0(t,s,i){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount($e,i)}catch{}switch(i.tag){case 26:kt||Kn(i,s),Ts(t,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:kt||Kn(i,s);var u=vt,p=on;ur(i.type)&&(vt=i.stateNode,on=!1),Ts(t,s,i),Ti(i.stateNode),vt=u,on=p;break;case 5:kt||Kn(i,s);case 6:if(u=vt,p=on,vt=null,Ts(t,s,i),vt=u,on=p,vt!==null)if(on)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(i.stateNode)}catch(v){pt(i,s,v)}else try{vt.removeChild(i.stateNode)}catch(v){pt(i,s,v)}break;case 18:vt!==null&&(on?(t=vt,ky(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),$i(t)):ky(vt,i.stateNode));break;case 4:u=vt,p=on,vt=i.stateNode.containerInfo,on=!0,Ts(t,s,i),vt=u,on=p;break;case 0:case 11:case 14:case 15:kt||nr(2,i,s),kt||nr(4,i,s),Ts(t,s,i);break;case 1:kt||(Kn(i,s),u=i.stateNode,typeof u.componentWillUnmount=="function"&&D0(i,s,u)),Ts(t,s,i);break;case 21:Ts(t,s,i);break;case 22:kt=(u=kt)||i.memoizedState!==null,Ts(t,s,i),kt=u;break;default:Ts(t,s,i)}}function B0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$i(t)}catch(i){pt(s,s.return,i)}}function N_(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new L0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new L0),s;default:throw Error(a(435,t.tag))}}function lm(t,s){var i=N_(t);s.forEach(function(u){var p=T_.bind(null,t,u);i.has(u)||(i.add(u),u.then(p,p))})}function dn(t,s){var i=s.deletions;if(i!==null)for(var u=0;u<i.length;u++){var p=i[u],v=t,A=s,z=A;e:for(;z!==null;){switch(z.tag){case 27:if(ur(z.type)){vt=z.stateNode,on=!1;break e}break;case 5:vt=z.stateNode,on=!1;break e;case 3:case 4:vt=z.stateNode.containerInfo,on=!0;break e}z=z.return}if(vt===null)throw Error(a(160));P0(v,A,p),vt=null,on=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)U0(s,t),s=s.sibling}var In=null;function U0(t,s){var i=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(s,t),fn(t),u&4&&(nr(3,t,t.return),wi(3,t),nr(5,t,t.return));break;case 1:dn(s,t),fn(t),u&512&&(kt||i===null||Kn(i,i.return)),u&64&&Ms&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?u:i.concat(u))));break;case 26:var p=In;if(dn(s,t),fn(t),u&512&&(kt||i===null||Kn(i,i.return)),u&4){var v=i!==null?i.memoizedState:null;if(u=t.memoizedState,i===null)if(u===null)if(t.stateNode===null){e:{u=t.type,i=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Or]||v[Ht]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),qt(v,u,i),v[Ht]=t,Mt(v),u=v;break e;case"link":var A=Iy("link","href",p).get(u+(i.href||""));if(A){for(var z=0;z<A.length;z++)if(v=A[z],v.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&v.getAttribute("rel")===(i.rel==null?null:i.rel)&&v.getAttribute("title")===(i.title==null?null:i.title)&&v.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){A.splice(z,1);break t}}v=p.createElement(u),qt(v,u,i),p.head.appendChild(v);break;case"meta":if(A=Iy("meta","content",p).get(u+(i.content||""))){for(z=0;z<A.length;z++)if(v=A[z],v.getAttribute("content")===(i.content==null?null:""+i.content)&&v.getAttribute("name")===(i.name==null?null:i.name)&&v.getAttribute("property")===(i.property==null?null:i.property)&&v.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&v.getAttribute("charset")===(i.charSet==null?null:i.charSet)){A.splice(z,1);break t}}v=p.createElement(u),qt(v,u,i),p.head.appendChild(v);break;default:throw Error(a(468,u))}v[Ht]=t,Mt(v),u=v}t.stateNode=u}else Ly(p,t.type,t.stateNode);else t.stateNode=zy(p,u,t.memoizedProps);else v!==u?(v===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):v.count--,u===null?Ly(p,t.type,t.stateNode):zy(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&rm(t,t.memoizedProps,i.memoizedProps)}break;case 27:dn(s,t),fn(t),u&512&&(kt||i===null||Kn(i,i.return)),i!==null&&u&4&&rm(t,t.memoizedProps,i.memoizedProps);break;case 5:if(dn(s,t),fn(t),u&512&&(kt||i===null||Kn(i,i.return)),t.flags&32){p=t.stateNode;try{Eo(p,"")}catch(ae){pt(t,t.return,ae)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,rm(t,p,i!==null?i.memoizedProps:p)),u&1024&&(im=!0);break;case 6:if(dn(s,t),fn(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,i=t.stateNode;try{i.nodeValue=u}catch(ae){pt(t,t.return,ae)}}break;case 3:if(zc=null,p=In,In=Dc(s.containerInfo),dn(s,t),In=p,fn(t),u&4&&i!==null&&i.memoizedState.isDehydrated)try{$i(s.containerInfo)}catch(ae){pt(t,t.return,ae)}im&&(im=!1,V0(t));break;case 4:u=In,In=Dc(t.stateNode.containerInfo),dn(s,t),fn(t),In=u;break;case 12:dn(s,t),fn(t);break;case 13:dn(s,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(hm=ye()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,lm(t,u)));break;case 22:p=t.memoizedState!==null;var F=i!==null&&i.memoizedState!==null,re=Ms,le=kt;if(Ms=re||p,kt=le||F,dn(s,t),kt=le,Ms=re,fn(t),u&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(i===null||F||Ms||kt||Zr(t)),i=null,s=t;;){if(s.tag===5||s.tag===26){if(i===null){F=i=s;try{if(v=F.stateNode,p)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{z=F.stateNode;var me=F.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;z.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ae){pt(F,F.return,ae)}}}else if(s.tag===6){if(i===null){F=s;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(ae){pt(F,F.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(i=u.retryQueue,i!==null&&(u.retryQueue=null,lm(t,i))));break;case 19:dn(s,t),fn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,lm(t,u)));break;case 30:break;case 21:break;default:dn(s,t),fn(t)}}function fn(t){var s=t.flags;if(s&2){try{for(var i,u=t.return;u!==null;){if(z0(u)){i=u;break}u=u.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var p=i.stateNode,v=om(t);bc(t,v,p);break;case 5:var A=i.stateNode;i.flags&32&&(Eo(A,""),i.flags&=-33);var z=om(t);bc(t,z,A);break;case 3:case 4:var F=i.stateNode.containerInfo,re=om(t);am(t,re,F);break;default:throw Error(a(161))}}catch(le){pt(t,t.return,le)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function V0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;V0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function sr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)H0(t,s.alternate,s),s=s.sibling}function Zr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:nr(4,s,s.return),Zr(s);break;case 1:Kn(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&D0(s,s.return,i),Zr(s);break;case 27:Ti(s.stateNode);case 26:case 5:Kn(s,s.return),Zr(s);break;case 22:s.memoizedState===null&&Zr(s);break;case 30:Zr(s);break;default:Zr(s)}t=t.sibling}}function rr(t,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=t,v=s,A=v.flags;switch(v.tag){case 0:case 11:case 15:rr(p,v,i),wi(4,v);break;case 1:if(rr(p,v,i),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(re){pt(u,u.return,re)}if(u=v,p=u.updateQueue,p!==null){var z=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)yx(F[p],z)}catch(re){pt(u,u.return,re)}}i&&A&64&&R0(v),Ni(v,v.return);break;case 27:I0(v);case 26:case 5:rr(p,v,i),i&&u===null&&A&4&&O0(v),Ni(v,v.return);break;case 12:rr(p,v,i);break;case 13:rr(p,v,i),i&&A&4&&B0(p,v);break;case 22:v.memoizedState===null&&rr(p,v,i),Ni(v,v.return);break;case 30:break;default:rr(p,v,i)}s=s.sibling}}function cm(t,s){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ii(i))}function um(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ii(t))}function Qn(t,s,i,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q0(t,s,i,u),s=s.sibling}function q0(t,s,i,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Qn(t,s,i,u),p&2048&&wi(9,s);break;case 1:Qn(t,s,i,u);break;case 3:Qn(t,s,i,u),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ii(t)));break;case 12:if(p&2048){Qn(t,s,i,u),t=s.stateNode;try{var v=s.memoizedProps,A=v.id,z=v.onPostCommit;typeof z=="function"&&z(A,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){pt(s,s.return,F)}}else Qn(t,s,i,u);break;case 13:Qn(t,s,i,u);break;case 23:break;case 22:v=s.stateNode,A=s.alternate,s.memoizedState!==null?v._visibility&2?Qn(t,s,i,u):Si(t,s):v._visibility&2?Qn(t,s,i,u):(v._visibility|=2,Fo(t,s,i,u,(s.subtreeFlags&10256)!==0)),p&2048&&cm(A,s);break;case 24:Qn(t,s,i,u),p&2048&&um(s.alternate,s);break;default:Qn(t,s,i,u)}}function Fo(t,s,i,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=t,A=s,z=i,F=u,re=A.flags;switch(A.tag){case 0:case 11:case 15:Fo(v,A,z,F,p),wi(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?Fo(v,A,z,F,p):Si(v,A):(le._visibility|=2,Fo(v,A,z,F,p)),p&&re&2048&&cm(A.alternate,A);break;case 24:Fo(v,A,z,F,p),p&&re&2048&&um(A.alternate,A);break;default:Fo(v,A,z,F,p)}s=s.sibling}}function Si(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=t,u=s,p=u.flags;switch(u.tag){case 22:Si(i,u),p&2048&&cm(u.alternate,u);break;case 24:Si(i,u),p&2048&&um(u.alternate,u);break;default:Si(i,u)}s=s.sibling}}var ji=8192;function Yo(t){if(t.subtreeFlags&ji)for(t=t.child;t!==null;)F0(t),t=t.sibling}function F0(t){switch(t.tag){case 26:Yo(t),t.flags&ji&&t.memoizedState!==null&&iE(In,t.memoizedState,t.memoizedProps);break;case 5:Yo(t);break;case 3:case 4:var s=In;In=Dc(t.stateNode.containerInfo),Yo(t),In=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=ji,ji=16777216,Yo(t),ji=s):Yo(t));break;default:Yo(t)}}function Y0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function _i(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var u=s[i];Pt=u,X0(u,t)}Y0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)G0(t),t=t.sibling}function G0(t){switch(t.tag){case 0:case 11:case 15:_i(t),t.flags&2048&&nr(9,t,t.return);break;case 3:_i(t);break;case 12:_i(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,wc(t)):_i(t);break;default:_i(t)}}function wc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var u=s[i];Pt=u,X0(u,t)}Y0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:nr(8,s,s.return),wc(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,wc(s));break;default:wc(s)}t=t.sibling}}function X0(t,s){for(;Pt!==null;){var i=Pt;switch(i.tag){case 0:case 11:case 15:nr(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var u=i.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ii(i.memoizedState.cache)}if(u=i.child,u!==null)u.return=i,Pt=u;else e:for(i=t;Pt!==null;){u=Pt;var p=u.sibling,v=u.return;if($0(u),u===i){Pt=null;break e}if(p!==null){p.return=v,Pt=p;break e}Pt=v}}}var S_={getCacheForType:function(t){var s=Zt(Ot),i=s.data.get(t);return i===void 0&&(i=t(),s.data.set(t,i)),i}},j_=typeof WeakMap=="function"?WeakMap:Map,ct=0,gt=null,et=null,st=0,ut=0,mn=null,or=!1,Go=!1,dm=!1,Rs=0,_t=0,ar=0,Wr=0,fm=0,Cn=0,Xo=0,Ei=null,an=null,mm=!1,hm=0,Nc=1/0,Sc=null,ir=null,Vt=0,lr=null,Zo=null,Wo=0,pm=0,gm=null,Z0=null,Ci=0,xm=null;function hn(){if((ct&2)!==0&&st!==0)return st&-st;if(k.T!==null){var t=Lo;return t!==0?t:jm()}return Ml()}function W0(){Cn===0&&(Cn=(st&536870912)===0||it?lt():536870912);var t=En.current;return t!==null&&(t.flags|=32),Cn}function pn(t,s,i){(t===gt&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&(Ko(t,0),cr(t,st,Cn,!1)),en(t,i),((ct&2)===0||t!==gt)&&(t===gt&&((ct&2)===0&&(Wr|=i),_t===4&&cr(t,st,Cn,!1)),Jn(t))}function K0(t,s,i){if((ct&6)!==0)throw Error(a(327));var u=!i&&(s&124)===0&&(s&t.expiredLanes)===0||Le(t,s),p=u?C_(t,s):bm(t,s,!0),v=u;do{if(p===0){Go&&!u&&cr(t,s,0,!1);break}else{if(i=t.current.alternate,v&&!__(i)){p=bm(t,s,!1),v=!1;continue}if(p===2){if(v=s,t.errorRecoveryDisabledLanes&v)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var z=t;p=Ei;var F=z.current.memoizedState.isDehydrated;if(F&&(Ko(z,A).flags|=256),A=bm(z,A,!1),A!==2){if(dm&&!F){z.errorRecoveryDisabledLanes|=v,Wr|=v,p=4;break e}v=an,an=p,v!==null&&(an===null?an=v:an.push.apply(an,v))}p=A}if(v=!1,p!==2)continue}}if(p===1){Ko(t,0),cr(t,s,0,!0);break}e:{switch(u=t,v=p,v){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:cr(u,s,Cn,!or);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(p=hm+300-ye(),10<p)){if(cr(u,s,Cn,!or),Rn(u,0,!0)!==0)break e;u.timeoutHandle=Ey(Q0.bind(null,u,i,an,Sc,mm,s,Cn,Wr,Xo,or,v,2,-0,0),p);break e}Q0(u,i,an,Sc,mm,s,Cn,Wr,Xo,or,v,0,-0,0)}}break}while(!0);Jn(t)}function Q0(t,s,i,u,p,v,A,z,F,re,le,me,oe,ae){if(t.timeoutHandle=-1,me=s.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Oi={stylesheets:null,count:0,unsuspend:aE},F0(s),me=lE(),me!==null)){t.cancelPendingCommit=me(oy.bind(null,t,s,v,i,u,p,A,z,F,le,1,oe,ae)),cr(t,v,A,!re);return}oy(t,s,v,i,u,p,A,z,F)}function __(t){for(var s=t;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var u=0;u<i.length;u++){var p=i[u],v=p.getSnapshot;p=p.value;try{if(!cn(v(),p))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cr(t,s,i,u){s&=~fm,s&=~Wr,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var p=s;0<p;){var v=31-yt(p),A=1<<v;u[v]=-1,p&=~A}i!==0&&Gn(t,i,s)}function jc(){return(ct&6)===0?(ki(0),!1):!0}function ym(){if(et!==null){if(ut===0)var t=et.return;else t=et,js=qr=null,zf(t),Vo=null,yi=0,t=et;for(;t!==null;)T0(t.alternate,t),t=t.return;et=null}}function Ko(t,s){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,V_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ym(),gt=t,et=i=ws(t.current,null),st=s,ut=0,mn=null,or=!1,Go=Le(t,s),dm=!1,Xo=Cn=fm=Wr=ar=_t=0,an=Ei=null,mm=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var p=31-yt(u),v=1<<p;s|=t[p],u&=~v}return Rs=s,Yl(),i}function J0(t,s){We=null,k.H=dc,s===ci||s===tc?(s=gx(),ut=3):s===mx?(s=gx(),ut=4):ut=s===x0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,mn=s,et===null&&(_t=1,gc(t,Nn(s,t.current)))}function ey(){var t=k.H;return k.H=dc,t===null?dc:t}function ty(){var t=k.A;return k.A=S_,t}function vm(){_t=4,or||(st&4194048)!==st&&En.current!==null||(Go=!0),(ar&134217727)===0&&(Wr&134217727)===0||gt===null||cr(gt,st,Cn,!1)}function bm(t,s,i){var u=ct;ct|=2;var p=ey(),v=ty();(gt!==t||st!==s)&&(Sc=null,Ko(t,s)),s=!1;var A=_t;e:do try{if(ut!==0&&et!==null){var z=et,F=mn;switch(ut){case 8:ym(),A=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(s=!0);var re=ut;if(ut=0,mn=null,Qo(t,z,F,re),i&&Go){A=0;break e}break;default:re=ut,ut=0,mn=null,Qo(t,z,F,re)}}E_(),A=_t;break}catch(le){J0(t,le)}while(!0);return s&&t.shellSuspendCounter++,js=qr=null,ct=u,k.H=p,k.A=v,et===null&&(gt=null,st=0,Yl()),A}function E_(){for(;et!==null;)ny(et)}function C_(t,s){var i=ct;ct|=2;var u=ey(),p=ty();gt!==t||st!==s?(Sc=null,Nc=ye()+500,Ko(t,s)):Go=Le(t,s);e:do try{if(ut!==0&&et!==null){s=et;var v=mn;t:switch(ut){case 1:ut=0,mn=null,Qo(t,s,v,1);break;case 2:case 9:if(hx(v)){ut=0,mn=null,sy(s);break}s=function(){ut!==2&&ut!==9||gt!==t||(ut=7),Jn(t)},v.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:hx(v)?(ut=0,mn=null,sy(s)):(ut=0,mn=null,Qo(t,s,v,7));break;case 5:var A=null;switch(et.tag){case 26:A=et.memoizedState;case 5:case 27:var z=et;if(!A||Hy(A)){ut=0,mn=null;var F=z.sibling;if(F!==null)et=F;else{var re=z.return;re!==null?(et=re,_c(re)):et=null}break t}}ut=0,mn=null,Qo(t,s,v,5);break;case 6:ut=0,mn=null,Qo(t,s,v,6);break;case 8:ym(),_t=6;break e;default:throw Error(a(462))}}k_();break}catch(le){J0(t,le)}while(!0);return js=qr=null,k.H=u,k.A=p,ct=i,et!==null?0:(gt=null,st=0,Yl(),_t)}function k_(){for(;et!==null&&!pe();)ny(et)}function ny(t){var s=A0(t.alternate,t,Rs);t.memoizedProps=t.pendingProps,s===null?_c(t):et=s}function sy(t){var s=t,i=s.alternate;switch(s.tag){case 15:case 0:s=S0(i,s,s.pendingProps,s.type,void 0,st);break;case 11:s=S0(i,s,s.pendingProps,s.type.render,s.ref,st);break;case 5:zf(s);default:T0(i,s),s=et=rx(s,Rs),s=A0(i,s,Rs)}t.memoizedProps=t.pendingProps,s===null?_c(t):et=s}function Qo(t,s,i,u){js=qr=null,zf(s),Vo=null,yi=0;var p=s.return;try{if(x_(t,p,s,i,st)){_t=1,gc(t,Nn(i,t.current)),et=null;return}}catch(v){if(p!==null)throw et=p,v;_t=1,gc(t,Nn(i,t.current)),et=null;return}s.flags&32768?(it||u===1?t=!0:Go||(st&536870912)!==0?t=!1:(or=t=!0,(u===2||u===9||u===3||u===6)&&(u=En.current,u!==null&&u.tag===13&&(u.flags|=16384))),ry(s,t)):_c(s)}function _c(t){var s=t;do{if((s.flags&32768)!==0){ry(s,or);return}t=s.return;var i=v_(s.alternate,s,Rs);if(i!==null){et=i;return}if(s=s.sibling,s!==null){et=s;return}et=s=t}while(s!==null);_t===0&&(_t=5)}function ry(t,s){do{var i=b_(t.alternate,t);if(i!==null){i.flags&=32767,et=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(t=t.sibling,t!==null)){et=t;return}et=t=i}while(t!==null);_t=6,et=null}function oy(t,s,i,u,p,v,A,z,F){t.cancelPendingCommit=null;do Ec();while(Vt!==0);if((ct&6)!==0)throw Error(a(327));if(s!==null){if(s===t.current)throw Error(a(177));if(v=s.lanes|s.childLanes,v|=uf,Dn(t,i,v,A,z,F),t===gt&&(et=gt=null,st=0),Zo=s,lr=t,Wo=i,pm=v,gm=p,Z0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,R_(Xe,function(){return uy(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,p=L.p,L.p=2,A=ct,ct|=4;try{w_(t,s,i)}finally{ct=A,L.p=p,k.T=u}}Vt=1,ay(),iy(),ly()}}function ay(){if(Vt===1){Vt=0;var t=lr,s=Zo,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var u=L.p;L.p=2;var p=ct;ct|=4;try{U0(s,t);var v=Rm,A=Xg(t.containerInfo),z=v.focusedElem,F=v.selectionRange;if(A!==z&&z&&z.ownerDocument&&Gg(z.ownerDocument.documentElement,z)){if(F!==null&&rf(z)){var re=F.start,le=F.end;if(le===void 0&&(le=re),"selectionStart"in z)z.selectionStart=re,z.selectionEnd=Math.min(le,z.value.length);else{var me=z.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var ae=oe.getSelection(),qe=z.textContent.length,Pe=Math.min(F.start,qe),mt=F.end===void 0?Pe:Math.min(F.end,qe);!ae.extend&&Pe>mt&&(A=mt,mt=Pe,Pe=A);var J=Yg(z,Pe),Z=Yg(z,mt);if(J&&Z&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==Z.node||ae.focusOffset!==Z.offset)){var se=me.createRange();se.setStart(J.node,J.offset),ae.removeAllRanges(),Pe>mt?(ae.addRange(se),ae.extend(Z.node,Z.offset)):(se.setEnd(Z.node,Z.offset),ae.addRange(se))}}}}for(me=[],ae=z;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<me.length;z++){var ce=me[z];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Hc=!!Tm,Rm=Tm=null}finally{ct=p,L.p=u,k.T=i}}t.current=s,Vt=2}}function iy(){if(Vt===2){Vt=0;var t=lr,s=Zo,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var u=L.p;L.p=2;var p=ct;ct|=4;try{H0(t,s.alternate,s)}finally{ct=p,L.p=u,k.T=i}}Vt=3}}function ly(){if(Vt===4||Vt===3){Vt=0,Ne();var t=lr,s=Zo,i=Wo,u=Z0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Vt=5:(Vt=0,Zo=lr=null,cy(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(ir=null),$a(i),s=s.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot($e,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=k.T,p=L.p,L.p=2,k.T=null;try{for(var v=t.onRecoverableError,A=0;A<u.length;A++){var z=u[A];v(z.value,{componentStack:z.stack})}}finally{k.T=s,L.p=p}}(Wo&3)!==0&&Ec(),Jn(t),p=t.pendingLanes,(i&4194090)!==0&&(p&42)!==0?t===xm?Ci++:(Ci=0,xm=t):Ci=0,ki(0)}}function cy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ii(s)))}function Ec(t){return ay(),iy(),ly(),uy()}function uy(){if(Vt!==5)return!1;var t=lr,s=pm;pm=0;var i=$a(Wo),u=k.T,p=L.p;try{L.p=32>i?32:i,k.T=null,i=gm,gm=null;var v=lr,A=Wo;if(Vt=0,Zo=lr=null,Wo=0,(ct&6)!==0)throw Error(a(331));var z=ct;if(ct|=4,G0(v.current),q0(v,v.current,A,i),ct=z,ki(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot($e,v)}catch{}return!0}finally{L.p=p,k.T=u,cy(t,s)}}function dy(t,s,i){s=Nn(i,s),s=Zf(t.stateNode,s,2),t=Qs(t,s,2),t!==null&&(en(t,2),Jn(t))}function pt(t,s,i){if(t.tag===3)dy(t,t,i);else for(;s!==null;){if(s.tag===3){dy(s,t,i);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ir===null||!ir.has(u))){t=Nn(i,t),i=p0(2),u=Qs(s,i,2),u!==null&&(g0(i,u,s,t),en(u,2),Jn(u));break}}s=s.return}}function wm(t,s,i){var u=t.pingCache;if(u===null){u=t.pingCache=new j_;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(i)||(dm=!0,p.add(i),t=A_.bind(null,t,s,i),s.then(t,t))}function A_(t,s,i){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,gt===t&&(st&i)===i&&(_t===4||_t===3&&(st&62914560)===st&&300>ye()-hm?(ct&2)===0&&Ko(t,0):fm|=i,Xo===st&&(Xo=0)),Jn(t)}function fy(t,s){s===0&&(s=at()),t=Do(t,s),t!==null&&(en(t,s),Jn(t))}function M_(t){var s=t.memoizedState,i=0;s!==null&&(i=s.retryLane),fy(t,i)}function T_(t,s){var i=0;switch(t.tag){case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(i=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),fy(t,i)}function R_(t,s){return he(t,s)}var Cc=null,Jo=null,Nm=!1,kc=!1,Sm=!1,Kr=0;function Jn(t){t!==Jo&&t.next===null&&(Jo===null?Cc=Jo=t:Jo=Jo.next=t),kc=!0,Nm||(Nm=!0,O_())}function ki(t,s){if(!Sm&&kc){Sm=!0;do for(var i=!1,u=Cc;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var A=u.suspendedLanes,z=u.pingedLanes;v=(1<<31-yt(42|t)+1)-1,v&=p&~(A&~z),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(i=!0,gy(u,v))}else v=st,v=Rn(u,u===gt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Le(u,v)||(i=!0,gy(u,v));u=u.next}while(i);Sm=!1}}function D_(){my()}function my(){kc=Nm=!1;var t=0;Kr!==0&&(U_()&&(t=Kr),Kr=0);for(var s=ye(),i=null,u=Cc;u!==null;){var p=u.next,v=hy(u,s);v===0?(u.next=null,i===null?Cc=p:i.next=p,p===null&&(Jo=i)):(i=u,(t!==0||(v&3)!==0)&&(kc=!0)),u=p}ki(t)}function hy(t,s){for(var i=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var A=31-yt(v),z=1<<A,F=p[A];F===-1?((z&i)===0||(z&u)!==0)&&(p[A]=we(z,s)):F<=s&&(t.expiredLanes|=z),v&=~z}if(s=gt,i=st,i=Rn(t,t===s?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,i===0||t===s&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&X(u),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Le(t,i)){if(s=i&-i,s===t.callbackPriority)return s;switch(u!==null&&X(u),$a(i)){case 2:case 8:i=Ie;break;case 32:i=Xe;break;case 268435456:i=Re;break;default:i=Xe}return u=py.bind(null,t),i=he(i,u),t.callbackPriority=s,t.callbackNode=i,s}return u!==null&&u!==null&&X(u),t.callbackPriority=2,t.callbackNode=null,2}function py(t,s){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Ec()&&t.callbackNode!==i)return null;var u=st;return u=Rn(t,t===gt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(K0(t,u,s),hy(t,ye()),t.callbackNode!=null&&t.callbackNode===i?py.bind(null,t):null)}function gy(t,s){if(Ec())return null;K0(t,s,!0)}function O_(){q_(function(){(ct&6)!==0?he(Se,D_):my()})}function jm(){return Kr===0&&(Kr=lt()),Kr}function xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$l(""+t)}function yy(t,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,t.id&&i.setAttribute("form",t.id),s.parentNode.insertBefore(i,s),t=new FormData(t),i.parentNode.removeChild(i),t}function z_(t,s,i,u,p){if(s==="submit"&&i&&i.stateNode===p){var v=xy((p[Xt]||null).action),A=u.submitter;A&&(s=(s=A[Xt]||null)?xy(s.formAction):A.getAttribute("formAction"),s!==null&&(v=s,A=null));var z=new Vl("action","action",null,u,p);t.push({event:z,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Kr!==0){var F=A?yy(p,A):new FormData(p);qf(i,{pending:!0,data:F,method:p.method,action:v},null,F)}}else typeof v=="function"&&(z.preventDefault(),F=A?yy(p,A):new FormData(p),qf(i,{pending:!0,data:F,method:p.method,action:v},v,F))},currentTarget:p}]})}}for(var _m=0;_m<cf.length;_m++){var Em=cf[_m],I_=Em.toLowerCase(),L_=Em[0].toUpperCase()+Em.slice(1);zn(I_,"on"+L_)}zn(Kg,"onAnimationEnd"),zn(Qg,"onAnimationIteration"),zn(Jg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(e_,"onTransitionRun"),zn(t_,"onTransitionStart"),zn(n_,"onTransitionCancel"),zn(ex,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ai));function vy(t,s){s=(s&4)!==0;for(var i=0;i<t.length;i++){var u=t[i],p=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var A=u.length-1;0<=A;A--){var z=u[A],F=z.instance,re=z.currentTarget;if(z=z.listener,F!==v&&p.isPropagationStopped())break e;v=z,p.currentTarget=re;try{v(p)}catch(le){pc(le)}p.currentTarget=null,v=F}else for(A=0;A<u.length;A++){if(z=u[A],F=z.instance,re=z.currentTarget,z=z.listener,F!==v&&p.isPropagationStopped())break e;v=z,p.currentTarget=re;try{v(p)}catch(le){pc(le)}p.currentTarget=null,v=F}}}}function tt(t,s){var i=s[Pa];i===void 0&&(i=s[Pa]=new Set);var u=t+"__bubble";i.has(u)||(by(s,t,2,!1),i.add(u))}function Cm(t,s,i){var u=0;s&&(u|=4),by(i,t,u,s)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function km(t){if(!t[Ac]){t[Ac]=!0,Rl.forEach(function(i){i!=="selectionchange"&&(H_.has(i)||Cm(i,!1,t),Cm(i,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ac]||(s[Ac]=!0,Cm("selectionchange",!1,s))}}function by(t,s,i,u){switch(qy(s)){case 2:var p=dE;break;case 8:p=fE;break;default:p=Um}i=p.bind(null,s,i,t),p=void 0,!Zd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(s,i,{capture:!0,passive:p}):t.addEventListener(s,i,!0):p!==void 0?t.addEventListener(s,i,{passive:p}):t.addEventListener(s,i,!1)}function Am(t,s,i,u,p){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var z=u.stateNode.containerInfo;if(z===p)break;if(A===4)for(A=u.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;z!==null;){if(A=Fs(z),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){u=v=A;continue e}z=z.parentNode}}u=u.return}Cg(function(){var re=v,le=Gd(i),me=[];e:{var oe=tx.get(t);if(oe!==void 0){var ae=Vl,qe=t;switch(t){case"keypress":if(Bl(i)===0)break e;case"keydown":case"keyup":ae=Rj;break;case"focusin":qe="focus",ae=Jd;break;case"focusout":qe="blur",ae=Jd;break;case"beforeblur":case"afterblur":ae=Jd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=bj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=zj;break;case Kg:case Qg:case Jg:ae=Sj;break;case ex:ae=Lj;break;case"scroll":case"scrollend":ae=yj;break;case"wheel":ae=$j;break;case"copy":case"cut":case"paste":ae=_j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Rg;break;case"toggle":case"beforetoggle":ae=Bj}var Pe=(s&4)!==0,mt=!Pe&&(t==="scroll"||t==="scrollend"),J=Pe?oe!==null?oe+"Capture":null:oe;Pe=[];for(var Z=re,se;Z!==null;){var ce=Z;if(se=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||se===null||J===null||(ce=Xa(Z,J),ce!=null&&Pe.push(Mi(Z,ce,se))),mt)break;Z=Z.return}0<Pe.length&&(oe=new ae(oe,qe,null,i,le),me.push({event:oe,listeners:Pe}))}}if((s&7)===0){e:{if(oe=t==="mouseover"||t==="pointerover",ae=t==="mouseout"||t==="pointerout",oe&&i!==Yd&&(qe=i.relatedTarget||i.fromElement)&&(Fs(qe)||qe[qs]))break e;if((ae||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ae?(qe=i.relatedTarget||i.toElement,ae=re,qe=qe?Fs(qe):null,qe!==null&&(mt=c(qe),Pe=qe.tag,qe!==mt||Pe!==5&&Pe!==27&&Pe!==6)&&(qe=null)):(ae=null,qe=re),ae!==qe)){if(Pe=Mg,ce="onMouseLeave",J="onMouseEnter",Z="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=Rg,ce="onPointerLeave",J="onPointerEnter",Z="pointer"),mt=ae==null?oe:Ys(ae),se=qe==null?oe:Ys(qe),oe=new Pe(ce,Z+"leave",ae,i,le),oe.target=mt,oe.relatedTarget=se,ce=null,Fs(le)===re&&(Pe=new Pe(J,Z+"enter",qe,i,le),Pe.target=se,Pe.relatedTarget=mt,ce=Pe),mt=ce,ae&&qe)t:{for(Pe=ae,J=qe,Z=0,se=Pe;se;se=ea(se))Z++;for(se=0,ce=J;ce;ce=ea(ce))se++;for(;0<Z-se;)Pe=ea(Pe),Z--;for(;0<se-Z;)J=ea(J),se--;for(;Z--;){if(Pe===J||J!==null&&Pe===J.alternate)break t;Pe=ea(Pe),J=ea(J)}Pe=null}else Pe=null;ae!==null&&wy(me,oe,ae,Pe,!1),qe!==null&&mt!==null&&wy(me,mt,qe,Pe,!0)}}e:{if(oe=re?Ys(re):window,ae=oe.nodeName&&oe.nodeName.toLowerCase(),ae==="select"||ae==="input"&&oe.type==="file")var Ee=Pg;else if(Hg(oe))if(Bg)Ee=Kj;else{Ee=Zj;var Qe=Xj}else ae=oe.nodeName,!ae||ae.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?re&&Fd(re.elementType)&&(Ee=Pg):Ee=Wj;if(Ee&&(Ee=Ee(t,re))){$g(me,Ee,i,le);break e}Qe&&Qe(t,oe,re),t==="focusout"&&re&&oe.type==="number"&&re.memoizedProps.value!=null&&Ga(oe,"number",oe.value)}switch(Qe=re?Ys(re):window,t){case"focusin":(Hg(Qe)||Qe.contentEditable==="true")&&(Mo=Qe,of=re,ni=null);break;case"focusout":ni=of=Mo=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Zg(me,i,le);break;case"selectionchange":if(Jj)break;case"keydown":case"keyup":Zg(me,i,le)}var De;if(tf)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ao?Ig(t,i)&&(Ue="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ue="onCompositionStart");Ue&&(Dg&&i.locale!=="ko"&&(Ao||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ao&&(De=kg()):(Xs=le,Wd="value"in Xs?Xs.value:Xs.textContent,Ao=!0)),Qe=Mc(re,Ue),0<Qe.length&&(Ue=new Tg(Ue,t,null,i,le),me.push({event:Ue,listeners:Qe}),De?Ue.data=De:(De=Lg(i),De!==null&&(Ue.data=De)))),(De=Vj?qj(t,i):Fj(t,i))&&(Ue=Mc(re,"onBeforeInput"),0<Ue.length&&(Qe=new Tg("onBeforeInput","beforeinput",null,i,le),me.push({event:Qe,listeners:Ue}),Qe.data=De)),z_(me,t,re,i,le)}vy(me,s)})}function Mi(t,s,i){return{instance:t,listener:s,currentTarget:i}}function Mc(t,s){for(var i=s+"Capture",u=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Xa(t,i),p!=null&&u.unshift(Mi(t,p,v)),p=Xa(t,s),p!=null&&u.push(Mi(t,p,v))),t.tag===3)return u;t=t.return}return[]}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wy(t,s,i,u,p){for(var v=s._reactName,A=[];i!==null&&i!==u;){var z=i,F=z.alternate,re=z.stateNode;if(z=z.tag,F!==null&&F===u)break;z!==5&&z!==26&&z!==27||re===null||(F=re,p?(re=Xa(i,v),re!=null&&A.unshift(Mi(i,re,F))):p||(re=Xa(i,v),re!=null&&A.push(Mi(i,re,F)))),i=i.return}A.length!==0&&t.push({event:s,listeners:A})}var $_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace($_,`
`).replace(P_,"")}function Sy(t,s){return s=Ny(s),Ny(t)===s}function Tc(){}function ft(t,s,i,u,p,v){switch(i){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Eo(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Eo(t,""+u);break;case"className":So(t,"class",u);break;case"tabIndex":So(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":So(t,i,u);break;case"style":_g(t,u,v);break;case"data":if(s!=="object"){So(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||i!=="href")){t.removeAttribute(i);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(i);break}u=$l(""+u),t.setAttribute(i,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(i==="formAction"?(s!=="input"&&ft(t,s,"name",p.name,p,null),ft(t,s,"formEncType",p.formEncType,p,null),ft(t,s,"formMethod",p.formMethod,p,null),ft(t,s,"formTarget",p.formTarget,p,null)):(ft(t,s,"encType",p.encType,p,null),ft(t,s,"method",p.method,p,null),ft(t,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(i);break}u=$l(""+u),t.setAttribute(i,u);break;case"onClick":u!=null&&(t.onclick=Tc);break;case"onScroll":u!=null&&tt("scroll",t);break;case"onScrollEnd":u!=null&&tt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}i=$l(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,""+u):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":u===!0?t.setAttribute(i,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,u):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(i,u):t.removeAttribute(i);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(i):t.setAttribute(i,u);break;case"popover":tt("beforetoggle",t),tt("toggle",t),No(t,"popover",u);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":No(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=gj.get(i)||i,No(t,i,u))}}function Mm(t,s,i,u,p,v){switch(i){case"style":_g(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"children":typeof u=="string"?Eo(t,u):(typeof u=="number"||typeof u=="bigint")&&Eo(t,""+u);break;case"onScroll":u!=null&&tt("scroll",t);break;case"onScrollEnd":u!=null&&tt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(p=i.endsWith("Capture"),s=i.slice(2,p?i.length-7:void 0),v=t[Xt]||null,v=v!=null?v[i]:null,typeof v=="function"&&t.removeEventListener(s,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(s,u,p);break e}i in t?t[i]=u:u===!0?t.setAttribute(i,""):No(t,i,u)}}}function qt(t,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",t),tt("load",t);var u=!1,p=!1,v;for(v in i)if(i.hasOwnProperty(v)){var A=i[v];if(A!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:ft(t,s,v,A,i,null)}}p&&ft(t,s,"srcSet",i.srcSet,i,null),u&&ft(t,s,"src",i.src,i,null);return;case"input":tt("invalid",t);var z=v=A=p=null,F=null,re=null;for(u in i)if(i.hasOwnProperty(u)){var le=i[u];if(le!=null)switch(u){case"name":p=le;break;case"type":A=le;break;case"checked":F=le;break;case"defaultChecked":re=le;break;case"value":v=le;break;case"defaultValue":z=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,s));break;default:ft(t,s,u,le,i,null)}}Hl(t,v,z,F,re,A,p,!1),jo(t);return;case"select":tt("invalid",t),u=A=v=null;for(p in i)if(i.hasOwnProperty(p)&&(z=i[p],z!=null))switch(p){case"value":v=z;break;case"defaultValue":A=z;break;case"multiple":u=z;default:ft(t,s,p,z,i,null)}s=v,i=A,t.multiple=!!u,s!=null?vs(t,!!u,s,!1):i!=null&&vs(t,!!u,i,!0);return;case"textarea":tt("invalid",t),v=p=u=null;for(A in i)if(i.hasOwnProperty(A)&&(z=i[A],z!=null))switch(A){case"value":u=z;break;case"defaultValue":p=z;break;case"children":v=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(91));break;default:ft(t,s,A,z,i,null)}Sg(t,u,p,v),jo(t);return;case"option":for(F in i)if(i.hasOwnProperty(F)&&(u=i[F],u!=null))switch(F){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ft(t,s,F,u,i,null)}return;case"dialog":tt("beforetoggle",t),tt("toggle",t),tt("cancel",t),tt("close",t);break;case"iframe":case"object":tt("load",t);break;case"video":case"audio":for(u=0;u<Ai.length;u++)tt(Ai[u],t);break;case"image":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"embed":case"source":case"link":tt("error",t),tt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in i)if(i.hasOwnProperty(re)&&(u=i[re],u!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:ft(t,s,re,u,i,null)}return;default:if(Fd(s)){for(le in i)i.hasOwnProperty(le)&&(u=i[le],u!==void 0&&Mm(t,s,le,u,i,void 0));return}}for(z in i)i.hasOwnProperty(z)&&(u=i[z],u!=null&&ft(t,s,z,u,i,null))}function B_(t,s,i,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,A=null,z=null,F=null,re=null,le=null;for(ae in i){var me=i[ae];if(i.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":F=me;default:u.hasOwnProperty(ae)||ft(t,s,ae,null,u,me)}}for(var oe in u){var ae=u[oe];if(me=i[oe],u.hasOwnProperty(oe)&&(ae!=null||me!=null))switch(oe){case"type":v=ae;break;case"name":p=ae;break;case"checked":re=ae;break;case"defaultChecked":le=ae;break;case"value":A=ae;break;case"defaultValue":z=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,s));break;default:ae!==me&&ft(t,s,oe,ae,u,me)}}zr(t,A,z,F,re,le,v,p);return;case"select":ae=A=z=oe=null;for(v in i)if(F=i[v],i.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":ae=F;default:u.hasOwnProperty(v)||ft(t,s,v,null,u,F)}for(p in u)if(v=u[p],F=i[p],u.hasOwnProperty(p)&&(v!=null||F!=null))switch(p){case"value":oe=v;break;case"defaultValue":z=v;break;case"multiple":A=v;default:v!==F&&ft(t,s,p,v,u,F)}s=z,i=A,u=ae,oe!=null?vs(t,!!i,oe,!1):!!u!=!!i&&(s!=null?vs(t,!!i,s,!0):vs(t,!!i,i?[]:"",!1));return;case"textarea":ae=oe=null;for(z in i)if(p=i[z],i.hasOwnProperty(z)&&p!=null&&!u.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:ft(t,s,z,null,u,p)}for(A in u)if(p=u[A],v=i[A],u.hasOwnProperty(A)&&(p!=null||v!=null))switch(A){case"value":oe=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==v&&ft(t,s,A,p,u,v)}Ng(t,oe,ae);return;case"option":for(var qe in i)if(oe=i[qe],i.hasOwnProperty(qe)&&oe!=null&&!u.hasOwnProperty(qe))switch(qe){case"selected":t.selected=!1;break;default:ft(t,s,qe,null,u,oe)}for(F in u)if(oe=u[F],ae=i[F],u.hasOwnProperty(F)&&oe!==ae&&(oe!=null||ae!=null))switch(F){case"selected":t.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:ft(t,s,F,oe,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in i)oe=i[Pe],i.hasOwnProperty(Pe)&&oe!=null&&!u.hasOwnProperty(Pe)&&ft(t,s,Pe,null,u,oe);for(re in u)if(oe=u[re],ae=i[re],u.hasOwnProperty(re)&&oe!==ae&&(oe!=null||ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,s));break;default:ft(t,s,re,oe,u,ae)}return;default:if(Fd(s)){for(var mt in i)oe=i[mt],i.hasOwnProperty(mt)&&oe!==void 0&&!u.hasOwnProperty(mt)&&Mm(t,s,mt,void 0,u,oe);for(le in u)oe=u[le],ae=i[le],!u.hasOwnProperty(le)||oe===ae||oe===void 0&&ae===void 0||Mm(t,s,le,oe,u,ae);return}}for(var J in i)oe=i[J],i.hasOwnProperty(J)&&oe!=null&&!u.hasOwnProperty(J)&&ft(t,s,J,null,u,oe);for(me in u)oe=u[me],ae=i[me],!u.hasOwnProperty(me)||oe===ae||oe==null&&ae==null||ft(t,s,me,oe,u,ae)}var Tm=null,Rm=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Dm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Om=null;function U_(){var t=window.event;return t&&t.type==="popstate"?t===Om?!1:(Om=t,!0):(Om=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,V_=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(F_)}:Ey;function F_(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function ky(t,s){var i=s,u=0,p=0;do{var v=i.nextSibling;if(t.removeChild(i),v&&v.nodeType===8)if(i=v.data,i==="/$"){if(0<u&&8>u){i=u;var A=t.ownerDocument;if(i&1&&Ti(A.documentElement),i&2&&Ti(A.body),i&4)for(i=A.head,Ti(i),A=i.firstChild;A;){var z=A.nextSibling,F=A.nodeName;A[Or]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||i.removeChild(A),A=z}}if(p===0){t.removeChild(v),$i(s);return}p--}else i==="$"||i==="$?"||i==="$!"?p++:u=i.charCodeAt(0)-48;else u=0;i=v}while(i);$i(s)}function zm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":zm(i),Ba(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Y_(t,s,i,u){for(;t.nodeType===1;){var p=i;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Or])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function G_(t,s,i){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function X_(t,s){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")s();else{var u=function(){s(),i.removeEventListener("DOMContentLoaded",u)};i.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Ln(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Lm=null;function Ay(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return t;s--}else i==="/$"&&s++}t=t.previousSibling}return null}function My(t,s,i){switch(s=Rc(i),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ti(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ba(t)}var kn=new Map,Ty=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ds=L.d;L.d={f:Z_,r:W_,D:K_,C:Q_,L:J_,m:eE,X:nE,S:tE,M:sE};function Z_(){var t=Ds.f(),s=jc();return t||s}function W_(t){var s=ps(t);s!==null&&s.tag===5&&s.type==="form"?Kx(s):Ds.r(t)}var ta=typeof document>"u"?null:document;function Ry(t,s,i){var u=ta;if(u&&typeof s=="string"&&s){var p=nn(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof i=="string"&&(p+='[crossorigin="'+i+'"]'),Ty.has(p)||(Ty.add(p),t={rel:t,crossOrigin:i,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),qt(s,"link",t),Mt(s),u.head.appendChild(s)))}}function K_(t){Ds.D(t),Ry("dns-prefetch",t,null)}function Q_(t,s){Ds.C(t,s),Ry("preconnect",t,s)}function J_(t,s,i){Ds.L(t,s,i);var u=ta;if(u&&t&&s){var p='link[rel="preload"][as="'+nn(s)+'"]';s==="image"&&i&&i.imageSrcSet?(p+='[imagesrcset="'+nn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(p+='[imagesizes="'+nn(i.imageSizes)+'"]')):p+='[href="'+nn(t)+'"]';var v=p;switch(s){case"style":v=na(t);break;case"script":v=sa(t)}kn.has(v)||(t=g({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:t,as:s},i),kn.set(v,t),u.querySelector(p)!==null||s==="style"&&u.querySelector(Ri(v))||s==="script"&&u.querySelector(Di(v))||(s=u.createElement("link"),qt(s,"link",t),Mt(s),u.head.appendChild(s)))}}function eE(t,s){Ds.m(t,s);var i=ta;if(i&&t){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+nn(u)+'"][href="'+nn(t)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=sa(t)}if(!kn.has(v)&&(t=g({rel:"modulepreload",href:t},s),kn.set(v,t),i.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Di(v)))return}u=i.createElement("link"),qt(u,"link",t),Mt(u),i.head.appendChild(u)}}}function tE(t,s,i){Ds.S(t,s,i);var u=ta;if(u&&t){var p=gs(u).hoistableStyles,v=na(t);s=s||"default";var A=p.get(v);if(!A){var z={loading:0,preload:null};if(A=u.querySelector(Ri(v)))z.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},i),(i=kn.get(v))&&Hm(t,i);var F=A=u.createElement("link");Mt(F),qt(F,"link",t),F._p=new Promise(function(re,le){F.onload=re,F.onerror=le}),F.addEventListener("load",function(){z.loading|=1}),F.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Oc(A,s,u)}A={type:"stylesheet",instance:A,count:1,state:z},p.set(v,A)}}}function nE(t,s){Ds.X(t,s);var i=ta;if(i&&t){var u=gs(i).hoistableScripts,p=sa(t),v=u.get(p);v||(v=i.querySelector(Di(p)),v||(t=g({src:t,async:!0},s),(s=kn.get(p))&&$m(t,s),v=i.createElement("script"),Mt(v),qt(v,"link",t),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function sE(t,s){Ds.M(t,s);var i=ta;if(i&&t){var u=gs(i).hoistableScripts,p=sa(t),v=u.get(p);v||(v=i.querySelector(Di(p)),v||(t=g({src:t,async:!0,type:"module"},s),(s=kn.get(p))&&$m(t,s),v=i.createElement("script"),Mt(v),qt(v,"link",t),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function Dy(t,s,i,u){var p=(p=ue.current)?Dc(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=na(i.href),i=gs(p).hoistableStyles,u=i.get(s),u||(u={type:"style",instance:null,count:0,state:null},i.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=na(i.href);var v=gs(p).hoistableStyles,A=v.get(t);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,A),(v=p.querySelector(Ri(t)))&&!v._p&&(A.instance=v,A.state.loading=5),kn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},kn.set(t,i),v||rE(p,t,i,A.state))),s&&u===null)throw Error(a(528,""));return A}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sa(i),i=gs(p).hoistableScripts,u=i.get(s),u||(u={type:"script",instance:null,count:0,state:null},i.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function na(t){return'href="'+nn(t)+'"'}function Ri(t){return'link[rel="stylesheet"]['+t+"]"}function Oy(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function rE(t,s,i,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),qt(s,"link",i),Mt(s),t.head.appendChild(s))}function sa(t){return'[src="'+nn(t)+'"]'}function Di(t){return"script[async]"+t}function zy(t,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+nn(i.href)+'"]');if(u)return s.instance=u,Mt(u),u;var p=g({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Mt(u),qt(u,"style",p),Oc(u,i.precedence,t),s.instance=u;case"stylesheet":p=na(i.href);var v=t.querySelector(Ri(p));if(v)return s.state.loading|=4,s.instance=v,Mt(v),v;u=Oy(i),(p=kn.get(p))&&Hm(u,p),v=(t.ownerDocument||t).createElement("link"),Mt(v);var A=v;return A._p=new Promise(function(z,F){A.onload=z,A.onerror=F}),qt(v,"link",u),s.state.loading|=4,Oc(v,i.precedence,t),s.instance=v;case"script":return v=sa(i.src),(p=t.querySelector(Di(v)))?(s.instance=p,Mt(p),p):(u=i,(p=kn.get(v))&&(u=g({},i),$m(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),Mt(p),qt(p,"link",u),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Oc(u,i.precedence,t));return s.instance}function Oc(t,s,i){for(var u=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,A=0;A<u.length;A++){var z=u[A];if(z.dataset.precedence===s)v=z;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(t,s.firstChild))}function Hm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function $m(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var zc=null;function Iy(t,s,i){if(zc===null){var u=new Map,p=zc=new Map;p.set(i,u)}else p=zc,u=p.get(i),u||(u=new Map,p.set(i,u));if(u.has(t))return u;for(u.set(t,null),i=i.getElementsByTagName(t),p=0;p<i.length;p++){var v=i[p];if(!(v[Or]||v[Ht]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(s)||"";A=t+A;var z=u.get(A);z?z.push(v):u.set(A,[v])}}return u}function Ly(t,s,i){t=t.ownerDocument||t,t.head.insertBefore(i,s==="title"?t.querySelector("head > title"):null)}function oE(t,s,i){if(i===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Oi=null;function aE(){}function iE(t,s,i){if(Oi===null)throw Error(a(475));var u=Oi;if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=na(i.href),v=t.querySelector(Ri(p));if(v){t=v._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Ic.bind(u),t.then(u,u)),s.state.loading|=4,s.instance=v,Mt(v);return}v=t.ownerDocument||t,i=Oy(i),(p=kn.get(p))&&Hm(i,p),v=v.createElement("link"),Mt(v);var A=v;A._p=new Promise(function(z,F){A.onload=z,A.onerror=F}),qt(v,"link",i),s.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Ic.bind(u),t.addEventListener("load",s),t.addEventListener("error",s))}}function lE(){if(Oi===null)throw Error(a(475));var t=Oi;return t.stylesheets&&t.count===0&&Pm(t,t.stylesheets),0<t.count?function(s){var i=setTimeout(function(){if(t.stylesheets&&Pm(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Ic(){if(this.count--,this.count===0){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Pm(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,s.forEach(cE,t),Lc=null,Ic.call(t))}function cE(t,s){if(!(s.state.loading&4)){var i=Lc.get(t);if(i)var u=i.get(null);else{i=new Map,Lc.set(t,i);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var A=p[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(i.set(A.dataset.precedence,A),u=A)}u&&i.set(null,u)}p=s.instance,A=p.getAttribute("data-precedence"),v=i.get(A)||u,v===u&&i.set(null,p),i.set(A,p),this.count++,u=Ic.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var zi={$$typeof:E,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function uE(t,s,i,u,p,v,A,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function $y(t,s,i,u,p,v,A,z,F,re,le,me){return t=new uE(t,s,i,A,z,F,re,me),s=1,v===!0&&(s|=24),v=un(3,null,null,s),t.current=v,v.stateNode=t,s=wf(),s.refCount++,t.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:i,cache:s},_f(v),t}function Py(t){return t?(t=Oo,t):Oo}function By(t,s,i,u,p,v){p=Py(p),u.context===null?u.context=p:u.pendingContext=p,u=Ks(s),u.payload={element:i},v=v===void 0?null:v,v!==null&&(u.callback=v),i=Qs(t,u,s),i!==null&&(pn(i,t,s),di(i,t,s))}function Uy(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<s?i:s}}function Bm(t,s){Uy(t,s),(t=t.alternate)&&Uy(t,s)}function Vy(t){if(t.tag===13){var s=Do(t,67108864);s!==null&&pn(s,t,67108864),Bm(t,67108864)}}var Hc=!0;function dE(t,s,i,u){var p=k.T;k.T=null;var v=L.p;try{L.p=2,Um(t,s,i,u)}finally{L.p=v,k.T=p}}function fE(t,s,i,u){var p=k.T;k.T=null;var v=L.p;try{L.p=8,Um(t,s,i,u)}finally{L.p=v,k.T=p}}function Um(t,s,i,u){if(Hc){var p=Vm(u);if(p===null)Am(t,s,u,$c,i),Fy(t,u);else if(hE(p,t,s,i,u))u.stopPropagation();else if(Fy(t,u),s&4&&-1<mE.indexOf(t)){for(;p!==null;){var v=ps(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Et(v.pendingLanes);if(A!==0){var z=v;for(z.pendingLanes|=2,z.entangledLanes|=2;A;){var F=1<<31-yt(A);z.entanglements[1]|=F,A&=~F}Jn(v),(ct&6)===0&&(Nc=ye()+500,ki(0))}}break;case 13:z=Do(v,2),z!==null&&pn(z,v,2),jc(),Bm(v,2)}if(v=Vm(u),v===null&&Am(t,s,u,$c,i),v===p)break;p=v}p!==null&&u.stopPropagation()}else Am(t,s,u,null,i)}}function Vm(t){return t=Gd(t),qm(t)}var $c=null;function qm(t){if($c=null,t=Fs(t),t!==null){var s=c(t);if(s===null)t=null;else{var i=s.tag;if(i===13){if(t=d(s),t!==null)return t;t=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return $c=t,null}function qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case Se:return 2;case Ie:return 8;case Xe:case He:return 32;case Re:return 268435456;default:return 32}default:return 32}}var Fm=!1,dr=null,fr=null,mr=null,Ii=new Map,Li=new Map,hr=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(t,s){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(s.pointerId)}}function Hi(t,s,i,u,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:s,domEventName:i,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},s!==null&&(s=ps(s),s!==null&&Vy(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function hE(t,s,i,u,p){switch(s){case"focusin":return dr=Hi(dr,t,s,i,u,p),!0;case"dragenter":return fr=Hi(fr,t,s,i,u,p),!0;case"mouseover":return mr=Hi(mr,t,s,i,u,p),!0;case"pointerover":var v=p.pointerId;return Ii.set(v,Hi(Ii.get(v)||null,t,s,i,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Li.set(v,Hi(Li.get(v)||null,t,s,i,u,p)),!0}return!1}function Yy(t){var s=Fs(t.target);if(s!==null){var i=c(s);if(i!==null){if(s=i.tag,s===13){if(s=d(i),s!==null){t.blockedOn=s,Ld(t.priority,function(){if(i.tag===13){var u=hn();u=Ha(u);var p=Do(i,u);p!==null&&pn(p,i,u),Bm(i,u)}});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var i=Vm(t.nativeEvent);if(i===null){i=t.nativeEvent;var u=new i.constructor(i.type,i);Yd=u,i.target.dispatchEvent(u),Yd=null}else return s=ps(i),s!==null&&Vy(s),t.blockedOn=i,!1;s.shift()}return!0}function Gy(t,s,i){Pc(t)&&i.delete(s)}function pE(){Fm=!1,dr!==null&&Pc(dr)&&(dr=null),fr!==null&&Pc(fr)&&(fr=null),mr!==null&&Pc(mr)&&(mr=null),Ii.forEach(Gy),Li.forEach(Gy)}function Bc(t,s){t.blockedOn===s&&(t.blockedOn=null,Fm||(Fm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pE)))}var Uc=null;function Xy(t){Uc!==t&&(Uc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var s=0;s<t.length;s+=3){var i=t[s],u=t[s+1],p=t[s+2];if(typeof u!="function"){if(qm(u||i)===null)continue;break}var v=ps(i);v!==null&&(t.splice(s,3),s-=3,qf(v,{pending:!0,data:p,method:i.method,action:u},u,p))}}))}function $i(t){function s(F){return Bc(F,t)}dr!==null&&Bc(dr,t),fr!==null&&Bc(fr,t),mr!==null&&Bc(mr,t),Ii.forEach(s),Li.forEach(s);for(var i=0;i<hr.length;i++){var u=hr[i];u.blockedOn===t&&(u.blockedOn=null)}for(;0<hr.length&&(i=hr[0],i.blockedOn===null);)Yy(i),i.blockedOn===null&&hr.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(u=0;u<i.length;u+=3){var p=i[u],v=i[u+1],A=p[Xt]||null;if(typeof v=="function")A||Xy(i);else if(A){var z=null;if(v&&v.hasAttribute("formAction")){if(p=v,A=v[Xt]||null)z=A.formAction;else if(qm(p)!==null)continue}else z=A.action;typeof z=="function"?i[u+1]=z:(i.splice(u,3),u-=3),Xy(i)}}}function Ym(t){this._internalRoot=t}Vc.prototype.render=Ym.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,u=hn();By(i,u,t,s,null,null)},Vc.prototype.unmount=Ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;By(t.current,2,null,t,null,null),jc(),s[qs]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ml();t={blockedOn:null,target:t,priority:s};for(var i=0;i<hr.length&&s!==0&&s<hr[i].priority;i++);hr.splice(i,0,t),i===0&&Yy(t)}};var Zy=n.version;if(Zy!=="19.1.1")throw Error(a(527,Zy,"19.1.1"));L.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(s),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var gE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{$e=qc.inject(gE),Fe=qc}catch{}}return Bi.createRoot=function(t,s){if(!l(t))throw Error(a(299));var i=!1,u="",p=d0,v=f0,A=m0,z=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(z=s.unstable_transitionCallbacks)),s=$y(t,1,!1,null,null,i,u,p,v,A,z,null),t[qs]=s.current,km(t),new Ym(s)},Bi.hydrateRoot=function(t,s,i){if(!l(t))throw Error(a(299));var u=!1,p="",v=d0,A=f0,z=m0,F=null,re=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(A=i.onCaughtError),i.onRecoverableError!==void 0&&(z=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks),i.formState!==void 0&&(re=i.formState)),s=$y(t,1,!0,s,i??null,u,p,v,A,z,F,re),s.context=Py(null),i=s.current,u=hn(),u=Ha(u),p=Ks(u),p.callback=null,Qs(i,p,u),i=u,s.current.lanes=i,en(s,i),Jn(s),t[qs]=s.current,km(t),new Vc(s)},Bi.version="19.1.1",Bi}var ov;function EE(){if(ov)return Zm.exports;ov=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Zm.exports=_E(),Zm.exports}var CE=EE();function av(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Ku(...e){return n=>{let r=!1;const a=e.map(l=>{const c=av(l,n);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<a.length;l++){const c=a[l];typeof c=="function"?c():av(e[l],null)}}}}function rt(...e){return w.useCallback(Ku(...e),e)}function xa(e){const n=AE(e),r=w.forwardRef((a,l)=>{const{children:c,...d}=a,f=w.Children.toArray(c),m=f.find(TE);if(m){const h=m.props.children,g=f.map(y=>y===m?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:y);return o.jsx(n,{...d,ref:l,children:w.isValidElement(h)?w.cloneElement(h,void 0,g):null})}return o.jsx(n,{...d,ref:l,children:c})});return r.displayName=`${e}.Slot`,r}var kE=xa("Slot");function AE(e){const n=w.forwardRef((r,a)=>{const{children:l,...c}=r;if(w.isValidElement(l)){const d=DE(l),f=RE(c,l.props);return l.type!==w.Fragment&&(f.ref=a?Ku(a,d):d),w.cloneElement(l,f)}return w.Children.count(l)>1?w.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var ME=Symbol("radix.slottable");function TE(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ME}function RE(e,n){const r={...n};for(const a in n){const l=e[a],c=n[a];/^on[A-Z]/.test(a)?l&&c?r[a]=(...f)=>{const m=c(...f);return l(...f),m}:l&&(r[a]=l):a==="style"?r[a]={...l,...c}:a==="className"&&(r[a]=[l,c].filter(Boolean).join(" "))}return{...e,...r}}function DE(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tw(e){var n,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(n=0;n<l;n++)e[n]&&(r=tw(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function nw(){for(var e,n,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(n=tw(e))&&(a&&(a+=" "),a+=n);return a}const iv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,lv=nw,sw=(e,n)=>r=>{var a;if(n?.variants==null)return lv(e,r?.class,r?.className);const{variants:l,defaultVariants:c}=n,d=Object.keys(l).map(h=>{const g=r?.[h],y=c?.[h];if(g===null)return null;const x=iv(g)||iv(y);return l[h][x]}),f=r&&Object.entries(r).reduce((h,g)=>{let[y,x]=g;return x===void 0||(h[y]=x),h},{}),m=n==null||(a=n.compoundVariants)===null||a===void 0?void 0:a.reduce((h,g)=>{let{class:y,className:x,...b}=g;return Object.entries(b).every(S=>{let[N,j]=S;return Array.isArray(j)?j.includes({...c,...f}[N]):{...c,...f}[N]===j})?[...h,y,x]:h},[]);return lv(e,d,m,r?.class,r?.className)},vp="-",OE=e=>{const n=IE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const f=d.split(vp);return f[0]===""&&f.length!==1&&f.shift(),rw(f,n)||zE(d)},getConflictingClassGroupIds:(d,f)=>{const m=r[d]||[];return f&&a[d]?[...m,...a[d]]:m}}},rw=(e,n)=>{if(e.length===0)return n.classGroupId;const r=e[0],a=n.nextPart.get(r),l=a?rw(e.slice(1),a):void 0;if(l)return l;if(n.validators.length===0)return;const c=e.join(vp);return n.validators.find(({validator:d})=>d(c))?.classGroupId},cv=/^\[(.+)\]$/,zE=e=>{if(cv.test(e)){const n=cv.exec(e)[1],r=n?.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},IE=e=>{const{theme:n,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const l in r)Dh(r[l],a,l,n);return a},Dh=(e,n,r,a)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?n:uv(n,l);c.classGroupId=r;return}if(typeof l=="function"){if(LE(l)){Dh(l(a),n,r,a);return}n.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([c,d])=>{Dh(d,uv(n,c),r,a)})})},uv=(e,n)=>{let r=e;return n.split(vp).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},LE=e=>e.isThemeGetter,HE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,a=new Map;const l=(c,d)=>{r.set(c,d),n++,n>e&&(n=0,a=r,r=new Map)};return{get(c){let d=r.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return l(c,d),d},set(c,d){r.has(c)?r.set(c,d):l(c,d)}}},Oh="!",zh=":",$E=zh.length,PE=e=>{const{prefix:n,experimentalParseClassName:r}=e;let a=l=>{const c=[];let d=0,f=0,m=0,h;for(let S=0;S<l.length;S++){let N=l[S];if(d===0&&f===0){if(N===zh){c.push(l.slice(m,S)),m=S+$E;continue}if(N==="/"){h=S;continue}}N==="["?d++:N==="]"?d--:N==="("?f++:N===")"&&f--}const g=c.length===0?l:l.substring(m),y=BE(g),x=y!==g,b=h&&h>m?h-m:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:b}};if(n){const l=n+zh,c=a;a=d=>d.startsWith(l)?c(d.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const l=a;a=c=>r({className:c,parseClassName:l})}return a},BE=e=>e.endsWith(Oh)?e.substring(0,e.length-1):e.startsWith(Oh)?e.substring(1):e,UE=e=>{const n=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const l=[];let c=[];return a.forEach(d=>{d[0]==="["||n[d]?(l.push(...c.sort(),d),c=[]):c.push(d)}),l.push(...c.sort()),l}},VE=e=>({cache:HE(e.cacheSize),parseClassName:PE(e),sortModifiers:UE(e),...OE(e)}),qE=/\s+/,FE=(e,n)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:l,sortModifiers:c}=n,d=[],f=e.trim().split(qE);let m="";for(let h=f.length-1;h>=0;h-=1){const g=f[h],{isExternal:y,modifiers:x,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:N}=r(g);if(y){m=g+(m.length>0?" "+m:m);continue}let j=!!N,_=a(j?S.substring(0,N):S);if(!_){if(!j){m=g+(m.length>0?" "+m:m);continue}if(_=a(S),!_){m=g+(m.length>0?" "+m:m);continue}j=!1}const M=c(x).join(":"),E=b?M+Oh:M,T=E+_;if(d.includes(T))continue;d.push(T);const R=l(_,j);for(let D=0;D<R.length;++D){const O=R[D];d.push(E+O)}m=g+(m.length>0?" "+m:m)}return m};function YE(){let e=0,n,r,a="";for(;e<arguments.length;)(n=arguments[e++])&&(r=ow(n))&&(a&&(a+=" "),a+=r);return a}const ow=e=>{if(typeof e=="string")return e;let n,r="";for(let a=0;a<e.length;a++)e[a]&&(n=ow(e[a]))&&(r&&(r+=" "),r+=n);return r};function GE(e,...n){let r,a,l,c=d;function d(m){const h=n.reduce((g,y)=>y(g),e());return r=VE(h),a=r.cache.get,l=r.cache.set,c=f,f(m)}function f(m){const h=a(m);if(h)return h;const g=FE(m,r);return l(m,g),g}return function(){return c(YE.apply(null,arguments))}}const It=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},aw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XE=/^\d+\/\d+$/,ZE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ra=e=>XE.test(e),Ke=e=>!!e&&!Number.isNaN(Number(e)),gr=e=>!!e&&Number.isInteger(Number(e)),Jm=e=>e.endsWith("%")&&Ke(e.slice(0,-1)),Os=e=>ZE.test(e),eC=()=>!0,tC=e=>WE.test(e)&&!KE.test(e),lw=()=>!1,nC=e=>QE.test(e),sC=e=>JE.test(e),rC=e=>!Ce(e)&&!ke(e),oC=e=>Ta(e,dw,lw),Ce=e=>aw.test(e),Qr=e=>Ta(e,fw,tC),eh=e=>Ta(e,uC,Ke),dv=e=>Ta(e,cw,lw),aC=e=>Ta(e,uw,sC),Fc=e=>Ta(e,mw,nC),ke=e=>iw.test(e),Ui=e=>Ra(e,fw),iC=e=>Ra(e,dC),fv=e=>Ra(e,cw),lC=e=>Ra(e,dw),cC=e=>Ra(e,uw),Yc=e=>Ra(e,mw,!0),Ta=(e,n,r)=>{const a=aw.exec(e);return a?a[1]?n(a[1]):r(a[2]):!1},Ra=(e,n,r=!1)=>{const a=iw.exec(e);return a?a[1]?n(a[1]):r:!1},cw=e=>e==="position"||e==="percentage",uw=e=>e==="image"||e==="url",dw=e=>e==="length"||e==="size"||e==="bg-size",fw=e=>e==="length",uC=e=>e==="number",dC=e=>e==="family-name",mw=e=>e==="shadow",fC=()=>{const e=It("color"),n=It("font"),r=It("text"),a=It("font-weight"),l=It("tracking"),c=It("leading"),d=It("breakpoint"),f=It("container"),m=It("spacing"),h=It("radius"),g=It("shadow"),y=It("inset-shadow"),x=It("text-shadow"),b=It("drop-shadow"),S=It("blur"),N=It("perspective"),j=It("aspect"),_=It("ease"),M=It("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...T(),ke,Ce],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],P=()=>[ke,Ce,m],q=()=>[ra,"full","auto",...P()],Q=()=>[gr,"none","subgrid",ke,Ce],ee=()=>["auto",{span:["full",gr,ke,Ce]},gr,ke,Ce],G=()=>[gr,"auto",ke,Ce],W=()=>["auto","min","max","fr",ke,Ce],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...P()],L=()=>[ra,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],I=()=>[e,ke,Ce],H=()=>[...T(),fv,dv,{position:[ke,Ce]}],C=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",lC,oC,{size:[ke,Ce]}],Y=()=>[Jm,Ui,Qr],V=()=>["","none","full",h,ke,Ce],K=()=>["",Ke,Ui,Qr],fe=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Ke,Jm,fv,dv],ie=()=>["","none",S,ke,Ce],xe=()=>["none",Ke,ke,Ce],ve=()=>["none",Ke,ke,Ce],be=()=>[Ke,ke,Ce],ne=()=>[ra,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Os],breakpoint:[Os],color:[eC],container:[Os],"drop-shadow":[Os],ease:["in","out","in-out"],font:[rC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Os],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Os],shadow:[Os],spacing:["px",Ke],text:[Os],"text-shadow":[Os],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ra,Ce,ke,j]}],container:["container"],columns:[{columns:[Ke,Ce,ke,f]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[gr,"auto",ke,Ce]}],basis:[{basis:[ra,"full","auto",f,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,ra,"auto","initial","none",Ce]}],grow:[{grow:["",Ke,ke,Ce]}],shrink:[{shrink:["",Ke,ke,Ce]}],order:[{order:[gr,"first","last","none",ke,Ce]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[f,"screen",...L()]}],"min-w":[{"min-w":[f,"screen","none",...L()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",r,Ui,Qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ke,eh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jm,Ce]}],"font-family":[{font:[iC,Ce,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,ke,Ce]}],"line-clamp":[{"line-clamp":[Ke,"none",ke,eh]}],leading:[{leading:[c,...P()]}],"list-image":[{"list-image":["none",ke,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",ke,Qr]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Ke,"auto",ke,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:C()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gr,ke,Ce],radial:["",ke,Ce],conic:[gr,ke,Ce]},cC,aC]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,ke,Ce]}],"outline-w":[{outline:["",Ke,Ui,Qr]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",g,Yc,Fc]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",y,Yc,Fc]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Ke,Qr]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",x,Yc,Fc]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Ke,ke,Ce]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[ke,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:C()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ce]}],filter:[{filter:["","none",ke,Ce]}],blur:[{blur:ie()}],brightness:[{brightness:[Ke,ke,Ce]}],contrast:[{contrast:[Ke,ke,Ce]}],"drop-shadow":[{"drop-shadow":["","none",b,Yc,Fc]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Ke,ke,Ce]}],"hue-rotate":[{"hue-rotate":[Ke,ke,Ce]}],invert:[{invert:["",Ke,ke,Ce]}],saturate:[{saturate:[Ke,ke,Ce]}],sepia:[{sepia:["",Ke,ke,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ce]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,ke,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,ke,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,ke,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,ke,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ke,ke,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,ke,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,ke,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,ke,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",ke,Ce]}],ease:[{ease:["linear","initial",_,ke,Ce]}],delay:[{delay:[Ke,ke,Ce]}],animate:[{animate:["none",M,ke,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ke,Ce]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[ke,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ce]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Ke,Ui,Qr,eh]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mC=GE(fC);function Ze(...e){return mC(nw(e))}const hC=sw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Te({className:e,variant:n,size:r,asChild:a=!1,...l}){const c=a?kE:"button";return o.jsx(c,{"data-slot":"button",className:Ze(hC({variant:n,size:r,className:e})),...l})}const pC=sw("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:n,...r}){return o.jsx("div",{className:Ze(pC({variant:n}),e),...r})}function Ae(e,n,{checkForDefaultPrevented:r=!0}={}){return function(l){if(e?.(l),r===!1||!l.defaultPrevented)return n?.(l)}}function us(e,n=[]){let r=[];function a(c,d){const f=w.createContext(d),m=r.length;r=[...r,d];const h=y=>{const{scope:x,children:b,...S}=y,N=x?.[e]?.[m]||f,j=w.useMemo(()=>S,Object.values(S));return o.jsx(N.Provider,{value:j,children:b})};h.displayName=c+"Provider";function g(y,x){const b=x?.[e]?.[m]||f,S=w.useContext(b);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[h,g]}const l=()=>{const c=r.map(d=>w.createContext(d));return function(f){const m=f?.[e]||c;return w.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[a,gC(l,...n)]}function gC(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const d=a.reduce((f,{useScope:m,scopeName:h})=>{const y=m(c)[`__scope${h}`];return{...f,...y}},{});return w.useMemo(()=>({[`__scope${n.scopeName}`]:d}),[d])}};return r.scopeName=n.scopeName,r}var Yt=globalThis?.document?w.useLayoutEffect:()=>{},xC=Jb[" useInsertionEffect ".trim().toString()]||Yt;function io({prop:e,defaultProp:n,onChange:r=()=>{},caller:a}){const[l,c,d]=yC({defaultProp:n,onChange:r}),f=e!==void 0,m=f?e:l;{const g=w.useRef(e!==void 0);w.useEffect(()=>{const y=g.current;y!==f&&console.warn(`${a} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,a])}const h=w.useCallback(g=>{if(f){const y=vC(g)?g(e):g;y!==e&&d.current?.(y)}else c(g)},[f,e,c,d]);return[m,h]}function yC({defaultProp:e,onChange:n}){const[r,a]=w.useState(e),l=w.useRef(r),c=w.useRef(n);return xC(()=>{c.current=n},[n]),w.useEffect(()=>{l.current!==r&&(c.current?.(r),l.current=r)},[r,l]),[r,a,c]}function vC(e){return typeof e=="function"}var gl=ew();const bC=yp(gl);var wC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=wC.reduce((e,n)=>{const r=xa(`Primitive.${n}`),a=w.forwardRef((l,c)=>{const{asChild:d,...f}=l,m=d?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(m,{...f,ref:c})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{});function hw(e,n){e&&gl.flushSync(()=>e.dispatchEvent(n))}function bp(e){const n=e+"CollectionProvider",[r,a]=us(n),[l,c]=r(n,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:j,children:_}=N,M=xn.useRef(null),E=xn.useRef(new Map).current;return o.jsx(l,{scope:j,itemMap:E,collectionRef:M,children:_})};d.displayName=n;const f=e+"CollectionSlot",m=xa(f),h=xn.forwardRef((N,j)=>{const{scope:_,children:M}=N,E=c(f,_),T=rt(j,E.collectionRef);return o.jsx(m,{ref:T,children:M})});h.displayName=f;const g=e+"CollectionItemSlot",y="data-radix-collection-item",x=xa(g),b=xn.forwardRef((N,j)=>{const{scope:_,children:M,...E}=N,T=xn.useRef(null),R=rt(j,T),D=c(g,_);return xn.useEffect(()=>(D.itemMap.set(T,{ref:T,...E}),()=>void D.itemMap.delete(T))),o.jsx(x,{[y]:"",ref:R,children:M})});b.displayName=g;function S(N){const j=c(e+"CollectionConsumer",N);return xn.useCallback(()=>{const M=j.collectionRef.current;if(!M)return[];const E=Array.from(M.querySelectorAll(`[${y}]`));return Array.from(j.itemMap.values()).sort((D,O)=>E.indexOf(D.ref.current)-E.indexOf(O.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:d,Slot:h,ItemSlot:b},S,a]}var NC=w.createContext(void 0);function xl(e){const n=w.useContext(NC);return e||n||"ltr"}function Ft(e){const n=w.useRef(e);return w.useEffect(()=>{n.current=e}),w.useMemo(()=>(...r)=>n.current?.(...r),[])}function SC(e,n=globalThis?.document){const r=Ft(e);w.useEffect(()=>{const a=l=>{l.key==="Escape"&&r(l)};return n.addEventListener("keydown",a,{capture:!0}),()=>n.removeEventListener("keydown",a,{capture:!0})},[r,n])}var jC="DismissableLayer",Ih="dismissableLayer.update",_C="dismissableLayer.pointerDownOutside",EC="dismissableLayer.focusOutside",mv,pw=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wp=w.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,onDismiss:f,...m}=e,h=w.useContext(pw),[g,y]=w.useState(null),x=g?.ownerDocument??globalThis?.document,[,b]=w.useState({}),S=rt(n,O=>y(O)),N=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(j),M=g?N.indexOf(g):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,T=M>=_,R=AC(O=>{const P=O.target,q=[...h.branches].some(Q=>Q.contains(P));!T||q||(l?.(O),d?.(O),O.defaultPrevented||f?.())},x),D=MC(O=>{const P=O.target;[...h.branches].some(Q=>Q.contains(P))||(c?.(O),d?.(O),O.defaultPrevented||f?.())},x);return SC(O=>{M===h.layers.size-1&&(a?.(O),!O.defaultPrevented&&f&&(O.preventDefault(),f()))},x),w.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(mv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),hv(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=mv)}},[g,x,r,h]),w.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),hv())},[g,h]),w.useEffect(()=>{const O=()=>b({});return document.addEventListener(Ih,O),()=>document.removeEventListener(Ih,O)},[]),o.jsx(Ye.div,{...m,ref:S,style:{pointerEvents:E?T?"auto":"none":void 0,...e.style},onFocusCapture:Ae(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Ae(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ae(e.onPointerDownCapture,R.onPointerDownCapture)})});wp.displayName=jC;var CC="DismissableLayerBranch",kC=w.forwardRef((e,n)=>{const r=w.useContext(pw),a=w.useRef(null),l=rt(n,a);return w.useEffect(()=>{const c=a.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),o.jsx(Ye.div,{...e,ref:l})});kC.displayName=CC;function AC(e,n=globalThis?.document){const r=Ft(e),a=w.useRef(!1),l=w.useRef(()=>{});return w.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let m=function(){gw(_C,r,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=m,n.addEventListener("click",l.current,{once:!0})):m()}else n.removeEventListener("click",l.current);a.current=!1},d=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),n.removeEventListener("pointerdown",c),n.removeEventListener("click",l.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}function MC(e,n=globalThis?.document){const r=Ft(e),a=w.useRef(!1);return w.useEffect(()=>{const l=c=>{c.target&&!a.current&&gw(EC,r,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function hv(){const e=new CustomEvent(Ih);document.dispatchEvent(e)}function gw(e,n,r,{discrete:a}){const l=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&l.addEventListener(e,n,{once:!0}),a?hw(l,c):l.dispatchEvent(c)}var th=0;function xw(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pv()),document.body.insertAdjacentElement("beforeend",e[1]??pv()),th++,()=>{th===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),th--}},[])}function pv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nh="focusScope.autoFocusOnMount",sh="focusScope.autoFocusOnUnmount",gv={bubbles:!1,cancelable:!0},TC="FocusScope",Np=w.forwardRef((e,n)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...d}=e,[f,m]=w.useState(null),h=Ft(l),g=Ft(c),y=w.useRef(null),x=rt(n,N=>m(N)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let N=function(E){if(b.paused||!f)return;const T=E.target;f.contains(T)?y.current=T:br(y.current,{select:!0})},j=function(E){if(b.paused||!f)return;const T=E.relatedTarget;T!==null&&(f.contains(T)||br(y.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&br(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",j);const M=new MutationObserver(_);return f&&M.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",j),M.disconnect()}}},[a,f,b.paused]),w.useEffect(()=>{if(f){yv.add(b);const N=document.activeElement;if(!f.contains(N)){const _=new CustomEvent(nh,gv);f.addEventListener(nh,h),f.dispatchEvent(_),_.defaultPrevented||(RC(LC(yw(f)),{select:!0}),document.activeElement===N&&br(f))}return()=>{f.removeEventListener(nh,h),setTimeout(()=>{const _=new CustomEvent(sh,gv);f.addEventListener(sh,g),f.dispatchEvent(_),_.defaultPrevented||br(N??document.body,{select:!0}),f.removeEventListener(sh,g),yv.remove(b)},0)}}},[f,h,g,b]);const S=w.useCallback(N=>{if(!r&&!a||b.paused)return;const j=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(j&&_){const M=N.currentTarget,[E,T]=DC(M);E&&T?!N.shiftKey&&_===T?(N.preventDefault(),r&&br(E,{select:!0})):N.shiftKey&&_===E&&(N.preventDefault(),r&&br(T,{select:!0})):_===M&&N.preventDefault()}},[r,a,b.paused]);return o.jsx(Ye.div,{tabIndex:-1,...d,ref:x,onKeyDown:S})});Np.displayName=TC;function RC(e,{select:n=!1}={}){const r=document.activeElement;for(const a of e)if(br(a,{select:n}),document.activeElement!==r)return}function DC(e){const n=yw(e),r=xv(n,e),a=xv(n.reverse(),e);return[r,a]}function yw(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function xv(e,n){for(const r of e)if(!OC(r,{upTo:n}))return r}function OC(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zC(e){return e instanceof HTMLInputElement&&"select"in e}function br(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zC(e)&&n&&e.select()}}var yv=IC();function IC(){let e=[];return{add(n){const r=e[0];n!==r&&r?.pause(),e=vv(e,n),e.unshift(n)},remove(n){e=vv(e,n),e[0]?.resume()}}}function vv(e,n){const r=[...e],a=r.indexOf(n);return a!==-1&&r.splice(a,1),r}function LC(e){return e.filter(n=>n.tagName!=="A")}var HC=Jb[" useId ".trim().toString()]||(()=>{}),$C=0;function lo(e){const[n,r]=w.useState(HC());return Yt(()=>{r(a=>a??String($C++))},[e]),n?`radix-${n}`:""}const PC=["top","right","bottom","left"],jr=Math.min,yn=Math.max,ju=Math.round,Gc=Math.floor,rs=e=>({x:e,y:e}),BC={left:"right",right:"left",bottom:"top",top:"bottom"},UC={start:"end",end:"start"};function Lh(e,n,r){return yn(e,jr(n,r))}function Ps(e,n){return typeof e=="function"?e(n):e}function Bs(e){return e.split("-")[0]}function Da(e){return e.split("-")[1]}function Sp(e){return e==="x"?"y":"x"}function jp(e){return e==="y"?"height":"width"}const VC=new Set(["top","bottom"]);function ns(e){return VC.has(Bs(e))?"y":"x"}function _p(e){return Sp(ns(e))}function qC(e,n,r){r===void 0&&(r=!1);const a=Da(e),l=_p(e),c=jp(l);let d=l==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return n.reference[c]>n.floating[c]&&(d=_u(d)),[d,_u(d)]}function FC(e){const n=_u(e);return[Hh(e),n,Hh(n)]}function Hh(e){return e.replace(/start|end/g,n=>UC[n])}const bv=["left","right"],wv=["right","left"],YC=["top","bottom"],GC=["bottom","top"];function XC(e,n,r){switch(e){case"top":case"bottom":return r?n?wv:bv:n?bv:wv;case"left":case"right":return n?YC:GC;default:return[]}}function ZC(e,n,r,a){const l=Da(e);let c=XC(Bs(e),r==="start",a);return l&&(c=c.map(d=>d+"-"+l),n&&(c=c.concat(c.map(Hh)))),c}function _u(e){return e.replace(/left|right|bottom|top/g,n=>BC[n])}function WC(e){return{top:0,right:0,bottom:0,left:0,...e}}function vw(e){return typeof e!="number"?WC(e):{top:e,right:e,bottom:e,left:e}}function Eu(e){const{x:n,y:r,width:a,height:l}=e;return{width:a,height:l,top:r,left:n,right:n+a,bottom:r+l,x:n,y:r}}function Nv(e,n,r){let{reference:a,floating:l}=e;const c=ns(n),d=_p(n),f=jp(d),m=Bs(n),h=c==="y",g=a.x+a.width/2-l.width/2,y=a.y+a.height/2-l.height/2,x=a[f]/2-l[f]/2;let b;switch(m){case"top":b={x:g,y:a.y-l.height};break;case"bottom":b={x:g,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y};break;case"left":b={x:a.x-l.width,y};break;default:b={x:a.x,y:a.y}}switch(Da(n)){case"start":b[d]-=x*(r&&h?-1:1);break;case"end":b[d]+=x*(r&&h?-1:1);break}return b}const KC=async(e,n,r)=>{const{placement:a="bottom",strategy:l="absolute",middleware:c=[],platform:d}=r,f=c.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(n));let h=await d.getElementRects({reference:e,floating:n,strategy:l}),{x:g,y}=Nv(h,a,m),x=a,b={},S=0;for(let N=0;N<f.length;N++){const{name:j,fn:_}=f[N],{x:M,y:E,data:T,reset:R}=await _({x:g,y,initialPlacement:a,placement:x,strategy:l,middlewareData:b,rects:h,platform:d,elements:{reference:e,floating:n}});g=M??g,y=E??y,b={...b,[j]:{...b[j],...T}},R&&S<=50&&(S++,typeof R=="object"&&(R.placement&&(x=R.placement),R.rects&&(h=R.rects===!0?await d.getElementRects({reference:e,floating:n,strategy:l}):R.rects),{x:g,y}=Nv(h,x,m)),N=-1)}return{x:g,y,placement:x,strategy:l,middlewareData:b}};async function Ji(e,n){var r;n===void 0&&(n={});const{x:a,y:l,platform:c,rects:d,elements:f,strategy:m}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:b=0}=Ps(n,e),S=vw(b),j=f[x?y==="floating"?"reference":"floating":y],_=Eu(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(j)))==null||r?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:g,strategy:m})),M=y==="floating"?{x:a,y:l,width:d.floating.width,height:d.floating.height}:d.reference,E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),T=await(c.isElement==null?void 0:c.isElement(E))?await(c.getScale==null?void 0:c.getScale(E))||{x:1,y:1}:{x:1,y:1},R=Eu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:M,offsetParent:E,strategy:m}):M);return{top:(_.top-R.top+S.top)/T.y,bottom:(R.bottom-_.bottom+S.bottom)/T.y,left:(_.left-R.left+S.left)/T.x,right:(R.right-_.right+S.right)/T.x}}const QC=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:a,placement:l,rects:c,platform:d,elements:f,middlewareData:m}=n,{element:h,padding:g=0}=Ps(e,n)||{};if(h==null)return{};const y=vw(g),x={x:r,y:a},b=_p(l),S=jp(b),N=await d.getDimensions(h),j=b==="y",_=j?"top":"left",M=j?"bottom":"right",E=j?"clientHeight":"clientWidth",T=c.reference[S]+c.reference[b]-x[b]-c.floating[S],R=x[b]-c.reference[b],D=await(d.getOffsetParent==null?void 0:d.getOffsetParent(h));let O=D?D[E]:0;(!O||!await(d.isElement==null?void 0:d.isElement(D)))&&(O=f.floating[E]||c.floating[S]);const P=T/2-R/2,q=O/2-N[S]/2-1,Q=jr(y[_],q),ee=jr(y[M],q),G=Q,W=O-N[S]-ee,B=O/2-N[S]/2+P,U=Lh(G,B,W),k=!m.arrow&&Da(l)!=null&&B!==U&&c.reference[S]/2-(B<G?Q:ee)-N[S]/2<0,L=k?B<G?B-G:B-W:0;return{[b]:x[b]+L,data:{[b]:U,centerOffset:B-U-L,...k&&{alignmentOffset:L}},reset:k}}}),JC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,a;const{placement:l,middlewareData:c,rects:d,initialPlacement:f,platform:m,elements:h}=n,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:N=!0,...j}=Ps(e,n);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const _=Bs(l),M=ns(f),E=Bs(f)===f,T=await(m.isRTL==null?void 0:m.isRTL(h.floating)),R=x||(E||!N?[_u(f)]:FC(f)),D=S!=="none";!x&&D&&R.push(...ZC(f,N,S,T));const O=[f,...R],P=await Ji(n,j),q=[];let Q=((a=c.flip)==null?void 0:a.overflows)||[];if(g&&q.push(P[_]),y){const B=qC(l,d,T);q.push(P[B[0]],P[B[1]])}if(Q=[...Q,{placement:l,overflows:q}],!q.every(B=>B<=0)){var ee,G;const B=(((ee=c.flip)==null?void 0:ee.index)||0)+1,U=O[B];if(U&&(!(y==="alignment"?M!==ns(U):!1)||Q.every(I=>ns(I.placement)===M?I.overflows[0]>0:!0)))return{data:{index:B,overflows:Q},reset:{placement:U}};let k=(G=Q.filter(L=>L.overflows[0]<=0).sort((L,I)=>L.overflows[1]-I.overflows[1])[0])==null?void 0:G.placement;if(!k)switch(b){case"bestFit":{var W;const L=(W=Q.filter(I=>{if(D){const H=ns(I.placement);return H===M||H==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(H=>H>0).reduce((H,C)=>H+C,0)]).sort((I,H)=>I[1]-H[1])[0])==null?void 0:W[0];L&&(k=L);break}case"initialPlacement":k=f;break}if(l!==k)return{reset:{placement:k}}}return{}}}};function Sv(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function jv(e){return PC.some(n=>e[n]>=0)}const ek=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:a="referenceHidden",...l}=Ps(e,n);switch(a){case"referenceHidden":{const c=await Ji(n,{...l,elementContext:"reference"}),d=Sv(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:jv(d)}}}case"escaped":{const c=await Ji(n,{...l,altBoundary:!0}),d=Sv(c,r.floating);return{data:{escapedOffsets:d,escaped:jv(d)}}}default:return{}}}}},bw=new Set(["left","top"]);async function tk(e,n){const{placement:r,platform:a,elements:l}=e,c=await(a.isRTL==null?void 0:a.isRTL(l.floating)),d=Bs(r),f=Da(r),m=ns(r)==="y",h=bw.has(d)?-1:1,g=c&&m?-1:1,y=Ps(n,e);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof S=="number"&&(b=f==="end"?S*-1:S),m?{x:b*g,y:x*h}:{x:x*h,y:b*g}}const nk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,a;const{x:l,y:c,placement:d,middlewareData:f}=n,m=await tk(n,e);return d===((r=f.offset)==null?void 0:r.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:l+m.x,y:c+m.y,data:{...m,placement:d}}}}},sk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:a,placement:l}=n,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:j=>{let{x:_,y:M}=j;return{x:_,y:M}}},...m}=Ps(e,n),h={x:r,y:a},g=await Ji(n,m),y=ns(Bs(l)),x=Sp(y);let b=h[x],S=h[y];if(c){const j=x==="y"?"top":"left",_=x==="y"?"bottom":"right",M=b+g[j],E=b-g[_];b=Lh(M,b,E)}if(d){const j=y==="y"?"top":"left",_=y==="y"?"bottom":"right",M=S+g[j],E=S-g[_];S=Lh(M,S,E)}const N=f.fn({...n,[x]:b,[y]:S});return{...N,data:{x:N.x-r,y:N.y-a,enabled:{[x]:c,[y]:d}}}}}},rk=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:a,placement:l,rects:c,middlewareData:d}=n,{offset:f=0,mainAxis:m=!0,crossAxis:h=!0}=Ps(e,n),g={x:r,y:a},y=ns(l),x=Sp(y);let b=g[x],S=g[y];const N=Ps(f,n),j=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const E=x==="y"?"height":"width",T=c.reference[x]-c.floating[E]+j.mainAxis,R=c.reference[x]+c.reference[E]-j.mainAxis;b<T?b=T:b>R&&(b=R)}if(h){var _,M;const E=x==="y"?"width":"height",T=bw.has(Bs(l)),R=c.reference[y]-c.floating[E]+(T&&((_=d.offset)==null?void 0:_[y])||0)+(T?0:j.crossAxis),D=c.reference[y]+c.reference[E]+(T?0:((M=d.offset)==null?void 0:M[y])||0)-(T?j.crossAxis:0);S<R?S=R:S>D&&(S=D)}return{[x]:b,[y]:S}}}},ok=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,a;const{placement:l,rects:c,platform:d,elements:f}=n,{apply:m=()=>{},...h}=Ps(e,n),g=await Ji(n,h),y=Bs(l),x=Da(l),b=ns(l)==="y",{width:S,height:N}=c.floating;let j,_;y==="top"||y==="bottom"?(j=y,_=x===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(_=y,j=x==="end"?"top":"bottom");const M=N-g.top-g.bottom,E=S-g.left-g.right,T=jr(N-g[j],M),R=jr(S-g[_],E),D=!n.middlewareData.shift;let O=T,P=R;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(P=E),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(O=M),D&&!x){const Q=yn(g.left,0),ee=yn(g.right,0),G=yn(g.top,0),W=yn(g.bottom,0);b?P=S-2*(Q!==0||ee!==0?Q+ee:yn(g.left,g.right)):O=N-2*(G!==0||W!==0?G+W:yn(g.top,g.bottom))}await m({...n,availableWidth:P,availableHeight:O});const q=await d.getDimensions(f.floating);return S!==q.width||N!==q.height?{reset:{rects:!0}}:{}}}};function Qu(){return typeof window<"u"}function Oa(e){return ww(e)?(e.nodeName||"").toLowerCase():"#document"}function bn(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function ds(e){var n;return(n=(ww(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function ww(e){return Qu()?e instanceof Node||e instanceof bn(e).Node:!1}function Un(e){return Qu()?e instanceof Element||e instanceof bn(e).Element:!1}function as(e){return Qu()?e instanceof HTMLElement||e instanceof bn(e).HTMLElement:!1}function _v(e){return!Qu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bn(e).ShadowRoot}const ak=new Set(["inline","contents"]);function yl(e){const{overflow:n,overflowX:r,overflowY:a,display:l}=Vn(e);return/auto|scroll|overlay|hidden|clip/.test(n+a+r)&&!ak.has(l)}const ik=new Set(["table","td","th"]);function lk(e){return ik.has(Oa(e))}const ck=[":popover-open",":modal"];function Ju(e){return ck.some(n=>{try{return e.matches(n)}catch{return!1}})}const uk=["transform","translate","scale","rotate","perspective"],dk=["transform","translate","scale","rotate","perspective","filter"],fk=["paint","layout","strict","content"];function Ep(e){const n=Cp(),r=Un(e)?Vn(e):e;return uk.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||dk.some(a=>(r.willChange||"").includes(a))||fk.some(a=>(r.contain||"").includes(a))}function mk(e){let n=_r(e);for(;as(n)&&!ya(n);){if(Ep(n))return n;if(Ju(n))return null;n=_r(n)}return null}function Cp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hk=new Set(["html","body","#document"]);function ya(e){return hk.has(Oa(e))}function Vn(e){return bn(e).getComputedStyle(e)}function ed(e){return Un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _r(e){if(Oa(e)==="html")return e;const n=e.assignedSlot||e.parentNode||_v(e)&&e.host||ds(e);return _v(n)?n.host:n}function Nw(e){const n=_r(e);return ya(n)?e.ownerDocument?e.ownerDocument.body:e.body:as(n)&&yl(n)?n:Nw(n)}function el(e,n,r){var a;n===void 0&&(n=[]),r===void 0&&(r=!0);const l=Nw(e),c=l===((a=e.ownerDocument)==null?void 0:a.body),d=bn(l);if(c){const f=$h(d);return n.concat(d,d.visualViewport||[],yl(l)?l:[],f&&r?el(f):[])}return n.concat(l,el(l,[],r))}function $h(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sw(e){const n=Vn(e);let r=parseFloat(n.width)||0,a=parseFloat(n.height)||0;const l=as(e),c=l?e.offsetWidth:r,d=l?e.offsetHeight:a,f=ju(r)!==c||ju(a)!==d;return f&&(r=c,a=d),{width:r,height:a,$:f}}function kp(e){return Un(e)?e:e.contextElement}function da(e){const n=kp(e);if(!as(n))return rs(1);const r=n.getBoundingClientRect(),{width:a,height:l,$:c}=Sw(n);let d=(c?ju(r.width):r.width)/a,f=(c?ju(r.height):r.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const pk=rs(0);function jw(e){const n=bn(e);return!Cp()||!n.visualViewport?pk:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function gk(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==bn(e)?!1:n}function co(e,n,r,a){n===void 0&&(n=!1),r===void 0&&(r=!1);const l=e.getBoundingClientRect(),c=kp(e);let d=rs(1);n&&(a?Un(a)&&(d=da(a)):d=da(e));const f=gk(c,r,a)?jw(c):rs(0);let m=(l.left+f.x)/d.x,h=(l.top+f.y)/d.y,g=l.width/d.x,y=l.height/d.y;if(c){const x=bn(c),b=a&&Un(a)?bn(a):a;let S=x,N=$h(S);for(;N&&a&&b!==S;){const j=da(N),_=N.getBoundingClientRect(),M=Vn(N),E=_.left+(N.clientLeft+parseFloat(M.paddingLeft))*j.x,T=_.top+(N.clientTop+parseFloat(M.paddingTop))*j.y;m*=j.x,h*=j.y,g*=j.x,y*=j.y,m+=E,h+=T,S=bn(N),N=$h(S)}}return Eu({width:g,height:y,x:m,y:h})}function td(e,n){const r=ed(e).scrollLeft;return n?n.left+r:co(ds(e)).left+r}function _w(e,n){const r=e.getBoundingClientRect(),a=r.left+n.scrollLeft-td(e,r),l=r.top+n.scrollTop;return{x:a,y:l}}function xk(e){let{elements:n,rect:r,offsetParent:a,strategy:l}=e;const c=l==="fixed",d=ds(a),f=n?Ju(n.floating):!1;if(a===d||f&&c)return r;let m={scrollLeft:0,scrollTop:0},h=rs(1);const g=rs(0),y=as(a);if((y||!y&&!c)&&((Oa(a)!=="body"||yl(d))&&(m=ed(a)),as(a))){const b=co(a);h=da(a),g.x=b.x+a.clientLeft,g.y=b.y+a.clientTop}const x=d&&!y&&!c?_w(d,m):rs(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-m.scrollLeft*h.x+g.x+x.x,y:r.y*h.y-m.scrollTop*h.y+g.y+x.y}}function yk(e){return Array.from(e.getClientRects())}function vk(e){const n=ds(e),r=ed(e),a=e.ownerDocument.body,l=yn(n.scrollWidth,n.clientWidth,a.scrollWidth,a.clientWidth),c=yn(n.scrollHeight,n.clientHeight,a.scrollHeight,a.clientHeight);let d=-r.scrollLeft+td(e);const f=-r.scrollTop;return Vn(a).direction==="rtl"&&(d+=yn(n.clientWidth,a.clientWidth)-l),{width:l,height:c,x:d,y:f}}const Ev=25;function bk(e,n){const r=bn(e),a=ds(e),l=r.visualViewport;let c=a.clientWidth,d=a.clientHeight,f=0,m=0;if(l){c=l.width,d=l.height;const g=Cp();(!g||g&&n==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}const h=td(a);if(h<=0){const g=a.ownerDocument,y=g.body,x=getComputedStyle(y),b=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(a.clientWidth-y.clientWidth-b);S<=Ev&&(c-=S)}else h<=Ev&&(c+=h);return{width:c,height:d,x:f,y:m}}const wk=new Set(["absolute","fixed"]);function Nk(e,n){const r=co(e,!0,n==="fixed"),a=r.top+e.clientTop,l=r.left+e.clientLeft,c=as(e)?da(e):rs(1),d=e.clientWidth*c.x,f=e.clientHeight*c.y,m=l*c.x,h=a*c.y;return{width:d,height:f,x:m,y:h}}function Cv(e,n,r){let a;if(n==="viewport")a=bk(e,r);else if(n==="document")a=vk(ds(e));else if(Un(n))a=Nk(n,r);else{const l=jw(e);a={x:n.x-l.x,y:n.y-l.y,width:n.width,height:n.height}}return Eu(a)}function Ew(e,n){const r=_r(e);return r===n||!Un(r)||ya(r)?!1:Vn(r).position==="fixed"||Ew(r,n)}function Sk(e,n){const r=n.get(e);if(r)return r;let a=el(e,[],!1).filter(f=>Un(f)&&Oa(f)!=="body"),l=null;const c=Vn(e).position==="fixed";let d=c?_r(e):e;for(;Un(d)&&!ya(d);){const f=Vn(d),m=Ep(d);!m&&f.position==="fixed"&&(l=null),(c?!m&&!l:!m&&f.position==="static"&&!!l&&wk.has(l.position)||yl(d)&&!m&&Ew(e,d))?a=a.filter(g=>g!==d):l=f,d=_r(d)}return n.set(e,a),a}function jk(e){let{element:n,boundary:r,rootBoundary:a,strategy:l}=e;const d=[...r==="clippingAncestors"?Ju(n)?[]:Sk(n,this._c):[].concat(r),a],f=d[0],m=d.reduce((h,g)=>{const y=Cv(n,g,l);return h.top=yn(y.top,h.top),h.right=jr(y.right,h.right),h.bottom=jr(y.bottom,h.bottom),h.left=yn(y.left,h.left),h},Cv(n,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function _k(e){const{width:n,height:r}=Sw(e);return{width:n,height:r}}function Ek(e,n,r){const a=as(n),l=ds(n),c=r==="fixed",d=co(e,!0,c,n);let f={scrollLeft:0,scrollTop:0};const m=rs(0);function h(){m.x=td(l)}if(a||!a&&!c)if((Oa(n)!=="body"||yl(l))&&(f=ed(n)),a){const b=co(n,!0,c,n);m.x=b.x+n.clientLeft,m.y=b.y+n.clientTop}else l&&h();c&&!a&&l&&h();const g=l&&!a&&!c?_w(l,f):rs(0),y=d.left+f.scrollLeft-m.x-g.x,x=d.top+f.scrollTop-m.y-g.y;return{x:y,y:x,width:d.width,height:d.height}}function rh(e){return Vn(e).position==="static"}function kv(e,n){if(!as(e)||Vn(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return ds(e)===r&&(r=r.ownerDocument.body),r}function Cw(e,n){const r=bn(e);if(Ju(e))return r;if(!as(e)){let l=_r(e);for(;l&&!ya(l);){if(Un(l)&&!rh(l))return l;l=_r(l)}return r}let a=kv(e,n);for(;a&&lk(a)&&rh(a);)a=kv(a,n);return a&&ya(a)&&rh(a)&&!Ep(a)?r:a||mk(e)||r}const Ck=async function(e){const n=this.getOffsetParent||Cw,r=this.getDimensions,a=await r(e.floating);return{reference:Ek(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function kk(e){return Vn(e).direction==="rtl"}const Ak={convertOffsetParentRelativeRectToViewportRelativeRect:xk,getDocumentElement:ds,getClippingRect:jk,getOffsetParent:Cw,getElementRects:Ck,getClientRects:yk,getDimensions:_k,getScale:da,isElement:Un,isRTL:kk};function kw(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Mk(e,n){let r=null,a;const l=ds(e);function c(){var f;clearTimeout(a),(f=r)==null||f.disconnect(),r=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),c();const h=e.getBoundingClientRect(),{left:g,top:y,width:x,height:b}=h;if(f||n(),!x||!b)return;const S=Gc(y),N=Gc(l.clientWidth-(g+x)),j=Gc(l.clientHeight-(y+b)),_=Gc(g),E={rootMargin:-S+"px "+-N+"px "+-j+"px "+-_+"px",threshold:yn(0,jr(1,m))||1};let T=!0;function R(D){const O=D[0].intersectionRatio;if(O!==m){if(!T)return d();O?d(!1,O):a=setTimeout(()=>{d(!1,1e-7)},1e3)}O===1&&!kw(h,e.getBoundingClientRect())&&d(),T=!1}try{r=new IntersectionObserver(R,{...E,root:l.ownerDocument})}catch{r=new IntersectionObserver(R,E)}r.observe(e)}return d(!0),c}function Tk(e,n,r,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,h=kp(e),g=l||c?[...h?el(h):[],...el(n)]:[];g.forEach(_=>{l&&_.addEventListener("scroll",r,{passive:!0}),c&&_.addEventListener("resize",r)});const y=h&&f?Mk(h,r):null;let x=-1,b=null;d&&(b=new ResizeObserver(_=>{let[M]=_;M&&M.target===h&&b&&(b.unobserve(n),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(n)})),r()}),h&&!m&&b.observe(h),b.observe(n));let S,N=m?co(e):null;m&&j();function j(){const _=co(e);N&&!kw(N,_)&&r(),N=_,S=requestAnimationFrame(j)}return r(),()=>{var _;g.forEach(M=>{l&&M.removeEventListener("scroll",r),c&&M.removeEventListener("resize",r)}),y?.(),(_=b)==null||_.disconnect(),b=null,m&&cancelAnimationFrame(S)}}const Rk=nk,Dk=sk,Ok=JC,zk=ok,Ik=ek,Av=QC,Lk=rk,Hk=(e,n,r)=>{const a=new Map,l={platform:Ak,...r},c={...l.platform,_c:a};return KC(e,n,{...l,platform:c})};var $k=typeof document<"u",Pk=function(){},du=$k?w.useLayoutEffect:Pk;function Cu(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,a,l;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(a=r;a--!==0;)if(!Cu(e[a],n[a]))return!1;return!0}if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(n,l[a]))return!1;for(a=r;a--!==0;){const c=l[a];if(!(c==="_owner"&&e.$$typeof)&&!Cu(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}function Aw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mv(e,n){const r=Aw(e);return Math.round(n*r)/r}function oh(e){const n=w.useRef(e);return du(()=>{n.current=e}),n}function Bk(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:l,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:m,open:h}=e,[g,y]=w.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[x,b]=w.useState(a);Cu(x,a)||b(a);const[S,N]=w.useState(null),[j,_]=w.useState(null),M=w.useCallback(I=>{I!==D.current&&(D.current=I,N(I))},[]),E=w.useCallback(I=>{I!==O.current&&(O.current=I,_(I))},[]),T=c||S,R=d||j,D=w.useRef(null),O=w.useRef(null),P=w.useRef(g),q=m!=null,Q=oh(m),ee=oh(l),G=oh(h),W=w.useCallback(()=>{if(!D.current||!O.current)return;const I={placement:n,strategy:r,middleware:x};ee.current&&(I.platform=ee.current),Hk(D.current,O.current,I).then(H=>{const C={...H,isPositioned:G.current!==!1};B.current&&!Cu(P.current,C)&&(P.current=C,gl.flushSync(()=>{y(C)}))})},[x,n,r,ee,G]);du(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,y(I=>({...I,isPositioned:!1})))},[h]);const B=w.useRef(!1);du(()=>(B.current=!0,()=>{B.current=!1}),[]),du(()=>{if(T&&(D.current=T),R&&(O.current=R),T&&R){if(Q.current)return Q.current(T,R,W);W()}},[T,R,W,Q,q]);const U=w.useMemo(()=>({reference:D,floating:O,setReference:M,setFloating:E}),[M,E]),k=w.useMemo(()=>({reference:T,floating:R}),[T,R]),L=w.useMemo(()=>{const I={position:r,left:0,top:0};if(!k.floating)return I;const H=Mv(k.floating,g.x),C=Mv(k.floating,g.y);return f?{...I,transform:"translate("+H+"px, "+C+"px)",...Aw(k.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:C}},[r,f,k.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:W,refs:U,elements:k,floatingStyles:L}),[g,W,U,k,L])}const Uk=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:l}=typeof e=="function"?e(r):e;return a&&n(a)?a.current!=null?Av({element:a.current,padding:l}).fn(r):{}:a?Av({element:a,padding:l}).fn(r):{}}}},Vk=(e,n)=>({...Rk(e),options:[e,n]}),qk=(e,n)=>({...Dk(e),options:[e,n]}),Fk=(e,n)=>({...Lk(e),options:[e,n]}),Yk=(e,n)=>({...Ok(e),options:[e,n]}),Gk=(e,n)=>({...zk(e),options:[e,n]}),Xk=(e,n)=>({...Ik(e),options:[e,n]}),Zk=(e,n)=>({...Uk(e),options:[e,n]});var Wk="Arrow",Mw=w.forwardRef((e,n)=>{const{children:r,width:a=10,height:l=5,...c}=e;return o.jsx(Ye.svg,{...c,ref:n,width:a,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mw.displayName=Wk;var Kk=Mw;function Ap(e){const[n,r]=w.useState(void 0);return Yt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let d,f;if("borderBoxSize"in c){const m=c.borderBoxSize,h=Array.isArray(m)?m[0]:m;d=h.inlineSize,f=h.blockSize}else d=e.offsetWidth,f=e.offsetHeight;r({width:d,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),n}var Mp="Popper",[Tw,nd]=us(Mp),[Qk,Rw]=Tw(Mp),Dw=e=>{const{__scopePopper:n,children:r}=e,[a,l]=w.useState(null);return o.jsx(Qk,{scope:n,anchor:a,onAnchorChange:l,children:r})};Dw.displayName=Mp;var Ow="PopperAnchor",zw=w.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:a,...l}=e,c=Rw(Ow,r),d=w.useRef(null),f=rt(n,d),m=w.useRef(null);return w.useEffect(()=>{const h=m.current;m.current=a?.current||d.current,h!==m.current&&c.onAnchorChange(m.current)}),a?null:o.jsx(Ye.div,{...l,ref:f})});zw.displayName=Ow;var Tp="PopperContent",[Jk,e4]=Tw(Tp),Iw=w.forwardRef((e,n)=>{const{__scopePopper:r,side:a="bottom",sideOffset:l=0,align:c="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:S,...N}=e,j=Rw(Tp,r),[_,M]=w.useState(null),E=rt(n,te=>M(te)),[T,R]=w.useState(null),D=Ap(T),O=D?.width??0,P=D?.height??0,q=a+(c!=="center"?"-"+c:""),Q=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ee=Array.isArray(h)?h:[h],G=ee.length>0,W={padding:Q,boundary:ee.filter(n4),altBoundary:G},{refs:B,floatingStyles:U,placement:k,isPositioned:L,middlewareData:I}=Bk({strategy:"fixed",placement:q,whileElementsMounted:(...te)=>Tk(...te,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[Vk({mainAxis:l+P,alignmentAxis:d}),m&&qk({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Fk():void 0,...W}),m&&Yk({...W}),Gk({...W,apply:({elements:te,rects:ie,availableWidth:xe,availableHeight:ve})=>{const{width:be,height:ne}=ie.reference,he=te.floating.style;he.setProperty("--radix-popper-available-width",`${xe}px`),he.setProperty("--radix-popper-available-height",`${ve}px`),he.setProperty("--radix-popper-anchor-width",`${be}px`),he.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),T&&Zk({element:T,padding:f}),s4({arrowWidth:O,arrowHeight:P}),x&&Xk({strategy:"referenceHidden",...W})]}),[H,C]=$w(k),$=Ft(S);Yt(()=>{L&&$?.()},[L,$]);const Y=I.arrow?.x,V=I.arrow?.y,K=I.arrow?.centerOffset!==0,[fe,ue]=w.useState();return Yt(()=>{_&&ue(window.getComputedStyle(_).zIndex)},[_]),o.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:L?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Jk,{scope:r,placedSide:H,onArrowChange:R,arrowX:Y,arrowY:V,shouldHideArrow:K,children:o.jsx(Ye.div,{"data-side":H,"data-align":C,...N,ref:E,style:{...N.style,animation:L?void 0:"none"}})})})});Iw.displayName=Tp;var Lw="PopperArrow",t4={top:"bottom",right:"left",bottom:"top",left:"right"},Hw=w.forwardRef(function(n,r){const{__scopePopper:a,...l}=n,c=e4(Lw,a),d=t4[c.placedSide];return o.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:o.jsx(Kk,{...l,ref:r,style:{...l.style,display:"block"}})})});Hw.displayName=Lw;function n4(e){return e!==null}var s4=e=>({name:"transformOrigin",options:e,fn(n){const{placement:r,rects:a,middlewareData:l}=n,d=l.arrow?.centerOffset!==0,f=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[h,g]=$w(r),y={start:"0%",center:"50%",end:"100%"}[g],x=(l.arrow?.x??0)+f/2,b=(l.arrow?.y??0)+m/2;let S="",N="";return h==="bottom"?(S=d?y:`${x}px`,N=`${-m}px`):h==="top"?(S=d?y:`${x}px`,N=`${a.floating.height+m}px`):h==="right"?(S=`${-m}px`,N=d?y:`${b}px`):h==="left"&&(S=`${a.floating.width+m}px`,N=d?y:`${b}px`),{data:{x:S,y:N}}}});function $w(e){const[n,r="center"]=e.split("-");return[n,r]}var Pw=Dw,Bw=zw,Uw=Iw,Vw=Hw,r4="Portal",Rp=w.forwardRef((e,n)=>{const{container:r,...a}=e,[l,c]=w.useState(!1);Yt(()=>c(!0),[]);const d=r||l&&globalThis?.document?.body;return d?bC.createPortal(o.jsx(Ye.div,{...a,ref:n}),d):null});Rp.displayName=r4;function o4(e,n){return w.useReducer((r,a)=>n[r][a]??r,e)}var Fn=e=>{const{present:n,children:r}=e,a=a4(n),l=typeof r=="function"?r({present:a.isPresent}):w.Children.only(r),c=rt(a.ref,i4(l));return typeof r=="function"||a.isPresent?w.cloneElement(l,{ref:c}):null};Fn.displayName="Presence";function a4(e){const[n,r]=w.useState(),a=w.useRef(null),l=w.useRef(e),c=w.useRef("none"),d=e?"mounted":"unmounted",[f,m]=o4(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=Xc(a.current);c.current=f==="mounted"?h:"none"},[f]),Yt(()=>{const h=a.current,g=l.current;if(g!==e){const x=c.current,b=Xc(h);e?m("MOUNT"):b==="none"||h?.display==="none"?m("UNMOUNT"):m(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),Yt(()=>{if(n){let h;const g=n.ownerDocument.defaultView??window,y=b=>{const N=Xc(a.current).includes(CSS.escape(b.animationName));if(b.target===n&&N&&(m("ANIMATION_END"),!l.current)){const j=n.style.animationFillMode;n.style.animationFillMode="forwards",h=g.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=j)})}},x=b=>{b.target===n&&(c.current=Xc(a.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",y),n.addEventListener("animationend",y),()=>{g.clearTimeout(h),n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",y),n.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(h=>{a.current=h?getComputedStyle(h):null,r(h)},[])}}function Xc(e){return e?.animationName||"none"}function i4(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ah="rovingFocusGroup.onEntryFocus",l4={bubbles:!1,cancelable:!0},vl="RovingFocusGroup",[Ph,qw,c4]=bp(vl),[u4,sd]=us(vl,[c4]),[d4,f4]=u4(vl),Fw=w.forwardRef((e,n)=>o.jsx(Ph.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ph.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(m4,{...e,ref:n})})}));Fw.displayName=vl;var m4=w.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:l=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...y}=e,x=w.useRef(null),b=rt(n,x),S=xl(c),[N,j]=io({prop:d,defaultProp:f??null,onChange:m,caller:vl}),[_,M]=w.useState(!1),E=Ft(h),T=qw(r),R=w.useRef(!1),[D,O]=w.useState(0);return w.useEffect(()=>{const P=x.current;if(P)return P.addEventListener(ah,E),()=>P.removeEventListener(ah,E)},[E]),o.jsx(d4,{scope:r,orientation:a,dir:S,loop:l,currentTabStopId:N,onItemFocus:w.useCallback(P=>j(P),[j]),onItemShiftTab:w.useCallback(()=>M(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>O(P=>P-1),[]),children:o.jsx(Ye.div,{tabIndex:_||D===0?-1:0,"data-orientation":a,...y,ref:b,style:{outline:"none",...e.style},onMouseDown:Ae(e.onMouseDown,()=>{R.current=!0}),onFocus:Ae(e.onFocus,P=>{const q=!R.current;if(P.target===P.currentTarget&&q&&!_){const Q=new CustomEvent(ah,l4);if(P.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const ee=T().filter(k=>k.focusable),G=ee.find(k=>k.active),W=ee.find(k=>k.id===N),U=[G,W,...ee].filter(Boolean).map(k=>k.ref.current);Xw(U,g)}}R.current=!1}),onBlur:Ae(e.onBlur,()=>M(!1))})})}),Yw="RovingFocusGroupItem",Gw=w.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:l=!1,tabStopId:c,children:d,...f}=e,m=lo(),h=c||m,g=f4(Yw,r),y=g.currentTabStopId===h,x=qw(r),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:N}=g;return w.useEffect(()=>{if(a)return b(),()=>S()},[a,b,S]),o.jsx(Ph.ItemSlot,{scope:r,id:h,focusable:a,active:l,children:o.jsx(Ye.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...f,ref:n,onMouseDown:Ae(e.onMouseDown,j=>{a?g.onItemFocus(h):j.preventDefault()}),onFocus:Ae(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:Ae(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){g.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const _=g4(j,g.orientation,g.dir);if(_!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let E=x().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const T=E.indexOf(j.currentTarget);E=g.loop?x4(E,T+1):E.slice(T+1)}setTimeout(()=>Xw(E))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:N!=null}):d})})});Gw.displayName=Yw;var h4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p4(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g4(e,n,r){const a=p4(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return h4[a]}function Xw(e,n=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:n}),document.activeElement!==r))return}function x4(e,n){return e.map((r,a)=>e[(n+a)%e.length])}var Zw=Fw,Ww=Gw,y4=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},oa=new WeakMap,Zc=new WeakMap,Wc={},ih=0,Kw=function(e){return e&&(e.host||Kw(e.parentNode))},v4=function(e,n){return n.map(function(r){if(e.contains(r))return r;var a=Kw(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},b4=function(e,n,r,a){var l=v4(n,Array.isArray(e)?e:[e]);Wc[r]||(Wc[r]=new WeakMap);var c=Wc[r],d=[],f=new Set,m=new Set(l),h=function(y){!y||f.has(y)||(f.add(y),h(y.parentNode))};l.forEach(h);var g=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(x){if(f.has(x))g(x);else try{var b=x.getAttribute(a),S=b!==null&&b!=="false",N=(oa.get(x)||0)+1,j=(c.get(x)||0)+1;oa.set(x,N),c.set(x,j),d.push(x),N===1&&S&&Zc.set(x,!0),j===1&&x.setAttribute(r,"true"),S||x.setAttribute(a,"true")}catch(_){console.error("aria-hidden: cannot operate on ",x,_)}})};return g(n),f.clear(),ih++,function(){d.forEach(function(y){var x=oa.get(y)-1,b=c.get(y)-1;oa.set(y,x),c.set(y,b),x||(Zc.has(y)||y.removeAttribute(a),Zc.delete(y)),b||y.removeAttribute(r)}),ih--,ih||(oa=new WeakMap,oa=new WeakMap,Zc=new WeakMap,Wc={})}},Qw=function(e,n,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),l=y4(e);return l?(a.push.apply(a,Array.from(l.querySelectorAll("[aria-live], script"))),b4(a,l,r,"aria-hidden")):function(){return null}},ts=function(){return ts=Object.assign||function(n){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},ts.apply(this,arguments)};function Jw(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r}function w4(e,n,r){if(r||arguments.length===2)for(var a=0,l=n.length,c;a<l;a++)(c||!(a in n))&&(c||(c=Array.prototype.slice.call(n,0,a)),c[a]=n[a]);return e.concat(c||Array.prototype.slice.call(n))}var fu="right-scroll-bar-position",mu="width-before-scroll-bar",N4="with-scroll-bars-hidden",S4="--removed-body-scroll-bar-size";function lh(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function j4(e,n){var r=w.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(a){var l=r.value;l!==a&&(r.value=a,r.callback(a,l))}}}})[0];return r.callback=n,r.facade}var _4=typeof window<"u"?w.useLayoutEffect:w.useEffect,Tv=new WeakMap;function E4(e,n){var r=j4(null,function(a){return e.forEach(function(l){return lh(l,a)})});return _4(function(){var a=Tv.get(r);if(a){var l=new Set(a),c=new Set(e),d=r.current;l.forEach(function(f){c.has(f)||lh(f,null)}),c.forEach(function(f){l.has(f)||lh(f,d)})}Tv.set(r,e)},[e]),r}function C4(e){return e}function k4(e,n){n===void 0&&(n=C4);var r=[],a=!1,l={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var d=n(c,a);return r.push(d),function(){r=r.filter(function(f){return f!==d})}},assignSyncMedium:function(c){for(a=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){a=!0;var d=[];if(r.length){var f=r;r=[],f.forEach(c),d=r}var m=function(){var g=d;d=[],g.forEach(c)},h=function(){return Promise.resolve().then(m)};h(),r={push:function(g){d.push(g),h()},filter:function(g){return d=d.filter(g),r}}}};return l}function A4(e){e===void 0&&(e={});var n=k4(null);return n.options=ts({async:!0,ssr:!1},e),n}var e1=function(e){var n=e.sideCar,r=Jw(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,ts({},r))};e1.isSideCarExport=!0;function M4(e,n){return e.useMedium(n),e1}var t1=A4(),ch=function(){},rd=w.forwardRef(function(e,n){var r=w.useRef(null),a=w.useState({onScrollCapture:ch,onWheelCapture:ch,onTouchMoveCapture:ch}),l=a[0],c=a[1],d=e.forwardProps,f=e.children,m=e.className,h=e.removeScrollBar,g=e.enabled,y=e.shards,x=e.sideCar,b=e.noRelative,S=e.noIsolation,N=e.inert,j=e.allowPinchZoom,_=e.as,M=_===void 0?"div":_,E=e.gapMode,T=Jw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=x,D=E4([r,n]),O=ts(ts({},T),l);return w.createElement(w.Fragment,null,g&&w.createElement(R,{sideCar:t1,removeScrollBar:h,shards:y,noRelative:b,noIsolation:S,inert:N,setCallbacks:c,allowPinchZoom:!!j,lockRef:r,gapMode:E}),d?w.cloneElement(w.Children.only(f),ts(ts({},O),{ref:D})):w.createElement(M,ts({},O,{className:m,ref:D}),f))});rd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rd.classNames={fullWidth:mu,zeroRight:fu};var T4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function R4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=T4();return n&&e.setAttribute("nonce",n),e}function D4(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function O4(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var z4=function(){var e=0,n=null;return{add:function(r){e==0&&(n=R4())&&(D4(n,r),O4(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},I4=function(){var e=z4();return function(n,r){w.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},n1=function(){var e=I4(),n=function(r){var a=r.styles,l=r.dynamic;return e(a,l),null};return n},L4={left:0,top:0,right:0,gap:0},uh=function(e){return parseInt(e||"",10)||0},H4=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],l=n[e==="padding"?"paddingRight":"marginRight"];return[uh(r),uh(a),uh(l)]},$4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return L4;var n=H4(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-r+n[2]-n[0])}},P4=n1(),fa="data-scroll-locked",B4=function(e,n,r,a){var l=e.left,c=e.top,d=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(N4,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(fa,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fu,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(mu,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(fu," .").concat(fu,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(mu," .").concat(mu,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(fa,`] {
    `).concat(S4,": ").concat(f,`px;
  }
`)},Rv=function(){var e=parseInt(document.body.getAttribute(fa)||"0",10);return isFinite(e)?e:0},U4=function(){w.useEffect(function(){return document.body.setAttribute(fa,(Rv()+1).toString()),function(){var e=Rv()-1;e<=0?document.body.removeAttribute(fa):document.body.setAttribute(fa,e.toString())}},[])},V4=function(e){var n=e.noRelative,r=e.noImportant,a=e.gapMode,l=a===void 0?"margin":a;U4();var c=w.useMemo(function(){return $4(l)},[l]);return w.createElement(P4,{styles:B4(c,!n,l,r?"":"!important")})},Bh=!1;if(typeof window<"u")try{var Kc=Object.defineProperty({},"passive",{get:function(){return Bh=!0,!0}});window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{Bh=!1}var aa=Bh?{passive:!1}:!1,q4=function(e){return e.tagName==="TEXTAREA"},s1=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!q4(e)&&r[n]==="visible")},F4=function(e){return s1(e,"overflowY")},Y4=function(e){return s1(e,"overflowX")},Dv=function(e,n){var r=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=r1(e,a);if(l){var c=o1(e,a),d=c[1],f=c[2];if(d>f)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},G4=function(e){var n=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[n,r,a]},X4=function(e){var n=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[n,r,a]},r1=function(e,n){return e==="v"?F4(n):Y4(n)},o1=function(e,n){return e==="v"?G4(n):X4(n)},Z4=function(e,n){return e==="h"&&n==="rtl"?-1:1},W4=function(e,n,r,a,l){var c=Z4(e,window.getComputedStyle(n).direction),d=c*a,f=r.target,m=n.contains(f),h=!1,g=d>0,y=0,x=0;do{if(!f)break;var b=o1(e,f),S=b[0],N=b[1],j=b[2],_=N-j-c*S;(S||_)&&r1(e,f)&&(y+=_,x+=S);var M=f.parentNode;f=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!m&&f!==document.body||m&&(n.contains(f)||n===f));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(h=!0),h},Qc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ov=function(e){return[e.deltaX,e.deltaY]},zv=function(e){return e&&"current"in e?e.current:e},K4=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Q4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},J4=0,ia=[];function e3(e){var n=w.useRef([]),r=w.useRef([0,0]),a=w.useRef(),l=w.useState(J4++)[0],c=w.useState(n1)[0],d=w.useRef(e);w.useEffect(function(){d.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var N=w4([e.lockRef.current],(e.shards||[]).map(zv),!0).filter(Boolean);return N.forEach(function(j){return j.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=w.useCallback(function(N,j){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var _=Qc(N),M=r.current,E="deltaX"in N?N.deltaX:M[0]-_[0],T="deltaY"in N?N.deltaY:M[1]-_[1],R,D=N.target,O=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in N&&O==="h"&&D.type==="range")return!1;var P=Dv(O,D);if(!P)return!0;if(P?R=O:(R=O==="v"?"h":"v",P=Dv(O,D)),!P)return!1;if(!a.current&&"changedTouches"in N&&(E||T)&&(a.current=R),!R)return!0;var q=a.current||R;return W4(q,j,N,q==="h"?E:T)},[]),m=w.useCallback(function(N){var j=N;if(!(!ia.length||ia[ia.length-1]!==c)){var _="deltaY"in j?Ov(j):Qc(j),M=n.current.filter(function(R){return R.name===j.type&&(R.target===j.target||j.target===R.shadowParent)&&K4(R.delta,_)})[0];if(M&&M.should){j.cancelable&&j.preventDefault();return}if(!M){var E=(d.current.shards||[]).map(zv).filter(Boolean).filter(function(R){return R.contains(j.target)}),T=E.length>0?f(j,E[0]):!d.current.noIsolation;T&&j.cancelable&&j.preventDefault()}}},[]),h=w.useCallback(function(N,j,_,M){var E={name:N,delta:j,target:_,should:M,shadowParent:t3(_)};n.current.push(E),setTimeout(function(){n.current=n.current.filter(function(T){return T!==E})},1)},[]),g=w.useCallback(function(N){r.current=Qc(N),a.current=void 0},[]),y=w.useCallback(function(N){h(N.type,Ov(N),N.target,f(N,e.lockRef.current))},[]),x=w.useCallback(function(N){h(N.type,Qc(N),N.target,f(N,e.lockRef.current))},[]);w.useEffect(function(){return ia.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",m,aa),document.addEventListener("touchmove",m,aa),document.addEventListener("touchstart",g,aa),function(){ia=ia.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,aa),document.removeEventListener("touchmove",m,aa),document.removeEventListener("touchstart",g,aa)}},[]);var b=e.removeScrollBar,S=e.inert;return w.createElement(w.Fragment,null,S?w.createElement(c,{styles:Q4(l)}):null,b?w.createElement(V4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function t3(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const n3=M4(t1,e3);var Dp=w.forwardRef(function(e,n){return w.createElement(rd,ts({},e,{ref:n,sideCar:n3}))});Dp.classNames=rd.classNames;var Uh=["Enter"," "],s3=["ArrowDown","PageUp","Home"],a1=["ArrowUp","PageDown","End"],r3=[...s3,...a1],o3={ltr:[...Uh,"ArrowRight"],rtl:[...Uh,"ArrowLeft"]},a3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bl="Menu",[tl,i3,l3]=bp(bl),[xo,i1]=us(bl,[l3,nd,sd]),od=nd(),l1=sd(),[c3,yo]=xo(bl),[u3,wl]=xo(bl),c1=e=>{const{__scopeMenu:n,open:r=!1,children:a,dir:l,onOpenChange:c,modal:d=!0}=e,f=od(n),[m,h]=w.useState(null),g=w.useRef(!1),y=Ft(c),x=xl(l);return w.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),o.jsx(Pw,{...f,children:o.jsx(c3,{scope:n,open:r,onOpenChange:y,content:m,onContentChange:h,children:o.jsx(u3,{scope:n,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:g,dir:x,modal:d,children:a})})})};c1.displayName=bl;var d3="MenuAnchor",Op=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,l=od(r);return o.jsx(Bw,{...l,...a,ref:n})});Op.displayName=d3;var zp="MenuPortal",[f3,u1]=xo(zp,{forceMount:void 0}),d1=e=>{const{__scopeMenu:n,forceMount:r,children:a,container:l}=e,c=yo(zp,n);return o.jsx(f3,{scope:n,forceMount:r,children:o.jsx(Fn,{present:r||c.open,children:o.jsx(Rp,{asChild:!0,container:l,children:a})})})};d1.displayName=zp;var Mn="MenuContent",[m3,Ip]=xo(Mn),f1=w.forwardRef((e,n)=>{const r=u1(Mn,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,c=yo(Mn,e.__scopeMenu),d=wl(Mn,e.__scopeMenu);return o.jsx(tl.Provider,{scope:e.__scopeMenu,children:o.jsx(Fn,{present:a||c.open,children:o.jsx(tl.Slot,{scope:e.__scopeMenu,children:d.modal?o.jsx(h3,{...l,ref:n}):o.jsx(p3,{...l,ref:n})})})})}),h3=w.forwardRef((e,n)=>{const r=yo(Mn,e.__scopeMenu),a=w.useRef(null),l=rt(n,a);return w.useEffect(()=>{const c=a.current;if(c)return Qw(c)},[]),o.jsx(Lp,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ae(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),p3=w.forwardRef((e,n)=>{const r=yo(Mn,e.__scopeMenu);return o.jsx(Lp,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),g3=xa("MenuContent.ScrollLock"),Lp=w.forwardRef((e,n)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:m,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:x,onDismiss:b,disableOutsideScroll:S,...N}=e,j=yo(Mn,r),_=wl(Mn,r),M=od(r),E=l1(r),T=i3(r),[R,D]=w.useState(null),O=w.useRef(null),P=rt(n,O,j.onContentChange),q=w.useRef(0),Q=w.useRef(""),ee=w.useRef(0),G=w.useRef(null),W=w.useRef("right"),B=w.useRef(0),U=S?Dp:w.Fragment,k=S?{as:g3,allowPinchZoom:!0}:void 0,L=H=>{const C=Q.current+H,$=T().filter(te=>!te.disabled),Y=document.activeElement,V=$.find(te=>te.ref.current===Y)?.textValue,K=$.map(te=>te.textValue),fe=k3(K,C,V),ue=$.find(te=>te.textValue===fe)?.ref.current;(function te(ie){Q.current=ie,window.clearTimeout(q.current),ie!==""&&(q.current=window.setTimeout(()=>te(""),1e3))})(C),ue&&setTimeout(()=>ue.focus())};w.useEffect(()=>()=>window.clearTimeout(q.current),[]),xw();const I=w.useCallback(H=>W.current===G.current?.side&&M3(H,G.current?.area),[]);return o.jsx(m3,{scope:r,searchRef:Q,onItemEnter:w.useCallback(H=>{I(H)&&H.preventDefault()},[I]),onItemLeave:w.useCallback(H=>{I(H)||(O.current?.focus(),D(null))},[I]),onTriggerLeave:w.useCallback(H=>{I(H)&&H.preventDefault()},[I]),pointerGraceTimerRef:ee,onPointerGraceIntentChange:w.useCallback(H=>{G.current=H},[]),children:o.jsx(U,{...k,children:o.jsx(Np,{asChild:!0,trapped:l,onMountAutoFocus:Ae(c,H=>{H.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:o.jsx(wp,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:x,onDismiss:b,children:o.jsx(Zw,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:a,currentTabStopId:R,onCurrentTabStopIdChange:D,onEntryFocus:Ae(m,H=>{_.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Uw,{role:"menu","aria-orientation":"vertical","data-state":k1(j.open),"data-radix-menu-content":"",dir:_.dir,...M,...N,ref:P,style:{outline:"none",...N.style},onKeyDown:Ae(N.onKeyDown,H=>{const $=H.target.closest("[data-radix-menu-content]")===H.currentTarget,Y=H.ctrlKey||H.altKey||H.metaKey,V=H.key.length===1;$&&(H.key==="Tab"&&H.preventDefault(),!Y&&V&&L(H.key));const K=O.current;if(H.target!==K||!r3.includes(H.key))return;H.preventDefault();const ue=T().filter(te=>!te.disabled).map(te=>te.ref.current);a1.includes(H.key)&&ue.reverse(),E3(ue)}),onBlur:Ae(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(q.current),Q.current="")}),onPointerMove:Ae(e.onPointerMove,nl(H=>{const C=H.target,$=B.current!==H.clientX;if(H.currentTarget.contains(C)&&$){const Y=H.clientX>B.current?"right":"left";W.current=Y,B.current=H.clientX}}))})})})})})})});f1.displayName=Mn;var x3="MenuGroup",Hp=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{role:"group",...a,ref:n})});Hp.displayName=x3;var y3="MenuLabel",m1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{...a,ref:n})});m1.displayName=y3;var ku="MenuItem",Iv="menu.itemSelect",ad=w.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:a,...l}=e,c=w.useRef(null),d=wl(ku,e.__scopeMenu),f=Ip(ku,e.__scopeMenu),m=rt(n,c),h=w.useRef(!1),g=()=>{const y=c.current;if(!r&&y){const x=new CustomEvent(Iv,{bubbles:!0,cancelable:!0});y.addEventListener(Iv,b=>a?.(b),{once:!0}),hw(y,x),x.defaultPrevented?h.current=!1:d.onClose()}};return o.jsx(h1,{...l,ref:m,disabled:r,onClick:Ae(e.onClick,g),onPointerDown:y=>{e.onPointerDown?.(y),h.current=!0},onPointerUp:Ae(e.onPointerUp,y=>{h.current||y.currentTarget?.click()}),onKeyDown:Ae(e.onKeyDown,y=>{const x=f.searchRef.current!=="";r||x&&y.key===" "||Uh.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});ad.displayName=ku;var h1=w.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:a=!1,textValue:l,...c}=e,d=Ip(ku,r),f=l1(r),m=w.useRef(null),h=rt(n,m),[g,y]=w.useState(!1),[x,b]=w.useState("");return w.useEffect(()=>{const S=m.current;S&&b((S.textContent??"").trim())},[c.children]),o.jsx(tl.ItemSlot,{scope:r,disabled:a,textValue:l??x,children:o.jsx(Ww,{asChild:!0,...f,focusable:!a,children:o.jsx(Ye.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...c,ref:h,onPointerMove:Ae(e.onPointerMove,nl(S=>{a?d.onItemLeave(S):(d.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(e.onPointerLeave,nl(S=>d.onItemLeave(S))),onFocus:Ae(e.onFocus,()=>y(!0)),onBlur:Ae(e.onBlur,()=>y(!1))})})})}),v3="MenuCheckboxItem",p1=w.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:a,...l}=e;return o.jsx(b1,{scope:e.__scopeMenu,checked:r,children:o.jsx(ad,{role:"menuitemcheckbox","aria-checked":Au(r)?"mixed":r,...l,ref:n,"data-state":Pp(r),onSelect:Ae(l.onSelect,()=>a?.(Au(r)?!0:!r),{checkForDefaultPrevented:!1})})})});p1.displayName=v3;var g1="MenuRadioGroup",[b3,w3]=xo(g1,{value:void 0,onValueChange:()=>{}}),x1=w.forwardRef((e,n)=>{const{value:r,onValueChange:a,...l}=e,c=Ft(a);return o.jsx(b3,{scope:e.__scopeMenu,value:r,onValueChange:c,children:o.jsx(Hp,{...l,ref:n})})});x1.displayName=g1;var y1="MenuRadioItem",v1=w.forwardRef((e,n)=>{const{value:r,...a}=e,l=w3(y1,e.__scopeMenu),c=r===l.value;return o.jsx(b1,{scope:e.__scopeMenu,checked:c,children:o.jsx(ad,{role:"menuitemradio","aria-checked":c,...a,ref:n,"data-state":Pp(c),onSelect:Ae(a.onSelect,()=>l.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});v1.displayName=y1;var $p="MenuItemIndicator",[b1,N3]=xo($p,{checked:!1}),w1=w.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:a,...l}=e,c=N3($p,r);return o.jsx(Fn,{present:a||Au(c.checked)||c.checked===!0,children:o.jsx(Ye.span,{...l,ref:n,"data-state":Pp(c.checked)})})});w1.displayName=$p;var S3="MenuSeparator",N1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...a,ref:n})});N1.displayName=S3;var j3="MenuArrow",S1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,l=od(r);return o.jsx(Vw,{...l,...a,ref:n})});S1.displayName=j3;var _3="MenuSub",[M7,j1]=xo(_3),Fi="MenuSubTrigger",_1=w.forwardRef((e,n)=>{const r=yo(Fi,e.__scopeMenu),a=wl(Fi,e.__scopeMenu),l=j1(Fi,e.__scopeMenu),c=Ip(Fi,e.__scopeMenu),d=w.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:m}=c,h={__scopeMenu:e.__scopeMenu},g=w.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return w.useEffect(()=>g,[g]),w.useEffect(()=>{const y=f.current;return()=>{window.clearTimeout(y),m(null)}},[f,m]),o.jsx(Op,{asChild:!0,...h,children:o.jsx(h1,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l.contentId,"data-state":k1(r.open),...e,ref:Ku(n,l.onTriggerChange),onClick:y=>{e.onClick?.(y),!(e.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ae(e.onPointerMove,nl(y=>{c.onItemEnter(y),!y.defaultPrevented&&!e.disabled&&!r.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:Ae(e.onPointerLeave,nl(y=>{g();const x=r.content?.getBoundingClientRect();if(x){const b=r.content?.dataset.side,S=b==="right",N=S?-5:5,j=x[S?"left":"right"],_=x[S?"right":"left"];c.onPointerGraceIntentChange({area:[{x:y.clientX+N,y:y.clientY},{x:j,y:x.top},{x:_,y:x.top},{x:_,y:x.bottom},{x:j,y:x.bottom}],side:b}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(y),y.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(e.onKeyDown,y=>{const x=c.searchRef.current!=="";e.disabled||x&&y.key===" "||o3[a.dir].includes(y.key)&&(r.onOpenChange(!0),r.content?.focus(),y.preventDefault())})})})});_1.displayName=Fi;var E1="MenuSubContent",C1=w.forwardRef((e,n)=>{const r=u1(Mn,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,c=yo(Mn,e.__scopeMenu),d=wl(Mn,e.__scopeMenu),f=j1(E1,e.__scopeMenu),m=w.useRef(null),h=rt(n,m);return o.jsx(tl.Provider,{scope:e.__scopeMenu,children:o.jsx(Fn,{present:a||c.open,children:o.jsx(tl.Slot,{scope:e.__scopeMenu,children:o.jsx(Lp,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:h,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{d.isUsingKeyboardRef.current&&m.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ae(e.onFocusOutside,g=>{g.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Ae(e.onEscapeKeyDown,g=>{d.onClose(),g.preventDefault()}),onKeyDown:Ae(e.onKeyDown,g=>{const y=g.currentTarget.contains(g.target),x=a3[d.dir].includes(g.key);y&&x&&(c.onOpenChange(!1),f.trigger?.focus(),g.preventDefault())})})})})})});C1.displayName=E1;function k1(e){return e?"open":"closed"}function Au(e){return e==="indeterminate"}function Pp(e){return Au(e)?"indeterminate":e?"checked":"unchecked"}function E3(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function C3(e,n){return e.map((r,a)=>e[(n+a)%e.length])}function k3(e,n,r){const l=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=r?e.indexOf(r):-1;let d=C3(e,Math.max(c,0));l.length===1&&(d=d.filter(h=>h!==r));const m=d.find(h=>h.toLowerCase().startsWith(l.toLowerCase()));return m!==r?m:void 0}function A3(e,n){const{x:r,y:a}=e;let l=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const f=n[c],m=n[d],h=f.x,g=f.y,y=m.x,x=m.y;g>a!=x>a&&r<(y-h)*(a-g)/(x-g)+h&&(l=!l)}return l}function M3(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return A3(r,n)}function nl(e){return n=>n.pointerType==="mouse"?e(n):void 0}var T3=c1,R3=Op,D3=d1,O3=f1,z3=Hp,I3=m1,L3=ad,H3=p1,$3=x1,P3=v1,B3=w1,U3=N1,V3=S1,q3=_1,F3=C1,id="DropdownMenu",[Y3,T7]=us(id,[i1]),Jt=i1(),[G3,A1]=Y3(id),M1=e=>{const{__scopeDropdownMenu:n,children:r,dir:a,open:l,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,m=Jt(n),h=w.useRef(null),[g,y]=io({prop:l,defaultProp:c??!1,onChange:d,caller:id});return o.jsx(G3,{scope:n,triggerId:lo(),triggerRef:h,contentId:lo(),open:g,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(x=>!x),[y]),modal:f,children:o.jsx(T3,{...m,open:g,onOpenChange:y,dir:a,modal:f,children:r})})};M1.displayName=id;var T1="DropdownMenuTrigger",R1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...l}=e,c=A1(T1,r),d=Jt(r);return o.jsx(R3,{asChild:!0,...d,children:o.jsx(Ye.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...l,ref:Ku(n,c.triggerRef),onPointerDown:Ae(e.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(c.onOpenToggle(),c.open||f.preventDefault())}),onKeyDown:Ae(e.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&c.onOpenToggle(),f.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});R1.displayName=T1;var X3="DropdownMenuPortal",D1=e=>{const{__scopeDropdownMenu:n,...r}=e,a=Jt(n);return o.jsx(D3,{...a,...r})};D1.displayName=X3;var O1="DropdownMenuContent",z1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=A1(O1,r),c=Jt(r),d=w.useRef(!1);return o.jsx(O3,{id:l.contentId,"aria-labelledby":l.triggerId,...c,...a,ref:n,onCloseAutoFocus:Ae(e.onCloseAutoFocus,f=>{d.current||l.triggerRef.current?.focus(),d.current=!1,f.preventDefault()}),onInteractOutside:Ae(e.onInteractOutside,f=>{const m=f.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0,g=m.button===2||h;(!l.modal||g)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});z1.displayName=O1;var Z3="DropdownMenuGroup",W3=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(z3,{...l,...a,ref:n})});W3.displayName=Z3;var K3="DropdownMenuLabel",I1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(I3,{...l,...a,ref:n})});I1.displayName=K3;var Q3="DropdownMenuItem",L1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(L3,{...l,...a,ref:n})});L1.displayName=Q3;var J3="DropdownMenuCheckboxItem",eA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(H3,{...l,...a,ref:n})});eA.displayName=J3;var tA="DropdownMenuRadioGroup",nA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx($3,{...l,...a,ref:n})});nA.displayName=tA;var sA="DropdownMenuRadioItem",rA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(P3,{...l,...a,ref:n})});rA.displayName=sA;var oA="DropdownMenuItemIndicator",aA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(B3,{...l,...a,ref:n})});aA.displayName=oA;var iA="DropdownMenuSeparator",H1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(U3,{...l,...a,ref:n})});H1.displayName=iA;var lA="DropdownMenuArrow",cA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(V3,{...l,...a,ref:n})});cA.displayName=lA;var uA="DropdownMenuSubTrigger",dA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(q3,{...l,...a,ref:n})});dA.displayName=uA;var fA="DropdownMenuSubContent",mA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Jt(r);return o.jsx(F3,{...l,...a,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mA.displayName=fA;var hA=M1,pA=R1,gA=D1,xA=z1,yA=I1,vA=L1,bA=H1;/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,a)=>a?a.toUpperCase():r.toLowerCase()),Lv=e=>{const n=NA(e);return n.charAt(0).toUpperCase()+n.slice(1)},$1=(...e)=>e.filter((n,r,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===r).join(" ").trim(),SA=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=w.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...f},m)=>w.createElement("svg",{ref:m,...jA,width:n,height:n,stroke:e,strokeWidth:a?Number(r)*24/Number(n):r,className:$1("lucide",l),...!c&&!SA(f)&&{"aria-hidden":"true"},...f},[...d.map(([h,g])=>w.createElement(h,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,n)=>{const r=w.forwardRef(({className:a,...l},c)=>w.createElement(_A,{ref:c,iconNode:n,className:$1(`lucide-${wA(Lv(e))}`,`lucide-${e}`,a),...l}));return r.displayName=Lv(e),r};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Bp=je("activity",EA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],kA=je("arrow-down",CA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],MA=je("arrow-left-right",AA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],RA=je("arrow-left",TA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],P1=je("book-open",DA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Hs=je("bot",OA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],IA=je("check-check",zA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vo=je("check",LA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gt=je("chevron-down",HA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B1=je("chevron-left",$A);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qn=je("chevron-right",PA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Mu=je("chevron-up",BA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],is=je("circle-alert",UA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ld=je("circle-check-big",VA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qt=je("circle-check",qA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YA=je("circle-play",FA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nl=je("circle-x",GA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Up=je("clock",XA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],WA=je("cloud",ZA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],U1=je("code",KA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],JA=je("container",QA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],no=je("copy",eM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Vh=je("database",tM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Tu=je("download",nM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rM=je("ellipsis-vertical",sM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ru=je("external-link",oM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Er=je("file-text",aM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],V1=je("folder-open",iM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q1=je("globe",lM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],uM=je("grid-3x3",cM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fM=je("house",dM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],hM=je("image",mM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],va=je("info",pM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xM=je("key",gM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],vM=je("lightbulb",yM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cr=je("loader-circle",bM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],NM=je("lock",wM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],jM=je("map",SM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],EM=je("maximize",_M);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vp=je("message-square",CM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],AM=je("moon",kM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],F1=je("music",MM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Du=je("package",TM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],DM=je("panel-right-open",RM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],zM=je("paperclip",OM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Hv=je("play",IM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qp=je("plus",LM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fp=je("refresh-cw",HM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],qh=je("rocket",$M);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Yp=je("rotate-ccw",PM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sl=je("search",BM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],VM=je("send-horizontal",UM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Zi=je("send",qM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M7 2h13a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5",key:"bt2siv"}],["path",{d:"M10 10 2.5 2.5C2 2 2 2.5 2 5v3a2 2 0 0 0 2 2h6z",key:"1hjrv1"}],["path",{d:"M22 17v-1a2 2 0 0 0-2-2h-1",key:"1iynyr"}],["path",{d:"M4 14a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16.5l1-.5.5.5-8-8H4z",key:"161ggg"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],YM=je("server-off",FM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fh=je("settings",GM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],ZM=je("shuffle",XM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],cd=je("square",WM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],QM=je("sun",KM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gp=je("trash-2",JM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tT=je("triangle-alert",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sT=je("upload",nT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Y1=je("user",rT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Is=je("workflow",oT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],ba=je("wrench",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wa=je("x",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xp=je("zap",lT);function ud({...e}){return o.jsx(hA,{"data-slot":"dropdown-menu",...e})}function dd({...e}){return o.jsx(pA,{"data-slot":"dropdown-menu-trigger",...e})}function fd({className:e,sideOffset:n=4,...r}){return o.jsx(gA,{children:o.jsx(xA,{"data-slot":"dropdown-menu-content",sideOffset:n,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function Lt({className:e,inset:n,variant:r="default",...a}){return o.jsx(vA,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:Ze("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function dh({className:e,inset:n,...r}){return o.jsx(yA,{"data-slot":"dropdown-menu-label","data-inset":n,className:Ze("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function ma({className:e,...n}){return o.jsx(bA,{"data-slot":"dropdown-menu-separator",className:Ze("bg-border -mx-1 my-1 h-px",e),...n})}function Ou({size:e="md",className:n}){return o.jsx(Cr,{className:Ze("animate-spin",{"h-4 w-4":e==="sm","h-6 w-6":e==="md","h-8 w-8":e==="lg"},n)})}const cT=e=>e==="workflow"?Is:Hs;function uT({agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d=!1}){const[f,m]=w.useState(!1),h=r||[...e,...n],g=S=>{l(S),m(!1)},y=a?cT(a.type):Hs,x=a?.name||a?.id||"Select Agent or Workflow",b=a?.metadata?.lazy_loaded!==!1;return o.jsxs(ud,{open:f,onOpenChange:m,children:[o.jsx(dd,{asChild:!0,children:o.jsx(Te,{variant:"outline",className:"w-64 justify-between font-mono text-sm",disabled:d,children:d?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ou,{size:"sm"}),o.jsx("span",{className:"text-muted-foreground",children:"Loading..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(y,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:x}),a&&!b&&o.jsx(Cr,{className:"h-3 w-3 text-muted-foreground animate-spin ml-auto flex-shrink-0"})]}),o.jsx(Gt,{className:"h-4 w-4 opacity-50"})]})})}),o.jsxs(fd,{className:"w-80 font-mono",children:[(()=>{const S=h.filter(_=>_.type==="workflow"),N=h.filter(_=>_.type==="agent"),j=h[0]?.type;return o.jsxs(o.Fragment,{children:[j==="workflow"&&S.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(dh,{className:"flex items-center gap-2",children:[o.jsx(Is,{className:"h-4 w-4"}),"Workflows (",S.length,")"]}),S.map(_=>{const M=_.metadata?.lazy_loaded!==!1;return o.jsx(Lt,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Is,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),M&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]}),S.length>0&&N.length>0&&o.jsx(ma,{}),N.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(dh,{className:"flex items-center gap-2",children:[o.jsx(Hs,{className:"h-4 w-4"}),"Agents (",N.length,")"]}),N.map(_=>{const M=_.metadata?.lazy_loaded!==!1;return o.jsx(Lt,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Hs,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),M&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]}),j==="agent"&&S.length>0&&o.jsxs(o.Fragment,{children:[N.length>0&&o.jsx(ma,{}),o.jsxs(dh,{className:"flex items-center gap-2",children:[o.jsx(Is,{className:"h-4 w-4"}),"Workflows (",S.length,")"]}),S.map(_=>{const M=_.metadata?.lazy_loaded!==!1;return o.jsx(Lt,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Is,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),M&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]})]})})(),h.length===0&&o.jsx(Lt,{disabled:!0,children:o.jsx("div",{className:"text-center text-muted-foreground py-2",children:d?"Loading agents and workflows...":"No agents or workflows found"})}),o.jsx(ma,{}),o.jsxs(Lt,{className:"cursor-pointer text-primary",onClick:()=>{c?.(),m(!1)},children:[o.jsx(qp,{className:"h-4 w-4 mr-2"}),"Browse Gallery"]})]})]})}var dT=(e,n,r,a,l,c,d,f)=>{let m=document.documentElement,h=["light","dark"];function g(b){(Array.isArray(e)?e:[e]).forEach(S=>{let N=S==="class",j=N&&c?l.map(_=>c[_]||_):l;N?(m.classList.remove(...j),m.classList.add(c&&c[b]?c[b]:b)):m.setAttribute(S,b)}),y(b)}function y(b){f&&h.includes(b)&&(m.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)g(a);else try{let b=localStorage.getItem(n)||r,S=d&&b==="system"?x():b;g(S)}catch{}},$v=["light","dark"],G1="(prefers-color-scheme: dark)",fT=typeof window>"u",Zp=w.createContext(void 0),mT={setTheme:e=>{},themes:[]},hT=()=>{var e;return(e=w.useContext(Zp))!=null?e:mT},pT=e=>w.useContext(Zp)?w.createElement(w.Fragment,null,e.children):w.createElement(xT,{...e}),gT=["light","dark"],xT=({forcedTheme:e,disableTransitionOnChange:n=!1,enableSystem:r=!0,enableColorScheme:a=!0,storageKey:l="theme",themes:c=gT,defaultTheme:d=r?"system":"light",attribute:f="data-theme",value:m,children:h,nonce:g,scriptProps:y})=>{let[x,b]=w.useState(()=>vT(l,d)),[S,N]=w.useState(()=>x==="system"?fh():x),j=m?Object.values(m):c,_=w.useCallback(R=>{let D=R;if(!D)return;R==="system"&&r&&(D=fh());let O=m?m[D]:D,P=n?bT(g):null,q=document.documentElement,Q=ee=>{ee==="class"?(q.classList.remove(...j),O&&q.classList.add(O)):ee.startsWith("data-")&&(O?q.setAttribute(ee,O):q.removeAttribute(ee))};if(Array.isArray(f)?f.forEach(Q):Q(f),a){let ee=$v.includes(d)?d:null,G=$v.includes(D)?D:ee;q.style.colorScheme=G}P?.()},[g]),M=w.useCallback(R=>{let D=typeof R=="function"?R(x):R;b(D);try{localStorage.setItem(l,D)}catch{}},[x]),E=w.useCallback(R=>{let D=fh(R);N(D),x==="system"&&r&&!e&&_("system")},[x,e]);w.useEffect(()=>{let R=window.matchMedia(G1);return R.addListener(E),E(R),()=>R.removeListener(E)},[E]),w.useEffect(()=>{let R=D=>{D.key===l&&(D.newValue?b(D.newValue):M(d))};return window.addEventListener("storage",R),()=>window.removeEventListener("storage",R)},[M]),w.useEffect(()=>{_(e??x)},[e,x]);let T=w.useMemo(()=>({theme:x,setTheme:M,forcedTheme:e,resolvedTheme:x==="system"?S:x,themes:r?[...c,"system"]:c,systemTheme:r?S:void 0}),[x,M,e,S,r,c]);return w.createElement(Zp.Provider,{value:T},w.createElement(yT,{forcedTheme:e,storageKey:l,attribute:f,enableSystem:r,enableColorScheme:a,defaultTheme:d,value:m,themes:c,nonce:g,scriptProps:y}),h)},yT=w.memo(({forcedTheme:e,storageKey:n,attribute:r,enableSystem:a,enableColorScheme:l,defaultTheme:c,value:d,themes:f,nonce:m,scriptProps:h})=>{let g=JSON.stringify([r,n,c,e,f,d,a,l]).slice(1,-1);return w.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${dT.toString()})(${g})`}})}),vT=(e,n)=>{if(fT)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||n},bT=e=>{let n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},fh=e=>(e||(e=window.matchMedia(G1)),e.matches?"dark":"light");function wT(){const{setTheme:e}=hT();return o.jsxs(ud,{children:[o.jsx(dd,{asChild:!0,children:o.jsxs(Te,{variant:"ghost",size:"sm",children:[o.jsx(QM,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(AM,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(fd,{align:"end",children:[o.jsx(Lt,{onClick:()=>e("light"),children:"Light"}),o.jsx(Lt,{onClick:()=>e("dark"),children:"Dark"}),o.jsx(Lt,{onClick:()=>e("system"),children:"System"})]})]})}const Pv=e=>{let n;const r=new Set,a=(h,g)=>{const y=typeof h=="function"?h(n):h;if(!Object.is(y,n)){const x=n;n=g??(typeof y!="object"||y===null)?y:Object.assign({},n,y),r.forEach(b=>b(n,x))}},l=()=>n,f={setState:a,getState:l,getInitialState:()=>m,subscribe:h=>(r.add(h),()=>r.delete(h))},m=n=e(a,l,f);return f},NT=(e=>e?Pv(e):Pv),ST=e=>e;function jT(e,n=ST){const r=xn.useSyncExternalStore(e.subscribe,xn.useCallback(()=>n(e.getState()),[e,n]),xn.useCallback(()=>n(e.getInitialState()),[e,n]));return xn.useDebugValue(r),r}const _T=e=>{const n=NT(e),r=a=>jT(n,a);return Object.assign(r,n),r},ET=(e=>_T),Bv={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:""},rl=new Map,Jc=e=>{const n=rl.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([r,a])=>[r,a.getState()])):{}},CT=(e,n,r)=>{if(e===void 0)return{type:"untracked",connection:n.connect(r)};const a=rl.get(r.name);if(a)return{type:"tracked",store:e,...a};const l={connection:n.connect(r),stores:{}};return rl.set(r.name,l),{type:"tracked",store:e,...l}},kT=(e,n)=>{if(n===void 0)return;const r=rl.get(e);r&&(delete r.stores[n],Object.keys(r.stores).length===0&&rl.delete(e))},AT=e=>{var n,r;if(!e)return;const a=e.split(`
`),l=a.findIndex(d=>d.includes("api.setState"));if(l<0)return;const c=((n=a[l+1])==null?void 0:n.trim())||"";return(r=/.+ (.+) .+/.exec(c))==null?void 0:r[1]},MT=(e,n={})=>(r,a,l)=>{const{enabled:c,anonymousActionType:d,store:f,...m}=n;let h;try{h=(c??(Bv?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return e(r,a,l);const{connection:g,...y}=CT(f,h,m);let x=!0;l.setState=((N,j,_)=>{const M=r(N,j);if(!x)return M;const E=_===void 0?{type:d||AT(new Error().stack)||"anonymous"}:typeof _=="string"?{type:_}:_;return f===void 0?(g?.send(E,a()),M):(g?.send({...E,type:`${f}/${E.type}`},{...Jc(m.name),[f]:l.getState()}),M)}),l.devtools={cleanup:()=>{g&&typeof g.unsubscribe=="function"&&g.unsubscribe(),kT(m.name,f)}};const b=(...N)=>{const j=x;x=!1,r(...N),x=j},S=e(l.setState,a,l);if(y.type==="untracked"?g?.init(S):(y.stores[y.store]=l,g?.init(Object.fromEntries(Object.entries(y.stores).map(([N,j])=>[N,N===y.store?S:j.getState()])))),l.dispatchFromDevtools&&typeof l.dispatch=="function"){let N=!1;const j=l.dispatch;l.dispatch=(..._)=>{(Bv?"production":void 0)!=="production"&&_[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),j(..._)}}return g.subscribe(N=>{var j;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return mh(N.payload,_=>{if(_.type==="__setState"){if(f===void 0){b(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const M=_.state[f];if(M==null)return;JSON.stringify(l.getState())!==JSON.stringify(M)&&b(M);return}l.dispatchFromDevtools&&typeof l.dispatch=="function"&&l.dispatch(_)});case"DISPATCH":switch(N.payload.type){case"RESET":return b(S),f===void 0?g?.init(l.getState()):g?.init(Jc(m.name));case"COMMIT":if(f===void 0){g?.init(l.getState());return}return g?.init(Jc(m.name));case"ROLLBACK":return mh(N.state,_=>{if(f===void 0){b(_),g?.init(l.getState());return}b(_[f]),g?.init(Jc(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return mh(N.state,_=>{if(f===void 0){b(_);return}JSON.stringify(l.getState())!==JSON.stringify(_[f])&&b(_[f])});case"IMPORT_STATE":{const{nextLiftedState:_}=N.payload,M=(j=_.computedStates.slice(-1)[0])==null?void 0:j.state;if(!M)return;b(f===void 0?M:M[f]),g?.send(null,_);return}case"PAUSE_RECORDING":return x=!x}return}}),S},TT=MT,mh=(e,n)=>{let r;try{r=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}r!==void 0&&n(r)};function RT(e,n){let r;try{r=e()}catch{return}return{getItem:l=>{var c;const d=m=>m===null?null:JSON.parse(m,void 0),f=(c=r.getItem(l))!=null?c:null;return f instanceof Promise?f.then(d):d(f)},setItem:(l,c)=>r.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>r.removeItem(l)}}const Yh=e=>n=>{try{const r=e(n);return r instanceof Promise?r:{then(a){return Yh(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return Yh(a)(r)}}}},DT=(e,n)=>(r,a,l)=>{let c={storage:RT(()=>localStorage),partialize:N=>N,version:0,merge:(N,j)=>({...j,...N}),...n},d=!1;const f=new Set,m=new Set;let h=c.storage;if(!h)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...N)},a,l);const g=()=>{const N=c.partialize({...a()});return h.setItem(c.name,{state:N,version:c.version})},y=l.setState;l.setState=(N,j)=>(y(N,j),g());const x=e((...N)=>(r(...N),g()),a,l);l.getInitialState=()=>x;let b;const S=()=>{var N,j;if(!h)return;d=!1,f.forEach(M=>{var E;return M((E=a())!=null?E:x)});const _=((j=c.onRehydrateStorage)==null?void 0:j.call(c,(N=a())!=null?N:x))||void 0;return Yh(h.getItem.bind(h))(c.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==c.version){if(c.migrate){const E=c.migrate(M.state,M.version);return E instanceof Promise?E.then(T=>[!0,T]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var E;const[T,R]=M;if(b=c.merge(R,(E=a())!=null?E:x),r(b,!0),T)return g()}).then(()=>{_?.(b,void 0),b=a(),d=!0,m.forEach(M=>M(b))}).catch(M=>{_?.(void 0,M)})};return l.persist={setOptions:N=>{c={...c,...N},N.storage&&(h=N.storage)},clearStorage:()=>{h?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>S(),hasHydrated:()=>d,onHydrate:N=>(f.add(N),()=>{f.delete(N)}),onFinishHydration:N=>(m.add(N),()=>{m.delete(N)})},c.skipHydration||S(),b||x},OT=DT,de=ET()(TT(OT(e=>({agents:[],workflows:[],entities:[],selectedAgent:void 0,isLoadingEntities:!0,entityError:null,currentConversation:void 0,availableConversations:[],chatItems:[],isStreaming:!1,isSubmitting:!1,loadingConversations:!1,inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],loadingSessions:!1,loadingCheckpoints:!1,showDebugPanel:!0,debugPanelMinimized:!1,debugPanelWidth:320,debugEvents:[],isResizing:!1,showToolCalls:!0,showAboutModal:!1,showGallery:!1,showDeployModal:!1,showEntityNotFoundToast:!1,toasts:[],oaiMode:{enabled:!1,model:"gpt-4o-mini"},uiMode:"developer",runtime:"python",serverCapabilities:{tracing:!1,openai_proxy:!1,deployment:!1},authRequired:!1,serverVersion:null,isDeploying:!1,deploymentLogs:[],lastDeployment:null,azureDeploymentEnabled:!1,setAgents:n=>e({agents:n}),setWorkflows:n=>e({workflows:n}),setEntities:n=>e({entities:n}),setSelectedAgent:n=>e({selectedAgent:n}),addAgent:n=>e(r=>({agents:[...r.agents,n]})),addWorkflow:n=>e(r=>({workflows:[...r.workflows,n]})),updateAgent:n=>e(r=>({agents:r.agents.map(a=>a.id===n.id?n:a),selectedAgent:r.selectedAgent?.id===n.id&&r.selectedAgent.type==="agent"?n:r.selectedAgent})),updateWorkflow:n=>e(r=>({workflows:r.workflows.map(a=>a.id===n.id?n:a),selectedAgent:r.selectedAgent?.id===n.id&&r.selectedAgent.type==="workflow"?n:r.selectedAgent})),removeEntity:n=>e(r=>({agents:r.agents.filter(a=>a.id!==n),workflows:r.workflows.filter(a=>a.id!==n),selectedAgent:r.selectedAgent?.id===n?void 0:r.selectedAgent})),setEntityError:n=>e({entityError:n}),setIsLoadingEntities:n=>e({isLoadingEntities:n}),setCurrentConversation:n=>e({currentConversation:n}),setAvailableConversations:n=>e({availableConversations:n}),setChatItems:n=>e({chatItems:n}),setIsStreaming:n=>e({isStreaming:n}),setIsSubmitting:n=>e({isSubmitting:n}),setLoadingConversations:n=>e({loadingConversations:n}),setInputValue:n=>e({inputValue:n}),setAttachments:n=>e({attachments:n}),updateConversationUsage:n=>e(r=>({conversationUsage:{total_tokens:r.conversationUsage.total_tokens+n,message_count:r.conversationUsage.message_count+1}})),setPendingApprovals:n=>e({pendingApprovals:n}),setCurrentSession:n=>e({currentSession:n}),setAvailableSessions:n=>e({availableSessions:n}),setSessionCheckpoints:n=>e({sessionCheckpoints:n}),setLoadingSessions:n=>e({loadingSessions:n}),setLoadingCheckpoints:n=>e({loadingCheckpoints:n}),addSession:n=>e(r=>({availableSessions:[n,...r.availableSessions]})),removeSession:n=>e(r=>({availableSessions:r.availableSessions.filter(a=>a.conversation_id!==n),currentSession:r.currentSession?.conversation_id===n?void 0:r.currentSession,sessionCheckpoints:r.currentSession?.conversation_id===n?[]:r.sessionCheckpoints})),setShowDebugPanel:n=>e({showDebugPanel:n}),setDebugPanelMinimized:n=>e({debugPanelMinimized:n}),setDebugPanelWidth:n=>e({debugPanelWidth:n}),setShowToolCalls:n=>e({showToolCalls:n}),addDebugEvent:n=>e(r=>{const a=Math.floor(Date.now()/1e3),l=r.debugEvents.length>0&&r.debugEvents[r.debugEvents.length-1]._uiTimestamp||0,c=Math.max(a,l+1);return{debugEvents:[...r.debugEvents,{...n,_uiTimestamp:"created_at"in n&&n.created_at?n.created_at:c}]}}),clearDebugEvents:()=>e({debugEvents:[]}),setIsResizing:n=>e({isResizing:n}),setShowAboutModal:n=>e({showAboutModal:n}),setShowGallery:n=>e({showGallery:n}),setShowDeployModal:n=>e({showDeployModal:n}),setShowEntityNotFoundToast:n=>e({showEntityNotFoundToast:n}),addToast:n=>e(r=>({toasts:[...r.toasts,{id:`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:n.type||"info",duration:n.duration||4e3,...n}]})),removeToast:n=>e(r=>({toasts:r.toasts.filter(a=>a.id!==n)})),setOAIMode:n=>e(r=>n.enabled&&!r.oaiMode.enabled?(Object.keys(localStorage).forEach(a=>{a.startsWith("devui_convs_")&&localStorage.removeItem(a)}),{oaiMode:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):!n.enabled&&r.oaiMode.enabled?(Object.keys(localStorage).forEach(a=>{a.startsWith("devui_convs_")&&localStorage.removeItem(a)}),{oaiMode:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):{oaiMode:n}),toggleOAIMode:()=>e(n=>{const r=!n.oaiMode.enabled;return{oaiMode:{...n.oaiMode,enabled:r},currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}}),setServerMeta:n=>e({uiMode:n.uiMode,runtime:n.runtime,serverCapabilities:n.capabilities,authRequired:n.authRequired,serverVersion:n.version||null}),startDeployment:()=>e({isDeploying:!0,deploymentLogs:[],lastDeployment:null}),addDeploymentLog:n=>e(r=>({deploymentLogs:[...r.deploymentLogs,n]})),setDeploymentResult:n=>e({isDeploying:!1,lastDeployment:n}),stopDeployment:()=>e({isDeploying:!1}),clearDeploymentState:()=>e({isDeploying:!1,deploymentLogs:[],lastDeployment:null}),setAzureDeploymentEnabled:n=>e({azureDeploymentEnabled:n}),selectEntity:n=>{e({selectedAgent:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],debugEvents:[]});const r=new URL(window.location.href);r.searchParams.set("entity_id",n.id),window.history.pushState({},"",r)}}),{name:"devui-storage",partialize:e=>({showDebugPanel:e.showDebugPanel,debugPanelMinimized:e.debugPanelMinimized,debugPanelWidth:e.debugPanelWidth,showToolCalls:e.showToolCalls,oaiMode:e.oaiMode,azureDeploymentEnabled:e.azureDeploymentEnabled})}),{name:"DevUI Store"})),Gh=Object.freeze(Object.defineProperty({__proto__:null,useDevUIStore:de},Symbol.toStringTag,{value:"Module"}));function Uv({agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d=!1,onSettingsClick:f}){const{oaiMode:m,serverVersion:h}=de();return o.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[o.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 805 805",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[o.jsx("path",{d:"M402.488 119.713C439.197 119.713 468.955 149.472 468.955 186.18C468.955 192.086 471.708 197.849 476.915 200.635L546.702 237.977C555.862 242.879 566.95 240.96 576.092 236.023C585.476 230.955 596.218 228.078 607.632 228.078C644.341 228.078 674.098 257.836 674.099 294.545C674.099 316.95 663.013 336.765 646.028 348.806C637.861 354.595 631.412 363.24 631.412 373.251V430.818C631.412 440.83 637.861 449.475 646.028 455.264C663.013 467.305 674.099 487.121 674.099 509.526C674.099 546.235 644.341 575.994 607.632 575.994C598.598 575.994 589.985 574.191 582.133 570.926C573.644 567.397 563.91 566.393 555.804 570.731L469.581 616.867C469.193 617.074 468.955 617.479 468.955 617.919C468.955 654.628 439.197 684.386 402.488 684.386C365.779 684.386 336.021 654.628 336.021 617.919C336.021 616.802 335.423 615.765 334.439 615.238L249.895 570C241.61 565.567 231.646 566.713 223.034 570.472C214.898 574.024 205.914 575.994 196.47 575.994C159.761 575.994 130.002 546.235 130.002 509.526C130.002 486.66 141.549 466.49 159.13 454.531C167.604 448.766 174.349 439.975 174.349 429.726V372.538C174.349 362.289 167.604 353.498 159.13 347.734C141.549 335.774 130.002 315.604 130.002 292.738C130.002 256.029 159.761 226.271 196.47 226.271C208.223 226.271 219.263 229.322 228.843 234.674C238.065 239.827 249.351 241.894 258.666 236.91L328.655 199.459C333.448 196.895 336.021 191.616 336.021 186.18C336.021 149.471 365.779 119.713 402.488 119.713ZM475.716 394.444C471.337 396.787 468.955 401.586 468.955 406.552C468.955 429.68 457.142 450.048 439.221 461.954C430.571 467.7 423.653 476.574 423.653 486.959V537.511C423.653 547.896 430.746 556.851 439.379 562.622C449 569.053 461.434 572.052 471.637 566.592L527.264 536.826C536.887 531.677 541.164 520.44 541.164 509.526C541.164 485.968 553.42 465.272 571.904 453.468C580.846 447.757 588.054 438.749 588.054 428.139V371.427C588.054 363.494 582.671 356.676 575.716 352.862C569.342 349.366 561.663 348.454 555.253 351.884L475.716 394.444ZM247.992 349.841C241.997 346.633 234.806 347.465 228.873 350.785C222.524 354.337 217.706 360.639 217.706 367.915V429.162C217.706 439.537 224.611 448.404 233.248 454.152C251.144 466.062 262.937 486.417 262.937 509.526C262.937 519.654 267.026 529.991 275.955 534.769L334.852 566.284C344.582 571.49 356.362 568.81 365.528 562.667C373.735 557.166 380.296 548.643 380.296 538.764V486.305C380.296 476.067 373.564 467.282 365.103 461.516C347.548 449.552 336.021 429.398 336.021 406.552C336.021 400.967 333.389 395.536 328.465 392.902L247.992 349.841ZM270.019 280.008C265.421 282.469 262.936 287.522 262.937 292.738C262.937 293.308 262.929 293.876 262.915 294.443C262.615 306.354 266.961 318.871 277.466 324.492L334.017 354.751C344.13 360.163 356.442 357.269 366.027 350.969C376.495 344.088 389.024 340.085 402.488 340.085C416.203 340.085 428.947 344.239 439.532 351.357C449.163 357.834 461.63 360.861 471.864 355.385L526.625 326.083C537.106 320.474 541.458 307.999 541.182 296.115C541.17 295.593 541.164 295.069 541.164 294.545C541.164 288.551 538.376 282.696 533.091 279.868L463.562 242.664C454.384 237.753 443.274 239.688 434.123 244.65C424.716 249.75 413.941 252.647 402.488 252.647C390.83 252.647 379.873 249.646 370.348 244.373C361.148 239.281 349.917 237.256 340.646 242.217L270.019 280.008Z",fill:"url(#paint0_linear_510_1294)"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"paint0_linear_510_1294",x1:"255.628",y1:"-34.3245",x2:"618.483",y2:"632.032",gradientUnits:"userSpaceOnUse",children:[o.jsx("stop",{stopColor:"#D59FFF"}),o.jsx("stop",{offset:"1",stopColor:"#8562C5"})]})})]}),"Dev UI",h&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["v",h]}),m.enabled&&o.jsxs(ht,{variant:"secondary",className:"gap-1 ml-2",children:[o.jsx(Xp,{className:"h-3 w-3"}),"OpenAI: ",m.model]})]}),!m.enabled&&o.jsx(uT,{agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsx(wT,{}),o.jsx(Te,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),f?.()},children:o.jsx(Fh,{className:"h-4 w-4"})})]})]})}function Xh(e,[n,r]){return Math.min(r,Math.max(n,e))}function zT(e,n){return w.useReducer((r,a)=>n[r][a]??r,e)}var Wp="ScrollArea",[X1,R7]=us(Wp),[IT,Tn]=X1(Wp),Z1=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,type:a="hover",dir:l,scrollHideDelay:c=600,...d}=e,[f,m]=w.useState(null),[h,g]=w.useState(null),[y,x]=w.useState(null),[b,S]=w.useState(null),[N,j]=w.useState(null),[_,M]=w.useState(0),[E,T]=w.useState(0),[R,D]=w.useState(!1),[O,P]=w.useState(!1),q=rt(n,ee=>m(ee)),Q=xl(l);return o.jsx(IT,{scope:r,type:a,dir:Q,scrollHideDelay:c,scrollArea:f,viewport:h,onViewportChange:g,content:y,onContentChange:x,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:R,onScrollbarXEnabledChange:D,scrollbarY:N,onScrollbarYChange:j,scrollbarYEnabled:O,onScrollbarYEnabledChange:P,onCornerWidthChange:M,onCornerHeightChange:T,children:o.jsx(Ye.div,{dir:Q,...d,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});Z1.displayName=Wp;var W1="ScrollAreaViewport",K1=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,children:a,nonce:l,...c}=e,d=Tn(W1,r),f=w.useRef(null),m=rt(n,f,d.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),o.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...c,ref:m,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});K1.displayName=W1;var fs="ScrollAreaScrollbar",Kp=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Tn(fs,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:d}=l,f=e.orientation==="horizontal";return w.useEffect(()=>(f?c(!0):d(!0),()=>{f?c(!1):d(!1)}),[f,c,d]),l.type==="hover"?o.jsx(LT,{...a,ref:n,forceMount:r}):l.type==="scroll"?o.jsx(HT,{...a,ref:n,forceMount:r}):l.type==="auto"?o.jsx(Q1,{...a,ref:n,forceMount:r}):l.type==="always"?o.jsx(Qp,{...a,ref:n}):null});Kp.displayName=fs;var LT=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Tn(fs,e.__scopeScrollArea),[c,d]=w.useState(!1);return w.useEffect(()=>{const f=l.scrollArea;let m=0;if(f){const h=()=>{window.clearTimeout(m),d(!0)},g=()=>{m=window.setTimeout(()=>d(!1),l.scrollHideDelay)};return f.addEventListener("pointerenter",h),f.addEventListener("pointerleave",g),()=>{window.clearTimeout(m),f.removeEventListener("pointerenter",h),f.removeEventListener("pointerleave",g)}}},[l.scrollArea,l.scrollHideDelay]),o.jsx(Fn,{present:r||c,children:o.jsx(Q1,{"data-state":c?"visible":"hidden",...a,ref:n})})}),HT=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Tn(fs,e.__scopeScrollArea),c=e.orientation==="horizontal",d=hd(()=>m("SCROLL_END"),100),[f,m]=zT("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(f==="idle"){const h=window.setTimeout(()=>m("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(h)}},[f,l.scrollHideDelay,m]),w.useEffect(()=>{const h=l.viewport,g=c?"scrollLeft":"scrollTop";if(h){let y=h[g];const x=()=>{const b=h[g];y!==b&&(m("SCROLL"),d()),y=b};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[l.viewport,c,m,d]),o.jsx(Fn,{present:r||f!=="hidden",children:o.jsx(Qp,{"data-state":f==="hidden"?"hidden":"visible",...a,ref:n,onPointerEnter:Ae(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:Ae(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),Q1=w.forwardRef((e,n)=>{const r=Tn(fs,e.__scopeScrollArea),{forceMount:a,...l}=e,[c,d]=w.useState(!1),f=e.orientation==="horizontal",m=hd(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;d(f?h:g)}},10);return Na(r.viewport,m),Na(r.content,m),o.jsx(Fn,{present:a||c,children:o.jsx(Qp,{"data-state":c?"visible":"hidden",...l,ref:n})})}),Qp=w.forwardRef((e,n)=>{const{orientation:r="vertical",...a}=e,l=Tn(fs,e.__scopeScrollArea),c=w.useRef(null),d=w.useRef(0),[f,m]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=sN(f.viewport,f.content),g={...a,sizes:f,onSizesChange:m,hasThumb:h>0&&h<1,onThumbChange:x=>c.current=x,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:x=>d.current=x};function y(x,b){return qT(x,d.current,f,b)}return r==="horizontal"?o.jsx($T,{...g,ref:n,onThumbPositionChange:()=>{if(l.viewport&&c.current){const x=l.viewport.scrollLeft,b=Vv(x,f,l.dir);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{l.viewport&&(l.viewport.scrollLeft=x)},onDragScroll:x=>{l.viewport&&(l.viewport.scrollLeft=y(x,l.dir))}}):r==="vertical"?o.jsx(PT,{...g,ref:n,onThumbPositionChange:()=>{if(l.viewport&&c.current){const x=l.viewport.scrollTop,b=Vv(x,f);c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{l.viewport&&(l.viewport.scrollTop=x)},onDragScroll:x=>{l.viewport&&(l.viewport.scrollTop=y(x))}}):null}),$T=w.forwardRef((e,n)=>{const{sizes:r,onSizesChange:a,...l}=e,c=Tn(fs,e.__scopeScrollArea),[d,f]=w.useState(),m=w.useRef(null),h=rt(n,m,c.onScrollbarXChange);return w.useEffect(()=>{m.current&&f(getComputedStyle(m.current))},[m]),o.jsx(eN,{"data-orientation":"horizontal",...l,ref:h,sizes:r,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":md(r)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,y)=>{if(c.viewport){const x=c.viewport.scrollLeft+g.deltaX;e.onWheelScroll(x),oN(x,y)&&g.preventDefault()}},onResize:()=>{m.current&&c.viewport&&d&&a({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Iu(d.paddingLeft),paddingEnd:Iu(d.paddingRight)}})}})}),PT=w.forwardRef((e,n)=>{const{sizes:r,onSizesChange:a,...l}=e,c=Tn(fs,e.__scopeScrollArea),[d,f]=w.useState(),m=w.useRef(null),h=rt(n,m,c.onScrollbarYChange);return w.useEffect(()=>{m.current&&f(getComputedStyle(m.current))},[m]),o.jsx(eN,{"data-orientation":"vertical",...l,ref:h,sizes:r,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":md(r)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,y)=>{if(c.viewport){const x=c.viewport.scrollTop+g.deltaY;e.onWheelScroll(x),oN(x,y)&&g.preventDefault()}},onResize:()=>{m.current&&c.viewport&&d&&a({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Iu(d.paddingTop),paddingEnd:Iu(d.paddingBottom)}})}})}),[BT,J1]=X1(fs),eN=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:l,onThumbChange:c,onThumbPointerUp:d,onThumbPointerDown:f,onThumbPositionChange:m,onDragScroll:h,onWheelScroll:g,onResize:y,...x}=e,b=Tn(fs,r),[S,N]=w.useState(null),j=rt(n,q=>N(q)),_=w.useRef(null),M=w.useRef(""),E=b.viewport,T=a.content-a.viewport,R=Ft(g),D=Ft(m),O=hd(y,10);function P(q){if(_.current){const Q=q.clientX-_.current.left,ee=q.clientY-_.current.top;h({x:Q,y:ee})}}return w.useEffect(()=>{const q=Q=>{const ee=Q.target;S?.contains(ee)&&R(Q,T)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[E,S,T,R]),w.useEffect(D,[a,D]),Na(S,O),Na(b.content,O),o.jsx(BT,{scope:r,scrollbar:S,hasThumb:l,onThumbChange:Ft(c),onThumbPointerUp:Ft(d),onThumbPositionChange:D,onThumbPointerDown:Ft(f),children:o.jsx(Ye.div,{...x,ref:j,style:{position:"absolute",...x.style},onPointerDown:Ae(e.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),_.current=S.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),P(q))}),onPointerMove:Ae(e.onPointerMove,P),onPointerUp:Ae(e.onPointerUp,q=>{const Q=q.target;Q.hasPointerCapture(q.pointerId)&&Q.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=M.current,b.viewport&&(b.viewport.style.scrollBehavior=""),_.current=null})})})}),zu="ScrollAreaThumb",tN=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=J1(zu,e.__scopeScrollArea);return o.jsx(Fn,{present:r||l.hasThumb,children:o.jsx(UT,{ref:n,...a})})}),UT=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,style:a,...l}=e,c=Tn(zu,r),d=J1(zu,r),{onThumbPositionChange:f}=d,m=rt(n,y=>d.onThumbChange(y)),h=w.useRef(void 0),g=hd(()=>{h.current&&(h.current(),h.current=void 0)},100);return w.useEffect(()=>{const y=c.viewport;if(y){const x=()=>{if(g(),!h.current){const b=FT(y,f);h.current=b,f()}};return f(),y.addEventListener("scroll",x),()=>y.removeEventListener("scroll",x)}},[c.viewport,g,f]),o.jsx(Ye.div,{"data-state":d.hasThumb?"visible":"hidden",...l,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Ae(e.onPointerDownCapture,y=>{const b=y.target.getBoundingClientRect(),S=y.clientX-b.left,N=y.clientY-b.top;d.onThumbPointerDown({x:S,y:N})}),onPointerUp:Ae(e.onPointerUp,d.onThumbPointerUp)})});tN.displayName=zu;var Jp="ScrollAreaCorner",nN=w.forwardRef((e,n)=>{const r=Tn(Jp,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?o.jsx(VT,{...e,ref:n}):null});nN.displayName=Jp;var VT=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,...a}=e,l=Tn(Jp,r),[c,d]=w.useState(0),[f,m]=w.useState(0),h=!!(c&&f);return Na(l.scrollbarX,()=>{const g=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(g),m(g)}),Na(l.scrollbarY,()=>{const g=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(g),d(g)}),h?o.jsx(Ye.div,{...a,ref:n,style:{width:c,height:f,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Iu(e){return e?parseInt(e,10):0}function sN(e,n){const r=e/n;return isNaN(r)?0:r}function md(e){const n=sN(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*n;return Math.max(a,18)}function qT(e,n,r,a="ltr"){const l=md(r),c=l/2,d=n||c,f=l-d,m=r.scrollbar.paddingStart+d,h=r.scrollbar.size-r.scrollbar.paddingEnd-f,g=r.content-r.viewport,y=a==="ltr"?[0,g]:[g*-1,0];return rN([m,h],y)(e)}function Vv(e,n,r="ltr"){const a=md(n),l=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,c=n.scrollbar.size-l,d=n.content-n.viewport,f=c-a,m=r==="ltr"?[0,d]:[d*-1,0],h=Xh(e,m);return rN([0,d],[0,f])(h)}function rN(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(e[1]-e[0]);return n[0]+a*(r-e[0])}}function oN(e,n){return e>0&&e<n}var FT=(e,n=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function l(){const c={left:e.scrollLeft,top:e.scrollTop},d=r.left!==c.left,f=r.top!==c.top;(d||f)&&n(),r=c,a=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(a)};function hd(e,n){const r=Ft(e),a=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),w.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,n)},[r,n])}function Na(e,n){const r=Ft(n);Yt(()=>{let a=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return l.observe(e),()=>{window.cancelAnimationFrame(a),l.unobserve(e)}}},[e,r])}var aN=Z1,YT=K1,GT=nN;const ls=w.forwardRef(({className:e,children:n,...r},a)=>o.jsxs(aN,{ref:a,className:Ze("relative overflow-hidden",e),...r,children:[o.jsx(YT,{className:"h-full w-full rounded-[inherit]",children:n}),o.jsx(iN,{}),o.jsx(GT,{})]}));ls.displayName=aN.displayName;const iN=w.forwardRef(({className:e,orientation:n="vertical",...r},a)=>o.jsx(Kp,{ref:a,orientation:n,className:Ze("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(tN,{className:"relative flex-1 rounded-full bg-border"})}));iN.displayName=Kp.displayName;var pd="Tabs",[XT,D7]=us(pd,[sd]),lN=sd(),[ZT,eg]=XT(pd),cN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,onValueChange:l,defaultValue:c,orientation:d="horizontal",dir:f,activationMode:m="automatic",...h}=e,g=xl(f),[y,x]=io({prop:a,onChange:l,defaultProp:c??"",caller:pd});return o.jsx(ZT,{scope:r,baseId:lo(),value:y,onValueChange:x,orientation:d,dir:g,activationMode:m,children:o.jsx(Ye.div,{dir:g,"data-orientation":d,...h,ref:n})})});cN.displayName=pd;var uN="TabsList",dN=w.forwardRef((e,n)=>{const{__scopeTabs:r,loop:a=!0,...l}=e,c=eg(uN,r),d=lN(r);return o.jsx(Zw,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:a,children:o.jsx(Ye.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:n})})});dN.displayName=uN;var fN="TabsTrigger",mN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,disabled:l=!1,...c}=e,d=eg(fN,r),f=lN(r),m=gN(d.baseId,a),h=xN(d.baseId,a),g=a===d.value;return o.jsx(Ww,{asChild:!0,...f,focusable:!l,active:g,children:o.jsx(Ye.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...c,ref:n,onMouseDown:Ae(e.onMouseDown,y=>{!l&&y.button===0&&y.ctrlKey===!1?d.onValueChange(a):y.preventDefault()}),onKeyDown:Ae(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&d.onValueChange(a)}),onFocus:Ae(e.onFocus,()=>{const y=d.activationMode!=="manual";!g&&!l&&y&&d.onValueChange(a)})})})});mN.displayName=fN;var hN="TabsContent",pN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,forceMount:l,children:c,...d}=e,f=eg(hN,r),m=gN(f.baseId,a),h=xN(f.baseId,a),g=a===f.value,y=w.useRef(g);return w.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),o.jsx(Fn,{present:l||g,children:({present:x})=>o.jsx(Ye.div,{"data-state":g?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":m,hidden:!x,id:h,tabIndex:0,...d,ref:n,style:{...e.style,animationDuration:y.current?"0s":void 0},children:x&&c})})});pN.displayName=hN;function gN(e,n){return`${e}-trigger-${n}`}function xN(e,n){return`${e}-content-${n}`}var WT=cN,yN=dN,vN=mN,bN=pN;const KT=WT,wN=w.forwardRef(({className:e,...n},r)=>o.jsx(yN,{ref:r,className:Ze("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...n}));wN.displayName=yN.displayName;const hu=w.forwardRef(({className:e,...n},r)=>o.jsx(vN,{ref:r,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...n}));hu.displayName=vN.displayName;const pu=w.forwardRef(({className:e,...n},r)=>o.jsx(bN,{ref:r,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));pu.displayName=bN.displayName;function tg(){return o.jsx("div",{className:"flex items-center gap-2 py-3 px-2",children:o.jsx("div",{className:"flex-1 border-t border-border/50"})})}function ng(e){const n=[];let r=!1;for(let a=0;a<e.length;a++){const l=e[a];r&&l.type!=="response.done"&&(n.push({type:"separator",id:`sep-${a}`}),r=!1),n.push(l),(l.type==="response.done"||l.type==="response.completed")&&(r=!0)}return n}function uo(e){if(e.type==="response.function_result.complete"){const n=e;return{call_id:n.call_id,output:n.output,status:n.status}}return null}function NN(e){const n=[],r=new Map,a=new Map;let l="";for(const c of e){if(c.type==="response.trace.completed"||c.type==="response.trace.completed")continue;if(c.type==="response.output_item.added"){const m=c.item;if(m.type==="function_call"&&m.call_id&&m.name){const h=m.call_id;r.set(h,{name:m.name,arguments:"",callId:h,itemId:m.id,timestamp:new Date().toISOString()}),a.set(h,m.name)}n.push(c);continue}const d=uo(c)!==null;if(c.type==="response.completed"||c.type==="response.done"||c.type==="error"||c.type==="response.workflow_event.completed"||c.type==="response.trace.completed"||c.type==="response.trace.completed"||d){if(l.trim()&&(n.push({type:"response.output_text.delta",delta:l.trim()}),l=""),(c.type==="response.trace.completed"||c.type==="response.trace.completed")&&"data"in c){const m=c.data;if(m.attributes&&m.attributes["gen_ai.output.messages"]&&typeof m.attributes["gen_ai.output.messages"]=="string")try{const h=JSON.parse(m.attributes["gen_ai.output.messages"]);for(const g of h)if(g.parts)for(const y of g.parts)y.type==="tool_call"&&y.name&&y.id&&a.set(y.id,y.name)}catch{}}const f=uo(c);if(f){const m=f.call_id;if(m&&r.has(m)){const h=r.get(m),g=a.get(m)||h.name||"unknown";n.push({type:"response.function_call.complete",data:{name:g,arguments:h.arguments,call_id:h.callId}}),r.delete(m)}}n.push(c);continue}if(c.type==="response.function_call.delta"&&"data"in c){const f=c.data,m=f.call_id||`call_${Date.now()}`;r.has(m)||r.set(m,{name:f.name||void 0,arguments:"",callId:m,timestamp:new Date().toISOString()}),f.name&&f.name.trim()&&(r.get(m).name=f.name.trim());continue}if(c.type==="response.function_call.complete"&&"data"in c){n.push(c);continue}if(c.type==="response.function_call_arguments.delta"){let f="",m=null;if("delta"in c&&typeof c.delta=="string"&&(f=c.delta),"item_id"in c&&c.item_id){const h=c.item_id;for(const[g,y]of r.entries())if(y.itemId===h||g===h){m=g;break}}if(f&&m){const h=r.get(m);if(h){if(f==="{}"&&h.arguments==="")continue;h.arguments+=f}else console.warn(`Received argument delta for unknown call with item_id: ${"item_id"in c?c.item_id:"unknown"}`)}continue}if(c.type==="response.output_text.delta"&&"delta"in c){l+=c.delta||"",l.length>100&&(l.includes(`

`)||l.trim().match(/[.!?]\s*$/))&&(n.push({type:"response.output_text.delta",delta:l.trim()}),l="");continue}c.type!=="response.usage.complete"&&n.push(c)}for(const[,c]of r)if(c.arguments.trim()&&c.arguments.trim().length>2){const d=a.get(c.callId)||c.name||"unknown";n.push({type:"response.function_call.complete",data:{name:d,arguments:c.arguments,call_id:c.callId}})}return l.trim()&&n.push({type:"response.output_text.delta",delta:l.trim()}),n}function QT(e){switch(e.type){case"response.output_text.delta":if("delta"in e){const n=e.delta||"";return n.length>60?`${n.slice(0,60)}...`:n}return"Text output";case"response.function_call.complete":if("data"in e&&e.data){const n=e.data;let r=n.name||"unknown";(!r||r==="unknown")&&(r="function_call");const a=n.arguments?typeof n.arguments=="string"?n.arguments.slice(0,30):JSON.stringify(n.arguments).slice(0,30):"";return`Calling ${r}(${a}${a.length>=30?"...":""})`}return"Function call";case"response.function_call_arguments.delta":return"delta"in e&&e.delta?`Function arg delta: ${e.delta.slice(0,30)}${e.delta.length>30?"...":""}`:"Function arguments...";case"response.function_result.complete":{const r=e.output.slice(0,40);return`Function result: ${r}${r.length>=40?"...":""}`}case"response.output_item.added":{const n=e;return n.item.type==="function_call"?`Tool call: ${n.item.name}`:"Output item added"}case"response.workflow_event.completed":return"data"in e&&e.data?`Executor: ${e.data.executor_id||"unknown"}`:"Workflow event";case"response.trace.completed":return"data"in e&&e.data?`Trace: ${e.data.operation_name||"unknown"}`:"Trace event";case"response.completed":if("response"in e&&e.response&&"usage"in e.response){const r=e.response.usage;if(r)return`Response complete (${r.total_tokens} tokens)`}return"Response complete";case"response.done":return"Response complete";case"error":return"message"in e&&typeof e.message=="string"?e.message:"Error occurred";default:return`${e.type}`}}function JT(e){switch(e){case"response.output_text.delta":return Vp;case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return ba;case"response.function_result.complete":return Qt;case"response.output_item.added":return Qt;case"response.workflow_event.completed":return Bp;case"response.trace.completed":return sl;case"response.completed":return Qt;case"response.done":return Qt;case"error":return Nl;default:return is}}function e5(e){switch(e){case"response.output_text.delta":return"text-gray-600 dark:text-gray-400";case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return"text-blue-600 dark:text-blue-400";case"response.function_result.complete":return"text-green-600 dark:text-green-400";case"response.output_item.added":return"text-green-600 dark:text-green-400";case"response.workflow_event.completed":return"text-purple-600 dark:text-purple-400";case"response.trace.completed":return"text-orange-600 dark:text-orange-400";case"response.completed":return"text-green-600 dark:text-green-400";case"response.done":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}}function t5({event:e}){const[n,r]=w.useState(!1),a=e.type||"unknown",l=JT(a),c=e5(a),d="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),f=QT(e),m=e.type==="response.function_call.complete"&&"data"in e&&e.data||e.type==="response.function_result.complete"||e.type==="response.output_item.added"&&uo(e)!==null||e.type==="response.workflow_event.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.output_text.delta"&&"delta"in e&&e.delta&&e.delta.length>100||e.type==="response.completed"&&"response"in e&&e.response||e.type==="error";return o.jsxs("div",{className:"border-l-2 border-muted pl-3 py-2 hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[o.jsx(l,{className:`h-3 w-3 ${c}`}),o.jsx("span",{className:"font-mono",children:d}),o.jsx(ht,{variant:"outline",className:"text-xs py-0",children:e.type?e.type.replace("response.",""):"unknown"})]}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:`flex items-center gap-2 ${m?"cursor-pointer":""}`,onClick:()=>m&&r(!n),children:[m&&o.jsx("div",{className:"text-muted-foreground",children:n?o.jsx(Gt,{className:"h-3 w-3"}):o.jsx(qn,{className:"h-3 w-3"})}),o.jsx("div",{className:"text-muted-foreground flex-1",children:m&&f.length>80?`${f.slice(0,80)}...`:f})]}),n&&m&&o.jsx("div",{className:"mt-2 ml-5 p-3 bg-muted/30 rounded border",children:o.jsx(n5,{event:e})})]})]})}function n5({event:e}){if(e.type==="error"){const n=e;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nl,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Error Details"})]}),o.jsxs("div",{className:"text-xs",children:[n.message&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Message:"}),o.jsx("div",{className:"mt-1",children:o.jsx("pre",{className:"text-xs bg-destructive/10 border border-destructive/30 rounded p-2 text-destructive whitespace-pre-wrap break-all",children:n.message})})]}),n.code&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Code:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.code})]}),n.param&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Parameter:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.param})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Raw Event:"}),o.jsx("div",{className:"mt-1",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all max-h-32 overflow-auto",children:JSON.stringify(e,null,2)})})]})]})]})}switch(e.type){case"response.function_call.complete":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ba,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Call"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Function:"}),o.jsx("span",{className:"ml-2 font-mono bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded",children:n.name||"unknown"})]}),n.call_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),n.arguments&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Arguments:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof n.arguments=="string"?n.arguments:JSON.stringify(n.arguments,null,1)})})]})]})]})}break;case"response.function_result.complete":{const n=e;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:n.output})})]})]})]})}case"response.output_item.added":{const n=uo(e);if(n)return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:n.output})})]})]})]});break}case"response.workflow_event.completed":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bp,{className:"h-4 w-4 text-purple-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Workflow Event"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Event Type:"}),o.jsx("span",{className:"ml-2 font-mono bg-purple-100 dark:bg-purple-900 px-2 py-1 rounded",children:n.event_type||"unknown"})]}),n.executor_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Executor:"}),o.jsx("span",{className:"ml-2 font-mono",children:n.executor_id})]}),n.timestamp&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Timestamp:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.timestamp})]}),n.data&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Data:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof n.data=="string"?n.data:JSON.stringify(n.data,null,1)})})]})]})]})}break;case"response.trace.completed":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sl,{className:"h-4 w-4 text-orange-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Trace Event"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Operation:"}),o.jsx("span",{className:"ml-2 font-mono bg-orange-100 dark:bg-orange-900 px-2 py-1 rounded",children:n.operation_name||"unknown"})]}),n.span_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Span ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.span_id})]}),n.trace_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Trace ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.trace_id})]}),n.duration_ms&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Duration:"}),o.jsxs("span",{className:"ml-2 font-mono text-xs",children:[Number(n.duration_ms).toFixed(2),"ms"]})]}),n.status&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="StatusCode.UNSET"||n.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status||"unknown"})]}),n.entity_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Entity:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.entity_id})]}),n.attributes&&Object.keys(n.attributes).length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Attributes:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all",children:(()=>{try{const r={...n.attributes};return Object.keys(r).forEach(a=>{if(typeof r[a]=="string"&&r[a].startsWith("["))try{r[a]=JSON.parse(r[a])}catch{}}),JSON.stringify(r,null,2)}catch{return JSON.stringify(n.attributes,null,2)}})()})})]})]})]})}break;case"response.output_text.delta":if("delta"in e&&e.delta)return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vp,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Text Output"})]}),o.jsx("div",{className:"max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:e.delta})})]});break;case"response.completed":if("response"in e&&e.response){const r=e.response;return o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.usage&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx("span",{className:"font-medium text-muted-foreground",children:"Usage:"})}),o.jsxs("div",{className:"ml-4 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Input tokens:"}),o.jsx("span",{className:"ml-2 font-mono",children:r.usage.input_tokens})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output tokens:"}),o.jsx("span",{className:"ml-2 font-mono",children:r.usage.output_tokens})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Total tokens:"}),o.jsx("span",{className:"ml-2 font-mono bg-green-100 dark:bg-green-900 px-2 py-1 rounded",children:r.usage.total_tokens})]})]})]}),r.id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Response ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:r.id})]}),r.model&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Model:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:r.model})]})]})})}break;default:return o.jsx("div",{className:"text-xs text-muted-foreground",children:o.jsx("pre",{className:"bg-background border rounded p-2 overflow-auto max-h-32",children:JSON.stringify(e,null,2)})})}return null}function s5({events:e,isStreaming:n}){const r=w.useRef(null),a=NN(e),c=[...ng(a)].reverse();return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bp,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Events"}),o.jsxs(ht,{variant:"outline",children:[a.length,e.length>a.length?` (${e.length} raw)`:""]})]}),n&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500 dark:bg-green-400"}),"Streaming"]})]}),o.jsx(ls,{ref:r,className:"flex-1",children:o.jsx("div",{className:"p-3",children:a.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:e.length===0?"No events yet. Start a conversation to see real-time events.":"Processing events... Accumulated events will appear here."}):o.jsx("div",{className:"space-y-2",children:c.map((d,f)=>"type"in d&&d.type==="separator"?o.jsx(tg,{},d.id):o.jsx(t5,{event:d},`${d.type}-${f}`))})})})]})}function r5({events:e}){const n=e.filter(l=>l.type==="response.trace.completed"||l.type==="response.trace.completed"),a=[...ng(n)].reverse();return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[o.jsx(sl,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Traces"}),o.jsx(ht,{variant:"outline",children:n.length})]}),o.jsx(ls,{className:"flex-1",children:o.jsx("div",{className:"p-3",children:n.length===0?o.jsxs("div",{className:"text-center text-muted-foreground text-sm py-8",children:["No trace data available.",o.jsx("br",{}),e&&e.length>0&&o.jsxs("div",{className:"mt-3 text-xs border rounded p-2",children:[" ",o.jsx(va,{className:"inline h-4 w-4 mr-1  "}),"You may have to set the environment variable"," ",o.jsx("span",{className:"font-mono bg-accent/10 px-1 rounded",children:"ENABLE_OTEL=true"})," ","or restart devui with the tracing flag"," ",o.jsx("div",{className:"font-mono bg-accent/10 px-1 rounded",children:"devui --tracing"}),"to enable tracing."]})]}):o.jsx("div",{className:"space-y-3",children:a.map((l,c)=>"type"in l&&l.type==="separator"?o.jsx(tg,{},l.id):o.jsx(o5,{event:l},c))})})})]})}function o5({event:e}){const[n,r]=w.useState(!1);if(e.type!=="response.trace.completed"&&e.type!=="response.trace.completed"||!("data"in e))return o.jsxs("div",{className:"border rounded p-3 text-red-600 dark:text-red-400 text-xs",children:["Error: Expected trace event but got ",e.type]});const a=e.data;let l;"_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?l=new Date(e._uiTimestamp*1e3).toLocaleTimeString():a.end_time?l=new Date(a.end_time*1e3).toLocaleTimeString():a.start_time?l=new Date(a.start_time*1e3).toLocaleTimeString():a.timestamp?l=new Date(a.timestamp).toLocaleTimeString():l=new Date().toLocaleTimeString();const c=a.operation_name||"Unknown Operation",d=a.duration_ms?`${Number(a.duration_ms).toFixed(1)}ms`:"",f=a.entity_id||"";return o.jsxs("div",{className:"border-l-2 border-muted pl-3 py-2 hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[o.jsx(sl,{className:"h-3 w-3 text-orange-600 dark:text-orange-400"}),o.jsx("span",{className:"font-mono",children:l}),o.jsx(ht,{variant:"outline",className:"text-xs py-0",children:"trace"}),d&&o.jsx(ht,{variant:"secondary",className:"text-xs py-0",children:d})]}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r(!n),children:[o.jsx("div",{className:"text-muted-foreground",children:n?o.jsx(Gt,{className:"h-3 w-3"}):o.jsx(qn,{className:"h-3 w-3"})}),o.jsxs("div",{className:"text-muted-foreground flex-1 break-all",children:[o.jsx("span",{className:"font-medium",children:c}),f&&o.jsxs("span",{className:"ml-2 text-xs",children:["(",f,")"]})]})]}),n&&o.jsx("div",{className:"mt-2 ml-5 p-3 bg-muted/30 rounded border",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sl,{className:"h-4 w-4 text-orange-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Trace Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Operation:"}),o.jsx("span",{className:"ml-2 font-mono bg-orange-100 dark:bg-orange-900 px-2 py-1 rounded",children:c})]}),a.span_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Span ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:a.span_id})]}),a.trace_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Trace ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:a.trace_id})]}),a.parent_span_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Parent Span:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:a.parent_span_id})]}),a.duration_ms&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Duration:"}),o.jsxs("span",{className:"ml-2 font-mono text-xs",children:[Number(a.duration_ms).toFixed(2),"ms"]})]}),a.status&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${a.status==="StatusCode.UNSET"||a.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:a.status||"unknown"})]}),a.entity_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Entity:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:a.entity_id})]}),a.attributes&&Object.keys(a.attributes).length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Attributes:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:(()=>{try{const m={...a.attributes};return Object.keys(m).forEach(h=>{if(typeof m[h]=="string"&&m[h].startsWith("["))try{m[h]=JSON.parse(m[h])}catch{}}),JSON.stringify(m,null,2)}catch{return JSON.stringify(a.attributes,null,2)}})()})})]})]})]})})]})]})}function a5({events:e}){const n=NN(e),r=[],a=n.filter(m=>m.type==="response.function_call.complete"),l=e.filter(m=>uo(m)!==null),c=new Map;l.forEach(m=>{const h=uo(m);h&&c.set(h.call_id,m)}),a.forEach(m=>{if(r.push(m),"data"in m&&m.data&&m.data.call_id){const h=String(m.data.call_id),g=c.get(h);g&&(r.push(g),c.delete(h))}}),c.forEach(m=>{r.push(m)});const f=[...ng(r)].reverse();return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[o.jsx(ba,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Tools"}),o.jsx(ht,{variant:"outline",children:r.length})]}),o.jsx(ls,{className:"flex-1",children:o.jsx("div",{className:"p-3",children:r.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"No tool executions yet. Tool calls will appear here during conversations."}):o.jsx("div",{className:"space-y-3",children:f.map((m,h)=>"type"in m&&m.type==="separator"?o.jsx(tg,{},m.id):o.jsx(i5,{event:m},h))})})})]})}function i5({event:e}){const n="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),r=e.type==="response.function_call.complete",a=uo(e),l=a!==null;if(!r&&!l)return null;const c=r&&"data"in e?e.data:null;return o.jsxs("div",{className:"border rounded p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xp,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),o.jsx("span",{className:"font-medium text-sm",children:r?"Tool Call":"Tool Result"}),r&&c&&c.name!==void 0&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",String(c.name),")"]})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:n})]}),r&&c&&o.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ba,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:"text-xs font-mono bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"CALL"}),o.jsx("span",{className:"font-medium text-sm",children:String(c.name||"unknown")})]}),c.arguments!==void 0&&o.jsxs("div",{className:"text-xs",children:[o.jsx("span",{className:"text-muted-foreground mb-1 block",children:"Arguments:"}),o.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 max-w-full break-all whitespace-pre-wrap",children:typeof c.arguments=="string"?c.arguments:JSON.stringify(c.arguments,null,1)})]})]}),l&&a&&o.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-950/50 border border-green-200 dark:border-green-800 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Qt,{className:"h-3 w-3 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-xs font-mono bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded",children:"RESULT"}),a.status!=="completed"&&o.jsx("span",{className:"ml-auto px-2 py-1 rounded text-xs font-medium bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",children:a.status})]}),o.jsxs("div",{className:"text-xs space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"font-mono text-xs break-all",children:a.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Output:"}),o.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 break-all whitespace-pre-wrap",children:a.output})]})]})]})]})}function l5({events:e,isStreaming:n=!1,onMinimize:r}){return o.jsx("div",{className:"flex-1 border-l flex flex-col min-h-0",children:o.jsxs(KT,{defaultValue:"events",className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"px-3 pt-3 flex items-center gap-2 flex-shrink-0",children:[o.jsxs(wN,{className:"flex-1",children:[o.jsx(hu,{value:"events",className:"flex-1",children:"Events"}),o.jsx(hu,{value:"traces",className:"flex-1",children:"Traces"}),o.jsx(hu,{value:"tools",className:"flex-1",children:"Tools"})]}),r&&o.jsx(Te,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 flex-shrink-0",title:"Minimize debug panel",children:o.jsx(qn,{className:"h-4 w-4"})})]}),o.jsx(pu,{value:"events",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(s5,{events:e,isStreaming:n})}),o.jsx(pu,{value:"traces",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(r5,{events:e})}),o.jsx(pu,{value:"tools",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(a5,{events:e})})]})})}function kr({open:e,onOpenChange:n,children:r}){if(!e)return null;const a=()=>{n(!1)},l=d=>{d.stopPropagation()},c=d=>{d.stopPropagation()};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:a}),o.jsx("div",{className:"relative z-10",onClick:l,onMouseDown:c,onMouseUp:d=>d.stopPropagation(),children:r})]})}function Ar({children:e,className:n=""}){const a=n.includes("w-[")||n.includes("w-full")||n.includes("max-w-")?"":"max-w-lg w-full";return o.jsx("div",{className:`relative bg-background border rounded-lg shadow-lg max-h-[90vh] overflow-hidden ${a} ${n}`,children:e})}function Mr({children:e,className:n=""}){return o.jsx("div",{className:`space-y-2 ${n}`,children:e})}function Tr({children:e,className:n=""}){return o.jsx("h2",{className:`text-lg font-semibold ${n}`,children:e})}function c5({children:e,className:n=""}){return o.jsx("p",{className:`text-sm text-muted-foreground ${n}`,children:e})}function bo({onClose:e}){return o.jsx(Te,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 right-4 h-8 w-8 p-0 rounded-sm opacity-70 hover:opacity-100",children:o.jsx(wa,{className:"h-4 w-4"})})}function u5({children:e}){return o.jsx("div",{className:"flex justify-end gap-2 p-4 border-t bg-muted/50",children:e})}function An({className:e,type:n,...r}){return o.jsx("input",{type:n,"data-slot":"input",className:Ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var d5="Label",SN=w.forwardRef((e,n)=>o.jsx(Ye.label,{...e,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));SN.displayName=d5;var f5=SN;function xt({className:e,...n}){return o.jsx(f5,{"data-slot":"label",className:Ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...n})}function sg(e){const n=w.useRef({value:e,previous:e});return w.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var gd="Switch",[m5,O7]=us(gd),[h5,p5]=m5(gd),jN=w.forwardRef((e,n)=>{const{__scopeSwitch:r,name:a,checked:l,defaultChecked:c,required:d,disabled:f,value:m="on",onCheckedChange:h,form:g,...y}=e,[x,b]=w.useState(null),S=rt(n,E=>b(E)),N=w.useRef(!1),j=x?g||!!x.closest("form"):!0,[_,M]=io({prop:l,defaultProp:c??!1,onChange:h,caller:gd});return o.jsxs(h5,{scope:r,checked:_,disabled:f,children:[o.jsx(Ye.button,{type:"button",role:"switch","aria-checked":_,"aria-required":d,"data-state":kN(_),"data-disabled":f?"":void 0,disabled:f,value:m,...y,ref:S,onClick:Ae(e.onClick,E=>{M(T=>!T),j&&(N.current=E.isPropagationStopped(),N.current||E.stopPropagation())})}),j&&o.jsx(CN,{control:x,bubbles:!N.current,name:a,value:m,checked:_,required:d,disabled:f,form:g,style:{transform:"translateX(-100%)"}})]})});jN.displayName=gd;var _N="SwitchThumb",EN=w.forwardRef((e,n)=>{const{__scopeSwitch:r,...a}=e,l=p5(_N,r);return o.jsx(Ye.span,{"data-state":kN(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:n})});EN.displayName=_N;var g5="SwitchBubbleInput",CN=w.forwardRef(({__scopeSwitch:e,control:n,checked:r,bubbles:a=!0,...l},c)=>{const d=w.useRef(null),f=rt(d,c),m=sg(r),h=Ap(n);return w.useEffect(()=>{const g=d.current;if(!g)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(m!==r&&b){const S=new Event("click",{bubbles:a});b.call(g,r),g.dispatchEvent(S)}},[m,r,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:f,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CN.displayName=g5;function kN(e){return e?"checked":"unchecked"}var AN=jN,x5=EN;const gu=w.forwardRef(({className:e,...n},r)=>o.jsx(AN,{className:Ze("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:r,children:o.jsx(x5,{className:Ze("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));gu.displayName=AN.displayName;const y5=["gpt-4.1","gpt-4.1-mini","o1","o1-mini","o3-mini"];function qv({open:e,onOpenChange:n,onBackendUrlChange:r}){const[a,l]=w.useState("general"),{oaiMode:c,setOAIMode:d,azureDeploymentEnabled:f,setAzureDeploymentEnabled:m,authRequired:h,serverCapabilities:g,serverVersion:y,runtime:x,uiMode:b}=de(),S="",[N,j]=w.useState(()=>localStorage.getItem("devui_backend_url")||S),[_,M]=w.useState(N),[E,T]=w.useState(!!localStorage.getItem("devui_auth_token")),[R,D]=w.useState(""),O=()=>{try{new URL(_),localStorage.setItem("devui_backend_url",_),j(_),r?.(_),n(!1),window.location.reload()}catch{alert("Please enter a valid URL (e.g., http://localhost:8080)")}},P=()=>{localStorage.removeItem("devui_backend_url"),M(S),j(S),r?.(S),window.location.reload()},q=()=>{R.trim()&&(localStorage.setItem("devui_auth_token",R.trim()),T(!0),D(""),window.location.reload())},Q=()=>{localStorage.removeItem("devui_auth_token"),T(!1),D(""),window.location.reload()},ee=_!==N,G=!localStorage.getItem("devui_backend_url");return o.jsx(kr,{open:e,onOpenChange:n,children:o.jsxs(Ar,{className:"w-[600px] max-w-[90vw] flex flex-col max-h-[85vh]",children:[o.jsx(Mr,{className:"p-6 pb-2 flex-shrink-0",children:o.jsx(Tr,{children:"Settings"})}),o.jsx(bo,{onClose:()=>n(!1)}),o.jsxs("div",{className:"flex border-b px-6 flex-shrink-0",children:[o.jsxs("button",{onClick:()=>l("general"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="general"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["General",a==="general"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),g.openai_proxy&&o.jsxs("button",{onClick:()=>l("proxy"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="proxy"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["OpenAI Proxy",a==="proxy"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),o.jsxs("button",{onClick:()=>l("about"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="about"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["About",a==="about"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1 min-h-[400px]",children:[a==="general"&&o.jsxs("div",{className:"space-y-6 pt-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xt,{htmlFor:"backend-url",className:"text-sm font-medium",children:"Backend URL"}),!G&&o.jsxs(Te,{variant:"ghost",size:"sm",onClick:P,className:"h-7 text-xs",title:"Reset to default",children:[o.jsx(Yp,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),o.jsx(An,{id:"backend-url",type:"url",value:_,onChange:W=>M(W.target.value),placeholder:"http://localhost:8080",className:"font-mono text-sm"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default: ",o.jsx("span",{className:"font-mono",children:S})]}),o.jsx("div",{className:"flex gap-2 pt-2 min-h-[36px]",children:ee&&o.jsxs(o.Fragment,{children:[o.jsx(Te,{onClick:O,size:"sm",className:"flex-1",children:"Apply & Reload"}),o.jsx(Te,{onClick:()=>M(N),variant:"outline",size:"sm",className:"flex-1",children:"Cancel"})]})})]}),(h||E)&&o.jsxs("div",{className:"space-y-3 border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xt,{className:"text-sm font-medium",children:"Authentication Token"}),!h&&E&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not required by current backend)"})]}),E?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(An,{type:"password",value:"",disabled:!0,className:"font-mono text-sm flex-1"}),o.jsx(Te,{variant:"destructive",size:"sm",onClick:Q,className:"flex-shrink-0",children:"Clear"})]}),o.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:" Token configured and stored locally"})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx(An,{type:"password",value:R,onChange:W=>D(W.target.value),placeholder:"Enter bearer token",className:"font-mono text-sm",onKeyDown:W=>{W.key==="Enter"&&R.trim()&&q()}}),o.jsx(Te,{onClick:q,size:"sm",disabled:!R.trim(),className:"w-full",children:"Save & Reload"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:h?"Required by backend (started with --auth flag)":"Not required by current backend"})]})]}),g.deployment&&o.jsxs("div",{className:"space-y-3 border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(xt,{className:"text-sm font-medium",children:"Azure Deployment"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable one-click deployment to Azure Container Apps"})]}),o.jsx(gu,{checked:f,onCheckedChange:m})]}),o.jsxs("details",{className:"group",children:[o.jsxs("summary",{className:"cursor-pointer text-xs text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[o.jsx(qn,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Learn more about Azure deployment"]}),o.jsxs("div",{className:"mt-3 space-y-3 pl-4",children:[o.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:'When enabled, agents that support deployment will show a "Deploy to Azure" button. This allows you to deploy your agent to Azure Container Apps directly from DevUI.'}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("p",{className:"text-xs font-medium",children:"When enabled:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:'Shows "Deploy to Azure" for supported agents'}),o.jsx("li",{children:"Requires Azure CLI and proper authentication"}),o.jsx("li",{children:"Backend must have deployment capabilities enabled"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("p",{className:"text-xs font-medium",children:"When disabled:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:'Shows "Deployment Guide" for all agents'}),o.jsx("li",{children:"Provides Docker templates and manual deployment instructions"}),o.jsx("li",{children:"No backend deployment capabilities required"})]})]})]})]})]}),o.jsx("div",{className:"space-y-3 border-t pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(xt,{className:"text-sm font-medium",children:"Show Tool Calls"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Display function/tool calls and results in chat messages"})]}),o.jsx(gu,{checked:de.getState().showToolCalls,onCheckedChange:W=>de.getState().setShowToolCalls(W)})]})})]}),a==="proxy"&&g.openai_proxy&&o.jsxs("div",{className:"space-y-6 pt-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(xt,{className:"text-base font-medium",children:"OpenAI Proxy Mode"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Route requests through DevUI backend to OpenAI API"})]}),o.jsx(gu,{checked:c.enabled,onCheckedChange:W=>d({...c,enabled:W})})]}),!c.enabled&&o.jsx("div",{className:"bordder border-muted bg-muted/30 rounded-lg p-4 space-y-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(va,{className:"h-4 w-4 flex-shrink-0 mt-0.5 text-blue-600 dark:text-blue-400"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"About OpenAI Proxy Mode"}),o.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["When enabled, your chat requests are sent to your DevUI backend"," ",o.jsxs("span",{className:"font-mono font-semibold",children:["(",N,")"]}),", which then forwards them to OpenAI's API. This keeps your"," ",o.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","secure on the server instead of exposing it in the browser."]}),o.jsxs("div",{className:"space-y-1.5 pt-1",children:[o.jsx("p",{className:"text-xs font-medium",children:"Requirements:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsxs("li",{children:["Backend must have"," ",o.jsx("span",{className:"font-mono",children:"OPENAI_API_KEY"})," ","configured"]}),o.jsx("li",{children:"Backend must support OpenAI Responses API proxying (DevUI does)"})]})]}),o.jsxs("div",{className:"space-y-1.5 pt-1",children:[o.jsx("p",{className:"text-xs font-medium",children:"Why use this?"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quickly test and compare OpenAI models directly through the DevUI interface without creating custom agents or exposing API keys in the browser."})]})]})]})}),c.enabled&&o.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xt,{className:"text-sm font-medium",children:"Model"}),o.jsx(An,{type:"text",value:c.model,onChange:W=>d({...c,model:W.target.value}),placeholder:"gpt-4.1-mini",className:"font-mono text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter any OpenAI model ID (e.g., gpt-4.1, o1, o3-mini)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xt,{className:"text-xs text-muted-foreground",children:"Common presets"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:y5.map(W=>o.jsx(Te,{variant:c.model===W?"default":"outline",size:"sm",onClick:()=>d({...c,model:W}),className:"text-xs h-7",children:W},W))})]}),o.jsxs("details",{className:"group",children:[o.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[o.jsx(qn,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Advanced Parameters (optional)"]}),o.jsxs("div",{className:"space-y-3 mt-3 pl-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(xt,{className:"text-xs",children:"Temperature"}),o.jsx(An,{type:"number",step:"0.1",min:"0",max:"2",value:c.temperature??"",onChange:W=>d({...c,temperature:W.target.value?parseFloat(W.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness (0-2)"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(xt,{className:"text-xs",children:"Max Output Tokens"}),o.jsx(An,{type:"number",min:"1",value:c.max_output_tokens??"",onChange:W=>d({...c,max_output_tokens:W.target.value?parseInt(W.target.value):void 0}),placeholder:"Auto",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum tokens in response"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(xt,{className:"text-xs",children:"Top P"}),o.jsx(An,{type:"number",step:"0.1",min:"0",max:"1",value:c.top_p??"",onChange:W=>d({...c,top_p:W.target.value?parseFloat(W.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Nucleus sampling (0-1)"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(xt,{className:"text-xs",children:"Reasoning Effort (o-series models)"}),o.jsxs("select",{value:c.reasoning_effort??"",onChange:W=>d({...c,reasoning_effort:W.target.value?W.target.value:void 0}),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[o.jsx("option",{value:"",children:"Auto (default)"}),o.jsx("option",{value:"minimal",children:"Minimal"}),o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Constrains reasoning effort (faster/cheaper vs thorough)"})]})]})]})]})]}),c.enabled&&o.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded",children:[o.jsx(va,{className:"h-3.5 w-3.5 flex-shrink-0 mt-0.5"}),o.jsx("div",{className:"space-y-1",children:o.jsxs("p",{children:["Requests route through"," ",o.jsx("span",{className:"font-mono font-semibold",children:N})," ","to OpenAI API. Server must have"," ",o.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","configured."]})})]})]}),a==="about"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"DevUI is a sample app for getting started with Agent Framework."}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Version:"}),o.jsx("span",{className:"font-mono",children:y||"Unknown"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Runtime:"}),o.jsx("span",{className:"font-mono capitalize",children:x||"Unknown"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"UI Mode:"}),o.jsx("span",{className:"font-mono capitalize",children:b||"Unknown"})]})]}),(g||h!==void 0)&&o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Capabilities"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[g?.tracing!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Tracing:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.tracing?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.tracing?"Enabled":"Disabled"})]}),g?.openai_proxy!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"OpenAI Proxy:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.openai_proxy?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.openai_proxy?"Available":"Not Configured"})]}),g?.deployment!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Deployment:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.deployment?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.deployment?"Available":"Disabled"})]}),h!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Authentication:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${h?"bg-blue-500/10 text-blue-600 dark:text-blue-400":"bg-muted text-muted-foreground"}`,children:h?"Required":"Not Required"})]})]})]}),o.jsx("div",{className:"flex justify-center pt-2",children:o.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>window.open("https://github.com/microsoft/agent-framework","_blank"),className:"text-xs",children:[o.jsx(Ru,{className:"h-3 w-3 mr-1"}),"Learn More about Agent Framework"]})})]})]})]})})}const v5="modulepreload",b5=function(e,n){return new URL(e,n).href},Fv={},Zh=function(n,r,a){let l=Promise.resolve();if(r&&r.length>0){let h=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const d=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");l=h(r.map(g=>{if(g=b5(g,a),g in Fv)return;Fv[g]=!0;const y=g.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(a)for(let S=d.length-1;S>=0;S--){const N=d[S];if(N.href===g&&(!y||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${x}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":v5,y||(b.as="script"),b.crossOrigin="",b.href=g,m&&b.setAttribute("nonce",m),document.head.appendChild(b),y)return new Promise((S,N)=>{b.addEventListener("load",S),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return n().catch(c)})},MN="devui_streaming_state_",TN=1440*60*1e3;function Lu(e){return`${MN}${e}`}function w5(e){let n="";for(const r of e)r.type==="response.output_text.delta"&&"delta"in r&&(n+=r.delta);return n}function RN(e){try{const n=Lu(e.conversationId),r=JSON.stringify(e);localStorage.setItem(n,r)}catch(n){console.error("Failed to save streaming state:",n);try{DN();const r=Lu(e.conversationId),a=JSON.stringify(e);localStorage.setItem(r,a)}catch{console.error("Failed to save streaming state even after cleanup")}}}function ha(e){try{const n=Lu(e),r=localStorage.getItem(n);if(!r)return null;const a=JSON.parse(r);return Date.now()-a.timestamp>TN?(xu(e),null):a.completed?null:a}catch(n){return console.error("Failed to load streaming state:",n),null}}function hh(e,n,r,a){try{const l=ha(e),c="sequence_number"in n?n.sequence_number:void 0,d=l?[...l.events,n]:[n],f={conversationId:e,responseId:r,lastMessageId:a,lastSequenceNumber:c??l?.lastSequenceNumber??-1,events:d,timestamp:Date.now(),completed:n.type==="response.completed"||n.type==="response.failed",accumulatedText:w5(d)};RN(f)}catch(l){console.error("Failed to update streaming state:",l)}}function ph(e){try{const n=ha(e);n&&(n.completed=!0,n.timestamp=Date.now(),RN(n))}catch(n){console.error("Failed to mark streaming as completed:",n)}}function xu(e){try{const n=Lu(e);localStorage.removeItem(n)}catch(n){console.error("Failed to clear streaming state:",n)}}function DN(){try{const e=Object.keys(localStorage),n=Date.now();for(const r of e)if(r.startsWith(MN))try{const a=localStorage.getItem(r);if(a){const l=JSON.parse(a);(n-l.timestamp>TN||l.completed)&&localStorage.removeItem(r)}}catch{localStorage.removeItem(r)}}catch(e){console.error("Failed to clear expired streaming states:",e)}}function N5(){DN()}function ON(){const[e,n]=w.useState(!1),r=w.useRef(null),a=w.useCallback(()=>(r.current=new AbortController,n(!1),r.current.signal),[]),l=w.useCallback(()=>{r.current&&(n(!0),r.current.abort(),r.current=null)},[]),c=w.useCallback(()=>{n(!1)},[]),d=w.useCallback(()=>{r.current&&(r.current.abort(),r.current=null)},[]);return{isCancelling:e,createAbortSignal:a,handleCancel:l,resetCancelling:c,cleanup:d}}function Hu(e){return e instanceof DOMException&&e.name==="AbortError"}function S5(e={}){const{onDrop:n,disabled:r=!1}=e,[a,l]=w.useState(!1),[c,d]=w.useState([]),f=w.useRef(0),m=w.useCallback(b=>{b.preventDefault(),b.stopPropagation(),!r&&(f.current++,b.dataTransfer.items&&b.dataTransfer.items.length>0&&l(!0))},[r]),h=w.useCallback(b=>{b.preventDefault(),b.stopPropagation(),!r&&(f.current--,f.current===0&&l(!1))},[r]),g=w.useCallback(b=>{b.preventDefault(),b.stopPropagation()},[]),y=w.useCallback(b=>{if(b.preventDefault(),b.stopPropagation(),l(!1),f.current=0,r)return;const S=Array.from(b.dataTransfer.files);S.length>0&&(d(S),n?.(S))},[r,n]),x=w.useCallback(()=>{d([])},[]);return{isDragOver:a,droppedFiles:c,clearDroppedFiles:x,dragHandlers:{onDragEnter:m,onDragLeave:h,onDragOver:g,onDrop:y}}}const j5="",_5=1e3,gh=10;function E5(){const e=localStorage.getItem("devui_backend_url");return e||j5}function C5(e){return new Promise(n=>setTimeout(n,e))}class k5{baseUrl;authToken=null;constructor(n){this.baseUrl=n||E5(),this.authToken=localStorage.getItem("devui_auth_token")}setBaseUrl(n){this.baseUrl=n}getBaseUrl(){return this.baseUrl}setAuthToken(n){this.authToken=n,n?localStorage.setItem("devui_auth_token",n):localStorage.removeItem("devui_auth_token")}getAuthToken(){return this.authToken}clearAuthToken(){this.setAuthToken(null)}async request(n,r={}){const a=`${this.baseUrl}${n}`,l={"Content-Type":"application/json",...r.headers};this.authToken&&(l.Authorization=`Bearer ${this.authToken}`);const c=await fetch(a,{...r,headers:l});if(!c.ok){if(c.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");let d=`API request failed: ${c.status} ${c.statusText}`;try{const f=await c.json();f.detail?typeof f.detail=="string"?d=f.detail:typeof f.detail=="object"&&f.detail.error?.message&&(d=f.detail.error.message):f.error?.message&&(d=f.error.message)}catch{}throw new Error(d)}return c.json()}async getHealth(){return this.request("/health")}async getMeta(){return this.request("/meta")}async getEntities(){const r=(await this.request("/v1/entities")).entities.map(c=>{if(c.type==="agent")return{id:c.id,name:c.name,description:c.description,type:"agent",source:c.source||"directory",tools:(c.tools||[]).map(d=>typeof d=="string"?d:JSON.stringify(d)),has_env:!!(c.required_env_vars&&c.required_env_vars.length>0),module_path:typeof c.metadata?.module_path=="string"?c.metadata.module_path:void 0,required_env_vars:c.required_env_vars,metadata:c.metadata,deployment_supported:c.deployment_supported,deployment_reason:c.deployment_reason,instructions:c.instructions,model_id:c.model_id,chat_client_type:c.chat_client_type,context_providers:c.context_providers,middleware:c.middleware};{const d=c.executors||c.tools||[];let f=c.start_executor_id||"";if(!f&&d.length>0){const m=d[0];typeof m=="string"&&(f=m)}return{id:c.id,name:c.name,description:c.description,type:"workflow",source:c.source||"directory",executors:d.map(m=>typeof m=="string"?m:JSON.stringify(m)),has_env:!!(c.required_env_vars&&c.required_env_vars.length>0),module_path:typeof c.metadata?.module_path=="string"?c.metadata.module_path:void 0,required_env_vars:c.required_env_vars,metadata:c.metadata,deployment_supported:c.deployment_supported,deployment_reason:c.deployment_reason,input_schema:c.input_schema||{type:"string"},input_type_name:c.input_type_name||"Input",start_executor_id:f,tools:[]}}}),a=r.filter(c=>c.type==="agent"),l=r.filter(c=>c.type==="workflow");return{entities:r,agents:a,workflows:l}}async getAgents(){const{agents:n}=await this.getEntities();return n}async getWorkflows(){const{workflows:n}=await this.getEntities();return n}async getAgentInfo(n){return this.request(`/v1/entities/${n}/info?type=agent`)}async getWorkflowInfo(n){return this.request(`/v1/entities/${n}/info?type=workflow`)}async reloadEntity(n){return this.request(`/v1/entities/${n}/reload`,{method:"POST"})}async createConversation(n){const{oaiMode:r}=await Zh(()=>Promise.resolve().then(()=>Gh),void 0,import.meta.url).then(c=>({oaiMode:c.useDevUIStore.getState().oaiMode})),a={};r.enabled&&(a["X-Proxy-Backend"]="openai");const l=await this.request("/v1/conversations",{method:"POST",headers:a,body:JSON.stringify({metadata:n})});return{id:l.id,object:"conversation",created_at:l.created_at,metadata:l.metadata}}async listConversations(n){const r=n?`/v1/conversations?agent_id=${encodeURIComponent(n)}`:"/v1/conversations",a=await this.request(r);return{data:a.data.map(l=>({id:l.id,object:"conversation",created_at:l.created_at,metadata:l.metadata})),has_more:a.has_more}}async getConversation(n){const r=await this.request(`/v1/conversations/${n}`);return{id:r.id,object:"conversation",created_at:r.created_at,metadata:r.metadata}}async deleteConversation(n){try{return await this.request(`/v1/conversations/${n}`,{method:"DELETE"}),xu(n),!0}catch{return!1}}async listConversationItems(n,r){const a=new URLSearchParams;r?.limit&&a.set("limit",r.limit.toString()),r?.after&&a.set("after",r.after),r?.order&&a.set("order",r.order);const l=a.toString(),c=`/v1/conversations/${n}/items${l?`?${l}`:""}`;return this.request(c)}async getConversationItem(n,r){const a=`/v1/conversations/${n}/items/${r}`;return this.request(a)}async deleteConversationItem(n,r){const a=await fetch(`${this.baseUrl}/v1/conversations/${n}/items/${r}`,{method:"DELETE"});if(!a.ok)throw new Error(`Failed to delete item: ${a.statusText}`)}async*streamOpenAIResponse(n,r,a,l){const{oaiMode:c}=await Zh(()=>Promise.resolve().then(()=>Gh),void 0,import.meta.url).then(y=>({oaiMode:y.useDevUIStore.getState().oaiMode}));c.enabled&&(n.model=c.model,c.temperature!==void 0&&(n.temperature=c.temperature),c.max_output_tokens!==void 0&&(n.max_output_tokens=c.max_output_tokens),c.top_p!==void 0&&(n.top_p=c.top_p),c.instructions!==void 0&&(n.instructions=c.instructions),c.reasoning_effort!==void 0&&(n.reasoning={effort:c.reasoning_effort}));let d=-1,f=0,m=!1,h=l,g;if(r){const y=ha(r);if(y)if(l||(h=y.responseId),d=y.lastSequenceNumber,g=y.lastMessageId,l)m=y.events.length>0;else for(const x of y.events)m=!0,yield x}for(;f<=gh;)try{let y;if(h){const N=new URLSearchParams;N.set("stream","true"),d>=0&&N.set("starting_after",d.toString());const j=`${this.baseUrl}/v1/responses/${h}?${N.toString()}`,_={Accept:"text/event-stream"};this.authToken&&(_.Authorization=`Bearer ${this.authToken}`),y=await fetch(j,{method:"GET",headers:_,signal:a})}else{const N=`${this.baseUrl}/v1/responses`,j={"Content-Type":"application/json",Accept:"text/event-stream"};c.enabled&&(j["X-Proxy-Backend"]="openai"),this.authToken&&(j.Authorization=`Bearer ${this.authToken}`),y=await fetch(N,{method:"POST",headers:j,body:JSON.stringify(n),signal:a})}if(!y.ok){if(y.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");if(y.status>=400&&y.status<500){let j=`Client error ${y.status}`;try{const _=await y.json();_.error&&_.error.message?j=_.error.message:_.detail&&(j=_.detail)}catch{}throw new Error(`CLIENT_ERROR: ${j}`)}let N=`Request failed with status ${y.status}`;try{const j=await y.json();j.error&&j.error.message?N=j.error.message:j.detail&&(N=j.detail)}catch{}throw new Error(N)}const x=y.body?.getReader();if(!x)throw new Error("Response body is not readable");const b=new TextDecoder;let S="";try{for(;;){if(a?.aborted)throw new DOMException("Request aborted","AbortError");const{done:N,value:j}=await x.read();if(N){r&&ph(r);return}const _=b.decode(j,{stream:!0});S+=_;const M=S.split(`
`);S=M.pop()||"";for(const E of M)if(E.startsWith("data: ")){const T=E.slice(6);if(T==="[DONE]"){r&&ph(r);return}try{const R=JSON.parse(T);if("response"in R&&R.response&&typeof R.response=="object"&&"id"in R.response){const O=R.response.id;(!h||h!==O)&&(h=O)}else if("id"in R&&typeof R.id=="string"&&R.id.startsWith("resp_")){const O=R.id;(!h||h!==O)&&(h=O)}"item_id"in R&&R.item_id&&(g=R.item_id);const D="sequence_number"in R?R.sequence_number:void 0;if(D!==void 0)if(m&&D<=1&&d>1)r&&xu(r),yield{type:"error",message:"Connection lost - previous response failed. Starting new response."},d=D,m=!0,r&&h&&hh(r,R,h,g),yield R;else{if(D<=d)continue;d=D,m=!0,r&&h&&hh(r,R,h,g),yield R}else m=!0,r&&h&&hh(r,R,h,g),yield R}catch(R){console.error("Failed to parse OpenAI SSE event:",R)}}}}finally{x.releaseLock()}}catch(y){const x=y instanceof Error?y.message:String(y);if(Hu(y))throw r&&ph(r),y;if(x==="UNAUTHORIZED"||x.startsWith("CLIENT_ERROR:"))throw y;if(f++,f>gh)throw new Error(`Connection failed after ${gh} retry attempts: ${x}`);const b=Math.min(_5*Math.pow(2,f-1),3e4);await C5(b)}}async*streamAgentExecutionOpenAI(n,r,a,l){const c={metadata:{entity_id:n},input:r.input,stream:!0,conversation:r.conversation_id};return yield*this.streamAgentExecutionOpenAIDirect(n,c,r.conversation_id,a,l)}async*streamAgentExecutionOpenAIDirect(n,r,a,l,c){yield*this.streamOpenAIResponse(r,a,l,c)}async*streamWorkflowExecutionOpenAI(n,r,a){const l={metadata:{entity_id:n},input:JSON.stringify(r.input_data||{}),stream:!0,conversation:r.conversation_id,extra_body:r.checkpoint_id?{entity_id:n,checkpoint_id:r.checkpoint_id}:void 0};yield*this.streamOpenAIResponse(l,r.conversation_id,a)}async runAgent(n,r){return this.request(`/agents/${n}/run`,{method:"POST",body:JSON.stringify(r)})}async runWorkflow(n,r){return this.request(`/workflows/${n}/run`,{method:"POST",body:JSON.stringify(r)})}clearStreamingState(n){xu(n)}async*streamDeployment(n){const r=await fetch(`${this.baseUrl}/v1/deployments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,stream:!0})});if(!r.ok)throw new Error(`Deployment failed: ${r.statusText}`);const a=r.body?.getReader();if(!a)throw new Error("No response body");const l=new TextDecoder;let c="";try{for(;;){const{done:d,value:f}=await a.read();if(d)break;c+=l.decode(f,{stream:!0});const m=c.split(`
`);c=m.pop()||"";for(const h of m)if(h.startsWith("data: ")){const g=h.slice(6);if(g==="[DONE]")return;try{yield JSON.parse(g)}catch(y){yield{type:"deploy.error",message:`Failed to parse deployment event: ${y instanceof Error?y.message:"Unknown error"}`}}}}}catch(d){throw yield{type:"deploy.failed",message:`Stream interrupted: ${d instanceof Error?d.message:"Unknown error"}`},d}finally{a.releaseLock()}}async listWorkflowSessions(n){const r=`/v1/conversations?entity_id=${encodeURIComponent(n)}&type=workflow_session`;return{data:(await this.request(r)).data.map(c=>({conversation_id:c.id,entity_id:c.metadata?.entity_id||n,created_at:c.created_at,metadata:{name:c.metadata?.name||`Session ${new Date(c.created_at*1e3).toLocaleString()}`,description:c.metadata?.description,type:"workflow_session",checkpoint_summary:c.metadata?.checkpoint_summary}}))}}async createWorkflowSession(n,r){const a={entity_id:n,type:"workflow_session",name:r?.name||`Session ${new Date().toLocaleString()}`,...r?.description&&{description:r.description}},l=await this.createConversation(a);return{conversation_id:l.id,entity_id:n,created_at:l.created_at,metadata:{name:a.name,description:a.description,type:"workflow_session"}}}async deleteWorkflowSession(n,r){if(!await this.deleteConversation(r))throw new Error("Failed to delete workflow session")}}const Je=new k5;function A5({open:e,onClose:n,agentName:r="Agent",entity:a}){const c=de(C=>C.azureDeploymentEnabled)&&(a?.deployment_supported??!1),[d,f]=w.useState(c?"azure":"docker"),[m,h]=w.useState(null),g=w.useRef(null),y=w.useRef(null),x=de(C=>C.isDeploying),b=de(C=>C.deploymentLogs),S=de(C=>C.lastDeployment),N=de(C=>C.startDeployment),j=de(C=>C.addDeploymentLog),_=de(C=>C.setDeploymentResult),M=de(C=>C.stopDeployment),E=de(C=>C.clearDeploymentState),T=C=>{const $=C.toLowerCase().replace(/[_\s]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^[^a-z]+/,"").replace(/-$/,"");return($.match(/^[a-z]/)?$:`app-${$}`).substring(0,31)},R=a?T(a.id):"",[D,O]=w.useState("my-test-rg"),[P,q]=w.useState(R),[Q,ee]=w.useState("eastus"),[G,W]=w.useState(null);w.useEffect(()=>{if(a){const C=T(a.id);q(C);const $=B(C);W($)}},[a?.id]),w.useEffect(()=>{y.current&&b.length>0&&(y.current.scrollTop=y.current.scrollHeight)},[b]);const B=C=>C?C.length>=32?"App name must be less than 32 characters":/^[a-z0-9-]+$/.test(C)?/^[a-z]/.test(C)?/[a-z0-9]$/.test(C)?C.includes("--")?"App name cannot contain consecutive hyphens (--)":null:"App name must end with a letter or number":"App name must start with a lowercase letter":"App name must contain only lowercase letters, numbers, and hyphens (no underscores or uppercase)":null;w.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const U=async()=>{if(!a?.id||!D||!P)return;const C=D.trim(),$=P.trim(),Y=B($);if(Y){W(Y);return}try{N();for await(const V of Je.streamDeployment({entity_id:a.id,resource_group:C,app_name:$,region:Q,ui_mode:"user"}))j(V.message),V.type==="deploy.completed"&&V.url&&V.auth_token?_({url:V.url,authToken:V.auth_token}):V.type==="deploy.failed"&&M()}catch(V){j(`Error: ${V instanceof Error?V.message:"Deployment failed"}`),M()}},k=async(C,$)=>{try{await navigator.clipboard.writeText(C),h($),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(null),g.current=null},2e3)}catch{h(null)}},L=`# Dockerfile for ${r}
FROM python:3.11-slim

WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy agent/workflow directories
COPY . .

# Expose DevUI default port
EXPOSE 8080

# Run DevUI server
CMD ["devui", ".", "--port", "8080", "--host", "0.0.0.0"]
`,I=`# docker-compose.yml
version: '3.8'

services:
  ${r.toLowerCase().replace(/\s+/g,"-")}:
    build: .
    environment:
      # OpenAI
      - OPENAI_API_KEY=\${OPENAI_API_KEY}
      - OPENAI_CHAT_MODEL_ID=\${OPENAI_CHAT_MODEL_ID:-gpt-4o-mini}
      # Or Azure OpenAI
      - AZURE_OPENAI_API_KEY=\${AZURE_OPENAI_API_KEY}
      - AZURE_OPENAI_ENDPOINT=\${AZURE_OPENAI_ENDPOINT}
      - AZURE_OPENAI_CHAT_DEPLOYMENT_NAME=\${AZURE_OPENAI_CHAT_DEPLOYMENT_NAME}
      # Optional: Enable tracing
      - ENABLE_OTEL=\${ENABLE_OTEL:-false}
    ports:
      - "8080:8080"
    restart: unless-stopped
`,H=`# requirements.txt
agent-framework-devui>=0.1.0
agent-framework>=0.1.0
# Chat clients (install what you need)
openai>=1.0.0
# azure-openai
# anthropic
`;return o.jsx(kr,{open:e,onOpenChange:n,children:o.jsxs(Ar,{className:"w-[800px] max-w-[90vw]",children:[o.jsx(bo,{onClose:n}),o.jsxs(Mr,{className:"p-6 pb-2",children:[o.jsxs(Tr,{className:"flex items-center gap-2",children:[o.jsx(qh,{className:"h-5 w-5"}),"Deploy ",r]}),o.jsx("p",{className:"text-sm text-muted-foreground pt-1",children:"Get started with containerizing your agent for deployment."})]}),o.jsxs("div",{className:"flex border-b px-6",children:[o.jsxs("button",{onClick:()=>f("docker"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${d==="docker"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[o.jsx(JA,{className:"h-4 w-4 mr-2 inline"}),"Docker",d==="docker"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),c&&o.jsxs("button",{onClick:()=>f("azure"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${d==="azure"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[o.jsx(WA,{className:"h-4 w-4 mr-2 inline"}),"Azure",d==="azure"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),o.jsx("div",{className:"px-6 pb-6 min-h-[400px]",children:o.jsx(ls,{className:"h-[500px]",children:o.jsxs("div",{className:"pr-4",children:[d==="docker"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Containerize with Docker"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Package your agent as a Docker container for consistent deployment anywhere."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Dockerfile"}),o.jsx(Te,{size:"sm",variant:"ghost",onClick:()=>k(L,"dockerfile"),children:m==="dockerfile"?o.jsxs(o.Fragment,{children:[o.jsx(Qt,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(no,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:L})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"docker-compose.yml"}),o.jsx(Te,{size:"sm",variant:"ghost",onClick:()=>k(I,"compose"),children:m==="compose"?o.jsxs(o.Fragment,{children:[o.jsx(Qt,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(no,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:I})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"requirements.txt"}),o.jsx(Te,{size:"sm",variant:"ghost",onClick:()=>k(H,"requirements"),children:m==="requirements"?o.jsxs(o.Fragment,{children:[o.jsx(Qt,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(no,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:H})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Quick Start"}),o.jsxs("ol",{className:"text-xs space-y-1 list-decimal list-inside text-muted-foreground",children:[o.jsx("li",{children:"Save the files above to your project directory"}),o.jsxs("li",{children:["Build:"," ",o.jsxs("code",{className:"bg-muted px-1 rounded",children:["docker build -t ",r.toLowerCase(),"-agent ."]})]}),o.jsxs("li",{children:["Run:"," ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"docker-compose up"})]}),o.jsx("li",{children:"Your agent is now running in a container!"})]})]}),o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2 text-amber-900 dark:text-amber-100",children:" Production Considerations"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-amber-800 dark:text-amber-200",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"In-memory state:"})," Conversations are lost when container restarts"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"No authentication:"})," Add reverse proxy (nginx, Caddy) with auth for production"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Security:"})," Use Azure Key Vault for secrets management"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Scaling:"})," Single instance only due to in-memory conversation store"]})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Pre-Deployment Checklist"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Set environment variables (API keys, secrets)"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Test agent locally in container"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Configure logging and monitoring"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Set up error handling and retries"})]})]})]})]}),d==="azure"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Deploy to Azure Container Apps"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:c?"One-click deployment to Azure with automatic containerization and authentication.":"Azure Container Apps provides serverless containers with auto-scaling and integrated monitoring."})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-900 dark:text-blue-100",children:"Prerequisites for Azure Deployment"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-blue-800 dark:text-blue-200",children:[o.jsxs("li",{children:["Azure CLI installed and authenticated (",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"az login"}),")"]}),o.jsx("li",{children:"Docker installed and running"}),o.jsxs("li",{children:["Azure subscription with the following providers registered:",o.jsxs("ul",{className:"ml-4 mt-1 space-y-0.5",children:[o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.App"})," (Container Apps)"]}),o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.ContainerRegistry"})," (ACR)"]}),o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.OperationalInsights"})," (Logging)"]})]})]})]}),o.jsxs("details",{className:"mt-2",children:[o.jsx("summary",{className:"text-xs cursor-pointer hover:underline text-blue-700 dark:text-blue-300",children:"How to register providers?"}),o.jsxs("div",{className:"mt-2 p-2 bg-blue-100 dark:bg-blue-900 rounded text-xs",children:[o.jsx("p",{className:"mb-1",children:"Run these commands once per subscription:"}),o.jsxs("code",{className:"block font-mono",children:["az provider register -n Microsoft.App --wait",o.jsx("br",{}),"az provider register -n Microsoft.ContainerRegistry --wait",o.jsx("br",{}),"az provider register -n Microsoft.OperationalInsights --wait"]})]})]})]}),c&&a&&!S&&o.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[x?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Cr,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}),o.jsx("div",{ref:y,className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((C,$)=>o.jsx("div",{className:C.includes("failed")||C.includes("Error")?"text-red-600":"",children:C},$))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Resource Group"}),o.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",placeholder:"my-test-rg",value:D,onChange:C=>O(C.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"App Name"}),o.jsx("input",{type:"text",className:`w-full mt-1 px-3 py-2 border rounded-md text-sm ${G?"border-red-500":""}`,placeholder:"my-agent-app",value:P,onChange:C=>{const $=C.target.value;q($);const Y=B($.trim());W(Y)}}),G&&o.jsx("p",{className:"mt-1 text-xs text-red-600",children:G})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Region"}),o.jsxs("select",{className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",value:Q,onChange:C=>ee(C.target.value),children:[o.jsx("option",{value:"eastus",children:"East US"}),o.jsx("option",{value:"westus",children:"West US"}),o.jsx("option",{value:"westeurope",children:"West Europe"}),o.jsx("option",{value:"eastasia",children:"East Asia"})]})]})]}),o.jsxs(Te,{onClick:U,disabled:!D||!P||!!G,className:"w-full",children:[o.jsx(qh,{className:"h-4 w-4 mr-2"}),"Deploy to Azure"]})]}),!x&&b.length>0&&!S&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-red-600",children:[o.jsx(is,{className:"h-4 w-4"}),"Deployment Failed"]}),o.jsx("div",{className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((C,$)=>o.jsx("div",{className:C.includes("failed")||C.includes("Error")?"text-red-600":"",children:C},$))}),o.jsx(Te,{onClick:E,variant:"outline",className:"w-full",children:"Try Again"})]})]}),S&&o.jsxs("div",{className:"border-2 border-green-200 bg-green-50 dark:bg-green-950/50 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"h-5 w-5 text-green-600"}),o.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Deployment Successful!"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Deployment URL"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm",children:S.url}),o.jsx(Te,{size:"sm",variant:"outline",onClick:()=>window.open(S.url,"_blank"),children:o.jsx(Ru,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Auth Token (save this - shown only once)"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm font-mono",children:S.authToken}),o.jsx(Te,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(S.authToken),children:o.jsx(no,{className:"h-4 w-4"})})]})]})]}),o.jsx(Te,{onClick:E,variant:"outline",className:"w-full",children:"Deploy Another"})]}),!c&&a?.deployment_reason&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(is,{className:"h-4 w-4 mt-0.5 text-amber-600 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[o.jsx("strong",{children:"Deployment not available:"})," ",a.deployment_reason]})]})}),!c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Prerequisites"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-muted-foreground",children:[o.jsx("li",{children:"Azure subscription"}),o.jsxs("li",{children:["Azure CLI installed (",o.jsx("code",{className:"bg-muted px-1 rounded",children:"az --version"}),")"]}),o.jsx("li",{children:"Docker installed and running"}),o.jsxs("li",{children:["Logged in to Azure:"," ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"az login"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Deployment Steps"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"1"}),o.jsx("h5",{className:"font-medium text-sm",children:"Create Azure Container Registry"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Create resource group
az group create --name myResourceGroup --location eastus

# Create container registry
az acr create --resource-group myResourceGroup \\
  --name myregistry --sku Basic`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"2"}),o.jsx("h5",{className:"font-medium text-sm",children:"Build and Push Docker Image"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Build and push in one command
az acr build --registry myregistry \\
  --image ${r.toLowerCase()}-agent:latest .`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"3"}),o.jsx("h5",{className:"font-medium text-sm",children:"Create Container Apps Environment"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp env create --name myEnvironment \\
  --resource-group myResourceGroup \\
  --location eastus`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"4"}),o.jsx("h5",{className:"font-medium text-sm",children:"Deploy Container App"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp create --name ${r.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --environment myEnvironment \\
  --image myregistry.azurecr.io/${r.toLowerCase()}-agent:latest \\
  --target-port 8080 \\
  --ingress 'external' \\
  --registry-server myregistry.azurecr.io \\
  --env-vars OPENAI_API_KEY=secretref:openai-key OPENAI_CHAT_MODEL_ID=gpt-4o-mini`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"5"}),o.jsx("h5",{className:"font-medium text-sm",children:"Get Application URL"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp show --name ${r.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --query properties.configuration.ingress.fqdn`})]})]})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Learn More"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Explore Azure Container Apps documentation for advanced features like scaling, monitoring, and CI/CD integration."}),o.jsx(Te,{size:"sm",variant:"outline",className:"w-full",asChild:!0,children:o.jsxs("a",{href:"https://learn.microsoft.com/azure/container-apps/",target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Ru,{className:"h-3 w-3 mr-1"}),"View Azure Container Apps Documentation"]})})]})]})]})]})})})]})})}function M5({className:e,...n}){return o.jsx("div",{"data-slot":"card",className:Ze("bg-card text-card-foreground flex flex-col gap-6 rounded border py-6 shadow-sm",e),...n})}function T5({className:e,...n}){return o.jsx("div",{"data-slot":"card-header",className:Ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...n})}function zN({className:e,...n}){return o.jsx("div",{"data-slot":"card-title",className:Ze("leading-none font-semibold",e),...n})}function R5({className:e,...n}){return o.jsx("div",{"data-slot":"card-description",className:Ze("text-muted-foreground text-sm",e),...n})}function D5({className:e,...n}){return o.jsx("div",{"data-slot":"card-content",className:Ze("px-6",e),...n})}function O5({className:e,...n}){return o.jsx("div",{"data-slot":"card-footer",className:Ze("flex items-center px-6 [.border-t]:pt-6",e),...n})}const wr=[{id:"foundry-weather-agent",name:"Azure AI Weather Agent",description:"Weather agent using Azure AI Agent (Foundry) with Azure CLI authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/foundry_agent/agent.py",tags:["azure-ai","foundry","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure AI Agent integration","Azure CLI authentication","Mock weather tools"],requiredEnvVars:[{name:"AZURE_AI_PROJECT_ENDPOINT",description:"Azure AI Foundry project endpoint URL",required:!0,example:"https://your-project.api.azureml.ms"},{name:"FOUNDRY_MODEL_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure AI Foundry",required:!0,example:"gpt-4o"}]},{id:"weather-agent-azure",name:"Azure OpenAI Weather Agent",description:"Weather agent using Azure OpenAI with API key authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/weather_agent_azure/agent.py",tags:["azure","openai","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure OpenAI integration","API key authentication","Function calling","Mock weather tools"],requiredEnvVars:[{name:"AZURE_OPENAI_API_KEY",description:"Azure OpenAI API key",required:!0},{name:"AZURE_OPENAI_CHAT_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure OpenAI",required:!0,example:"gpt-4o"},{name:"AZURE_OPENAI_ENDPOINT",description:"Azure OpenAI endpoint URL",required:!0,example:"https://your-resource.openai.azure.com"}]},{id:"spam-workflow",name:"Spam Detection Workflow",description:"5-step workflow demonstrating email spam detection with branching logic",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/spam_workflow/workflow.py",tags:["workflow","branching","multi-step"],author:"Microsoft",difficulty:"beginner",features:["Sequential execution","Conditional branching","Mock spam detection"]},{id:"fanout-workflow",name:"Complex Fan-In/Fan-Out Workflow",description:"Advanced data processing workflow with parallel validation, transformation, and quality assurance stages",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/fanout_workflow/workflow.py",tags:["workflow","fan-out","fan-in","parallel"],author:"Microsoft",difficulty:"advanced",features:["Fan-out pattern","Parallel execution","Complex state management","Multi-stage processing"]}];wr.filter(e=>e.type==="agent"),wr.filter(e=>e.type==="workflow"),wr.filter(e=>e.difficulty==="beginner"),wr.filter(e=>e.difficulty==="intermediate"),wr.filter(e=>e.difficulty==="advanced");const z5=e=>{switch(e){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},IN=w.forwardRef(({className:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:Ze("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",e),...n}));IN.displayName="Alert";const LN=w.forwardRef(({className:e,...n},r)=>o.jsx("h5",{ref:r,className:Ze("mb-1 font-medium leading-none tracking-tight",e),...n}));LN.displayName="AlertTitle";const HN=w.forwardRef(({className:e,...n},r)=>o.jsx("div",{ref:r,className:Ze("text-sm [&_p]:leading-relaxed",e),...n}));HN.displayName="AlertDescription";function $N({children:e,copyable:n=!1}){const[r,a]=w.useState(!1),l=()=>{navigator.clipboard.writeText(e),a(!0),setTimeout(()=>a(!1),2e3)};return o.jsxs("div",{className:"relative",children:[o.jsx("pre",{className:"bg-muted p-3 rounded-md text-sm overflow-x-auto font-mono",children:o.jsx("code",{children:e})}),n&&o.jsx(Te,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:l,children:r?o.jsx(vo,{className:"h-3 w-3"}):o.jsx(no,{className:"h-3 w-3"})})]})}function eu({number:e,title:n,description:r,code:a,action:l,copyable:c=!1}){return o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:e})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:n}),r&&o.jsx("p",{className:"text-sm text-muted-foreground",children:r}),a&&o.jsx($N,{copyable:c,children:a}),l&&o.jsx("div",{children:l})]})]})}function I5({sample:e,open:n,onOpenChange:r}){const a=e.requiredEnvVars&&e.requiredEnvVars.length>0,l=a?0:-1;return o.jsx(kr,{open:n,onOpenChange:r,children:o.jsxs(Ar,{className:"max-w-3xl",children:[o.jsxs(Mr,{className:"px-6 pt-6 pb-2",children:[o.jsxs(Tr,{children:["Setup: ",e.name]}),o.jsxs(c5,{children:["Follow these steps to run this sample ",e.type," locally"]})]}),o.jsx("div",{className:"px-6 pb-6",children:o.jsx(ls,{className:"h-[500px]",children:o.jsxs("div",{className:"space-y-6 pr-4",children:[o.jsx(eu,{number:1,title:"Download the sample file",action:o.jsx(Te,{asChild:!0,size:"sm",children:o.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Download ",e.id,".py"]})})}),o.jsx(eu,{number:2,title:"Create a project folder",description:"Create a dedicated folder for this sample and move the downloaded file there:",code:`mkdir -p ~/my-agents/${e.id}
mv ~/Downloads/${e.id}.py ~/my-agents/${e.id}/`,copyable:!0}),a&&o.jsx(eu,{number:3,title:"Set up environment variables",description:"Create a .env file in the project folder with these required variables:",code:e.requiredEnvVars.map(c=>`${c.name}=${c.example||"your-value-here"}
# ${c.description}`).join(`

`),copyable:!0}),o.jsx(eu,{number:4+l,title:"Run with DevUI",description:"Navigate to the folder and start DevUI:",code:`cd ~/my-agents/${e.id}
devui .`,copyable:!0}),o.jsxs(IN,{children:[o.jsx(vM,{className:"h-4 w-4"}),o.jsx(LN,{children:"Alternative: Run Programmatically"}),o.jsxs(HN,{className:"mt-2",children:[o.jsxs("p",{className:"mb-2",children:["You can also run the ",e.type," directly in Python:"]}),o.jsx($N,{copyable:!0,children:`from ${e.id} import ${e.type}
import asyncio

async def main():
    response = await ${e.type}.run("Hello!")
    print(response)

asyncio.run(main())`})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[o.jsx(Te,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Ru,{className:"h-4 w-4 mr-2"}),"View Source"]})}),o.jsx(Te,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:"https://github.com/microsoft/agent-framework#readme",target:"_blank",rel:"noopener noreferrer",children:[o.jsx(P1,{className:"h-4 w-4 mr-2"}),"Documentation"]})})]})]})})})]})})}function L5({sample:e}){const[n,r]=w.useState(!1),a=e.type==="workflow"?Is:Hs;return o.jsxs(o.Fragment,{children:[o.jsxs(M5,{className:"hover:shadow-md transition-shadow duration-200 h-full flex flex-col overflow-hidden w-full",children:[o.jsxs(T5,{className:"pb-3 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(a,{className:"h-5 w-5"}),o.jsx(ht,{variant:"secondary",className:"text-xs",children:e.type})]}),o.jsx(ht,{variant:"outline",className:Ze("text-xs border",z5(e.difficulty)),children:e.difficulty})]}),o.jsx(zN,{className:"text-lg leading-tight",children:e.name}),o.jsx(R5,{className:"text-sm line-clamp-3",children:e.description})]}),o.jsx(D5,{className:"pt-0 flex-1 min-w-0 overflow-hidden",children:o.jsxs("div",{className:"space-y-3 min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(l=>o.jsx(ht,{variant:"outline",className:"text-xs",children:l},l)),e.tags.length>3&&o.jsxs(ht,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),e.requiredEnvVars&&e.requiredEnvVars.length>0&&o.jsxs("details",{className:"group min-w-0 max-w-full overflow-hidden",children:[o.jsxs("summary",{className:"cursor-pointer list-none p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md hover:bg-amber-100 dark:hover:bg-amber-950/30 transition-colors flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(xM,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-500 flex-shrink-0"}),o.jsxs("span",{className:"text-xs font-medium text-amber-900 dark:text-amber-100 truncate",children:["Requires ",e.requiredEnvVars.length," env var",e.requiredEnvVars.length>1?"s":""]})]}),o.jsx(Gt,{className:"h-3 w-3 text-amber-600 dark:text-amber-500 flex-shrink-0 group-open:rotate-180 transition-transform"})]}),o.jsx("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md space-y-2 min-w-0 max-w-full overflow-hidden",children:e.requiredEnvVars.map(l=>o.jsxs("div",{className:"text-xs min-w-0 max-w-full overflow-hidden",children:[o.jsx("div",{className:"font-mono font-medium text-amber-900 dark:text-amber-100 break-words",children:l.name}),o.jsx("div",{className:"text-amber-700 dark:text-amber-300 mt-0.5 break-words",children:l.description}),l.example&&o.jsx("div",{className:"font-mono text-amber-600 dark:text-amber-400 mt-0.5 break-all",children:l.example})]},l.name))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Key Features:"}),o.jsx("ul",{className:"text-xs space-y-1",children:e.features.slice(0,3).map(l=>o.jsxs("li",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-current opacity-50"}),o.jsx("span",{children:l})]},l))})]})]})}),o.jsxs(O5,{className:"pt-3 flex-col gap-3",children:[o.jsx("div",{className:"w-full flex items-center justify-between text-xs text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Y1,{className:"h-3 w-3"}),o.jsx("span",{children:e.author})]})}),o.jsxs("div",{className:"w-full flex gap-2",children:[o.jsx(Te,{asChild:!0,className:"flex-1",size:"sm",children:o.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Download"]})}),o.jsxs(Te,{variant:"outline",className:"flex-1",size:"sm",onClick:()=>r(!0),children:[o.jsx(P1,{className:"h-4 w-4 mr-2"}),"Setup Guide"]})]})]})]}),o.jsx(I5,{sample:e,open:n,onOpenChange:r})]})}function xh({samples:e}){return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(n=>o.jsx("div",{className:"min-w-0",children:o.jsx(L5,{sample:n})},n.id))})}function Yv({onClose:e,variant:n="inline",hasExistingEntities:r=!1}){return n==="inline"?o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8 p-4 bg-muted/50 border border-border rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(tT,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"No agents or workflows configured yet!"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["You can configure agents or workflows by running"," ",o.jsx("code",{className:"px-1.5 py-0.5 bg-background rounded text-xs",children:"devui"})," ","in a directory containing them."]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse the sample agents and workflows below. Download them, review the code, and run them locally to get started quickly."})]})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sample Gallery"}),o.jsx(xh,{samples:wr})]}),o.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",o.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):n==="route"?o.jsx("div",{className:"h-full overflow-auto",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[r&&o.jsx("div",{className:"mb-4",children:o.jsxs(Te,{variant:"ghost",onClick:e,className:"gap-2",children:[o.jsx(RA,{className:"h-4 w-4"}),"Back"]})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Sample Gallery"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Browse sample agents and workflows to learn the Agent Framework. Download these curated examples and run them locally. Examples range from beginner to advanced."})]})]}),o.jsx(xh,{samples:wr}),o.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",o.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):o.jsx(xh,{samples:wr})}function ro({className:e,...n}){return o.jsx("textarea",{"data-slot":"textarea",className:Ze("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...n})}function H5({onFilesSelected:e,accept:n="image/*,.pdf,audio/*,.wav,.mp3,.m4a,.ogg",multiple:r=!0,maxSize:a=50*1024*1024,disabled:l=!1,className:c=""}){const d=w.useRef(null),f=x=>{if(!x||x.length===0)return;const b=[],S=[];Array.from(x).forEach(N=>{if(N.size>a){S.push(`${N.name} is too large (max ${$5(a)})`);return}if(n&&!P5(N,n)){S.push(`${N.name} is not an accepted file type`);return}b.push(N)}),S.length>0&&console.warn("File upload errors:",S),b.length>0&&e(b)},m=()=>{d.current&&d.current.click()},h=x=>{f(x.target.files),x.target.value=""},g=x=>{if(x.preventDefault(),x.stopPropagation(),l)return;const b=x.dataTransfer.files;f(b)},y=x=>{x.preventDefault(),x.stopPropagation()};return o.jsxs("div",{className:c,children:[o.jsx("input",{ref:d,type:"file",accept:n,multiple:r,onChange:h,className:"hidden",disabled:l}),o.jsx(Te,{type:"button",variant:"outline",size:"icon",onClick:m,disabled:l,onDrop:g,onDragOver:y,className:"shrink-0 transition-colors hover:bg-muted",title:"Upload files (images, PDFs, audio)",children:o.jsx(sT,{className:"h-4 w-4"})})]})}function $5(e){if(e===0)return"0 Bytes";const n=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,a)).toFixed(2))+" "+r[a]}function P5(e,n){return n.split(",").map(a=>a.trim()).some(a=>{if(a.startsWith("."))return e.name.toLowerCase().endsWith(a.toLowerCase());if(a.includes("/*")){const[l]=a.split("/");return e.type.startsWith(l+"/")}else return e.type===a})}function B5({attachments:e,onRemoveAttachment:n,className:r=""}){return e.length===0?null:o.jsx("div",{className:`flex flex-wrap gap-2 p-2 bg-muted rounded-lg ${r}`,children:e.map(a=>o.jsx(U5,{attachment:a,onRemove:()=>n(a.id)},a.id))})}function U5({attachment:e,onRemove:n}){const[r,a]=w.useState(!1),l=()=>{switch(e.type){case"image":return e.preview?o.jsx("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-200",children:o.jsx(hM,{className:"h-6 w-6 text-gray-400"})});case"pdf":return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-red-50",children:[o.jsx(Er,{className:"h-6 w-6 text-red-500 mb-1"}),o.jsx("span",{className:"text-xs text-red-600",children:"PDF"})]});case"audio":return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-purple-50",children:[o.jsx(F1,{className:"h-6 w-6 text-purple-500 mb-1"}),o.jsx("span",{className:"text-xs text-purple-600",children:"AUDIO"})]});default:return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gray-100",children:[o.jsx(Er,{className:"h-6 w-6 text-gray-500 mb-1"}),o.jsx("span",{className:"text-xs text-gray-600",children:"FILE"})]})}};return o.jsxs("div",{className:"relative w-16 h-16 rounded border overflow-hidden group cursor-pointer",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),title:e.file.name,children:[l(),o.jsx("div",{className:`absolute inset-0 bg-black/60 flex items-center justify-center transition-all duration-200 ease-in-out ${r?"opacity-100 backdrop-blur-sm":"opacity-0 pointer-events-none"}`,onClick:n,children:o.jsx("div",{className:`transition-all duration-200 ease-in-out ${r?"scale-100 opacity-100":"scale-75 opacity-0"}`,children:o.jsx(Gp,{className:"h-5 w-5 text-white drop-shadow-lg"})})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white text-xs p-1 truncate opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.file.name})]})}function PN({onSubmit:e,isSubmitting:n=!1,isStreaming:r=!1,onCancel:a,isCancelling:l=!1,placeholder:c,showFileUpload:d=!0,maxAttachments:f=10,className:m="",disabled:h=!1,entityName:g="assistant",externalFiles:y,onExternalFilesProcessed:x}){const[b,S]=w.useState(""),[N,j]=w.useState([]),[_,M]=w.useState(!1),[E,T]=w.useState(null),R=w.useRef(null);w.useEffect(()=>{y&&y.length>0&&(Q(y),x?.())},[y,x]);const D=1e4,O=I=>I.type.startsWith("image/")?"image":I.type==="application/pdf"?"pdf":I.type.startsWith("audio/")?"audio":"other",P=I=>new Promise((H,C)=>{const $=new FileReader;$.onload=()=>H($.result),$.onerror=C,$.readAsDataURL(I)}),q=I=>{const H=I.trim(),C=H.split(`
`);if(/^{[\s\S]*}$|^\[[\s\S]*\]$/.test(H))return".json";if(/^<\?xml|^<html|^<!DOCTYPE/i.test(H))return".html";if(/^```/.test(H))return".md";if(/\t/.test(I)&&C.length>1)return".tsv";if(C.length>2){const $=C.filter(V=>V.includes(",")),Y=C.filter(V=>V.includes(";"));if($.length>C.length*.5&&$.reduce((K,fe)=>K+(fe.match(/,/g)||[]).length,0)/$.length>=2||Y.length>C.length*.5&&Y.reduce((K,fe)=>K+(fe.match(/;/g)||[]).length,0)/Y.length>=2)return".csv"}return".txt"},Q=w.useCallback(async I=>{if(N.length+I.length>f){console.warn(`Cannot add more than ${f} attachments`);return}const H=[];for(const C of I){const $={id:`${Date.now()}-${Math.random()}`,file:C,type:O(C)};if(C.type.startsWith("image/"))try{$.preview=await P(C)}catch(Y){console.error("Failed to generate preview:",Y)}H.push($)}j(C=>[...C,...H])},[N.length,f]),ee=I=>{j(H=>H.filter(C=>C.id!==I))},G=I=>{I.preventDefault(),I.stopPropagation(),M(!0)},W=I=>{I.preventDefault(),I.stopPropagation(),M(!1)},B=async I=>{I.preventDefault(),I.stopPropagation(),M(!1);const H=Array.from(I.dataTransfer.files);H.length>0&&await Q(H)},U=async I=>{const H=Array.from(I.clipboardData.items),C=[];let $=!1;for(const Y of H)if(Y.type.startsWith("image/")){I.preventDefault();const V=Y.getAsFile();if(V){const K=Date.now();C.push(new File([V],`screenshot-${K}.png`,{type:V.type}))}}else Y.type==="text/plain"&&!$&&($=!0,I.preventDefault(),await new Promise(V=>{Y.getAsString(K=>{const fe=(K.match(/\n/g)||[]).length;if(K.length>D||fe>50||/^\s*[{[][\s\S]*[}\]]\s*$/.test(K)||/^<\?xml|^<html|^<!DOCTYPE/i.test(K)){const te=q(K),ie=Date.now(),xe=new Blob([K],{type:"text/plain"});C.push(new File([xe],`pasted-text-${ie}${te}`,{type:"text/plain"}))}else{const te=R.current;if(te){const ie=te.selectionStart,xe=te.selectionEnd,ve=te.value,be=ve.slice(0,ie)+K+ve.slice(xe);S(be),setTimeout(()=>{te.selectionStart=te.selectionEnd=ie+K.length,te.focus()},0)}}V()})}));if(C.length>0){await Q(C);const Y=C.length===1?C[0].name.includes("screenshot")?"Screenshot added as attachment":"Large text converted to file":`${C.length} files added`;T(Y),setTimeout(()=>T(null),3e3)}},k=async I=>{if(I.preventDefault(),!b.trim()&&N.length===0||n||h)return;const H=b.trim(),C=[];H&&C.push({text:H,type:"input_text"});for(const $ of N){const Y=await P($.file);if($.file.type.startsWith("image/"))C.push({detail:"auto",type:"input_image",image_url:Y});else if($.file.type==="text/plain"&&($.file.name.includes("pasted-text-")||$.file.name.endsWith(".txt")||$.file.name.endsWith(".csv")||$.file.name.endsWith(".json")||$.file.name.endsWith(".html")||$.file.name.endsWith(".md")||$.file.name.endsWith(".tsv"))){const V=await $.file.text();C.push({text:V,type:"input_text"})}else{const V=Y.split(",")[1];C.push({type:"input_file",file_data:V,file_url:Y,filename:$.file.name})}}await e(C),S(""),j([])},L=!h&&!n&&!r&&(b.trim()||N.length>0);return o.jsxs("div",{className:`relative ${m}`,onDragOver:G,onDragLeave:W,onDrop:B,children:[_&&o.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-blue-400 dark:border-blue-500 rounded-lg bg-blue-50/80 dark:bg-blue-950/40 backdrop-blur-sm flex items-center justify-center transition-all duration-200 ease-in-out z-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-1",children:"Drop files here"}),o.jsx("div",{className:"text-blue-500 dark:text-blue-500 text-xs",children:"Images, PDFs, and other files"})]})}),N.length>0&&o.jsx("div",{className:"mb-3",children:o.jsx(B5,{attachments:N,onRemoveAttachment:ee})}),E&&o.jsxs("div",{className:`absolute bottom-24 left-1/2 -translate-x-1/2 z-20
                      bg-blue-500 text-white px-4 py-2 rounded-full text-sm
                      animate-in slide-in-from-bottom-2 fade-in duration-200
                      flex items-center gap-2 shadow-lg`,children:[E.includes("screenshot")?o.jsx(zM,{className:"h-3 w-3"}):o.jsx(Er,{className:"h-3 w-3"}),E]}),o.jsxs("form",{onSubmit:k,className:"flex gap-2 items-end",children:[o.jsx(ro,{ref:R,value:b,onChange:I=>S(I.target.value),onPaste:U,onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),k(I))},placeholder:c||`Message ${g}... (Shift+Enter for new line)`,disabled:h||n||r,className:"flex-1 min-h-[40px] max-h-[200px] resize-none",style:{fieldSizing:"content"}}),d&&o.jsx(H5,{onFilesSelected:Q,disabled:h||n||r}),r&&a?o.jsx(Te,{type:"button",size:"icon",onClick:a,disabled:l,className:"shrink-0 h-10 transition-all",title:"Stop generating","aria-label":"Stop generating response",children:l?o.jsx(Ou,{size:"sm"}):o.jsx(cd,{className:"h-4 w-4 fill-current"})}):o.jsx(Te,{type:"submit",size:"icon",disabled:!L,className:"shrink-0 h-10 transition-all",title:"Send message","aria-label":"Send message",children:n?o.jsx(Ou,{size:"sm"}):o.jsx(VM,{className:"h-4 w-4"})})]})]})}function V5({code:e,language:n}){const[r,a]=w.useState(!1),l=w.useRef(null);w.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const c=async()=>{try{await navigator.clipboard.writeText(e),a(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{a(!1),l.current=null},2e3)}catch(d){console.error("Failed to copy code:",d)}};return o.jsxs("div",{className:"relative group",children:[o.jsx("pre",{className:"my-3 p-3 bg-foreground/5 dark:bg-foreground/10 rounded overflow-x-auto border border-foreground/10",children:o.jsxs("code",{className:"text-xs font-mono block whitespace-pre-wrap break-words",children:[n&&o.jsx("span",{className:"opacity-60 text-[10px] mb-1 block uppercase",children:n}),e]})}),o.jsx("button",{onClick:c,className:`absolute top-2 right-2 p-1.5 rounded-md border shadow-sm
                   bg-background hover:bg-accent
                   text-muted-foreground hover:text-foreground
                   transition-all duration-200
                   opacity-0 group-hover:opacity-100`,title:r?"Copied!":"Copy code",children:r?o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600 dark:text-green-400",children:o.jsx("polyline",{points:"20 6 9 17 4 12"})}):o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),o.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})}function q5({content:e,className:n=""}){const r=e.split(`
`),a=[];let l=0;for(;l<r.length;){const c=r[l];if(c.trim().startsWith("```")){const f=[],h=c.trim().match(/^```(\w+)?/)?.[1]||"";for(l++;l<r.length&&!r[l].trim().startsWith("```");)f.push(r[l]),l++;l++,a.push(o.jsx(V5,{code:f.join(`
`),language:h},a.length));continue}const d=c.match(/^(#{1,6})\s+(.+)$/);if(d){const f=d[1].length,m=d[2],g=`${["text-2xl","text-xl","text-lg","text-base","text-sm","text-sm"][f-1]} font-semibold mt-4 mb-2 first:mt-0 break-words`,y=f===1?o.jsx("h1",{className:g,children:gn(m)},a.length):f===2?o.jsx("h2",{className:g,children:gn(m)},a.length):f===3?o.jsx("h3",{className:g,children:gn(m)},a.length):f===4?o.jsx("h4",{className:g,children:gn(m)},a.length):f===5?o.jsx("h5",{className:g,children:gn(m)},a.length):o.jsx("h6",{className:g,children:gn(m)},a.length);a.push(y),l++;continue}if(c.match(/^[\s]*[-*+]\s+/)){const f=[];for(;l<r.length&&r[l].match(/^[\s]*[-*+]\s+/);){const m=r[l].replace(/^[\s]*[-*+]\s+/,"");f.push(m),l++}a.push(o.jsx("ul",{className:"my-2 ml-4 list-disc space-y-1 break-words",children:f.map((m,h)=>o.jsx("li",{className:"text-sm break-words",children:gn(m)},h))},a.length));continue}if(c.match(/^[\s]*\d+\.\s+/)){const f=[];for(;l<r.length&&r[l].match(/^[\s]*\d+\.\s+/);){const m=r[l].replace(/^[\s]*\d+\.\s+/,"");f.push(m),l++}a.push(o.jsx("ol",{className:"my-2 ml-4 list-decimal space-y-1 break-words",children:f.map((m,h)=>o.jsx("li",{className:"text-sm break-words",children:gn(m)},h))},a.length));continue}if(c.trim().startsWith("|")&&c.trim().endsWith("|")){const f=[];for(;l<r.length&&r[l].trim().startsWith("|")&&r[l].trim().endsWith("|");)f.push(r[l].trim()),l++;if(f.length>=2){const m=f[0].split("|").slice(1,-1).map(g=>g.trim());if(f[1].match(/^\|[\s\-:|]+\|$/)){const g=f.slice(2).map(y=>y.split("|").slice(1,-1).map(x=>x.trim()));a.push(o.jsx("div",{className:"my-3 overflow-x-auto",children:o.jsxs("table",{className:"min-w-full border border-foreground/10 text-sm",children:[o.jsx("thead",{className:"bg-foreground/5",children:o.jsx("tr",{children:m.map((y,x)=>o.jsx("th",{className:"border-b border-foreground/10 px-3 py-2 text-left font-semibold break-words",children:gn(y)},x))})}),o.jsx("tbody",{children:g.map((y,x)=>o.jsx("tr",{className:"border-b border-foreground/5 last:border-b-0",children:y.map((b,S)=>o.jsx("td",{className:"px-3 py-2 border-r border-foreground/5 last:border-r-0 break-words",children:gn(b)},S))},x))})]})},a.length));continue}}for(const m of f)a.push(o.jsx("p",{className:"my-1",children:gn(m)},a.length));continue}if(c.trim().startsWith(">")){const f=[];for(;l<r.length&&r[l].trim().startsWith(">");)f.push(r[l].replace(/^>\s?/,"")),l++;a.push(o.jsx("blockquote",{className:"my-2 pl-4 border-l-4 border-current/30 opacity-80 italic break-words",children:f.map((m,h)=>o.jsx("div",{className:"break-words",children:gn(m)},h))},a.length));continue}if(c.match(/^[\s]*[-*_]{3,}[\s]*$/)){a.push(o.jsx("hr",{className:"my-4 border-t border-border"},a.length)),l++;continue}if(c.trim()===""){a.push(o.jsx("div",{className:"h-2"},a.length)),l++;continue}a.push(o.jsx("p",{className:"my-1 break-words",children:gn(c)},a.length)),l++}return o.jsx("div",{className:`markdown-content break-words ${n}`,children:a})}function gn(e){const n=[];let r=e,a=0;for(;r.length>0;){const l=r.match(/`([^`]+)`/);if(l&&l.index!==void 0){l.index>0&&n.push(o.jsx("span",{children:Wi(r.slice(0,l.index))},a++)),n.push(o.jsx("code",{className:"px-1.5 py-0.5 bg-foreground/10 rounded text-xs font-mono border border-foreground/20",children:l[1]},a++)),r=r.slice(l.index+l[0].length);continue}n.push(o.jsx("span",{children:Wi(r)},a++));break}return n}function Wi(e){const n=[];let r=e,a=0;for(;r.length>0;){const l=[{regex:/\*\*\[([^\]]+)\]\(([^)]+)\)\*\*/,component:"strong-link"},{regex:/__\[([^\]]+)\]\(([^)]+)\)__/,component:"strong-link"},{regex:/\*\[([^\]]+)\]\(([^)]+)\)\*/,component:"em-link"},{regex:/_\[([^\]]+)\]\(([^)]+)\)_/,component:"em-link"},{regex:/\[([^\]]+)\]\(([^)]+)\)/,component:"link"},{regex:/\*\*(.+?)\*\*/,component:"strong"},{regex:/__(.+?)__/,component:"strong"},{regex:/\*(.+?)\*/,component:"em"},{regex:/_(.+?)_/,component:"em"}];let c=!1;for(const d of l){const f=r.match(d.regex);if(f&&f.index!==void 0){if(f.index>0&&n.push(r.slice(0,f.index)),d.component==="strong")n.push(o.jsx("strong",{className:"font-semibold",children:f[1]},a++));else if(d.component==="em")n.push(o.jsx("em",{className:"italic",children:f[1]},a++));else if(d.component==="strong-link"){const m=f[1],h=f[2],g=Wi(m);n.push(o.jsx("strong",{className:"font-semibold",children:o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g})},a++))}else if(d.component==="em-link"){const m=f[1],h=f[2],g=Wi(m);n.push(o.jsx("em",{className:"italic",children:o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g})},a++))}else if(d.component==="link"){const m=f[1],h=f[2],g=Wi(m);n.push(o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g},a++))}r=r.slice(f.index+f[0].length),c=!0;break}}if(!c){r.length>0&&n.push(r);break}}return n}function F5({content:e,className:n,isStreaming:r}){if(e.type!=="text"&&e.type!=="input_text"&&e.type!=="output_text")return null;const a=e.text;return o.jsxs("div",{className:`break-words ${n||""}`,children:[o.jsx(q5,{content:a}),r&&a.length>0&&o.jsx("span",{className:"ml-1 inline-block h-2 w-2 animate-pulse rounded-full bg-current"})]})}function Y5({content:e,className:n}){const[r,a]=w.useState(!1),[l,c]=w.useState(!1);if(e.type!=="input_image"&&e.type!=="output_image")return null;const d=e.image_url;return r?o.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Er,{className:"h-4 w-4"}),o.jsx("span",{children:"Image could not be loaded"})]})}):o.jsxs("div",{className:`my-2 ${n||""}`,children:[o.jsx("img",{src:d,alt:"Uploaded image",className:`rounded-lg border max-w-full transition-all cursor-pointer ${l?"max-h-none":"max-h-64"}`,onClick:()=>c(!l),onError:()=>a(!0)}),l&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click to collapse"})]})}function G5({content:e,className:n}){if(e.type!=="input_file"&&e.type!=="output_file")return null;const r=e.file_url||e.file_data,a=e.filename||"file",l=a?.toLowerCase().endsWith(".pdf")||r?.includes("application/pdf"),c=a?.toLowerCase().match(/\.(mp3|wav|m4a|ogg|flac|aac)$/);return l&&r?o.jsxs("div",{className:`my-2 ${n||""}`,children:[o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsx("iframe",{src:r,className:"w-full h-96",title:a})}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:a}),r&&o.jsxs("a",{href:r,download:a,className:"ml-auto text-xs text-primary hover:underline flex items-center gap-1",children:[o.jsx(Tu,{className:"h-3 w-3"}),"Download"]})]})]}):c&&r?o.jsxs("div",{className:`my-2 p-3 border rounded-lg ${n||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(F1,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:a})]}),o.jsxs("audio",{controls:!0,className:"w-full",children:[o.jsx("source",{src:r}),"Your browser does not support audio playback."]})]}):o.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:a})]}),r&&o.jsxs("a",{href:r,download:a,className:"text-xs text-primary hover:underline flex items-center gap-1",children:[o.jsx(Tu,{className:"h-3 w-3"}),"Download"]})]})})}function X5({content:e,className:n}){const[r,a]=w.useState(!1);if(e.type!=="output_data")return null;const l=e.data,c=e.mime_type,d=e.description;let f=l;try{const m=JSON.parse(l);f=JSON.stringify(m,null,2)}catch{}return o.jsxs("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a(!r),children:[o.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:d||"Data Output"}),o.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:c}),r?o.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(qn,{className:"h-4 w-4 text-muted-foreground"})]}),r&&o.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-64 bg-background p-2 rounded border font-mono",children:f})]})}function Z5({content:e,className:n}){if(e.type!=="function_approval_request")return null;const[r,a]=w.useState(!1),{status:l,function_call:c}=e,f={pending:{icon:Up,label:"Awaiting approval",iconClass:"text-amber-600 dark:text-amber-400"},approved:{icon:vo,label:"Approved",iconClass:"text-green-600 dark:text-green-400"},rejected:{icon:wa,label:"Rejected",iconClass:"text-red-600 dark:text-red-400"}}[l],m=f.icon;let h;try{h=typeof c.arguments=="string"?JSON.parse(c.arguments):c.arguments}catch{h=c.arguments}return o.jsxs("div",{className:n,children:[o.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-2 px-2 py-1 text-xs rounded hover:bg-muted/50 transition-colors w-fit",children:[o.jsx(m,{className:`h-3 w-3 ${f.iconClass}`}),o.jsx("span",{className:"text-muted-foreground font-mono",children:c.name}),o.jsx("span",{className:`text-xs ${f.iconClass}`,children:f.label}),r?o.jsx("span",{className:"text-xs text-muted-foreground",children:""}):o.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),r&&o.jsx("div",{className:"ml-5 mt-1 text-xs font-mono text-muted-foreground border-l-2 border-muted pl-3",children:o.jsx("pre",{className:"whitespace-pre-wrap break-all",children:JSON.stringify(h,null,2)})})]})}function W5({content:e,className:n,isStreaming:r}){switch(e.type){case"text":case"input_text":case"output_text":return o.jsx(F5,{content:e,className:n,isStreaming:r});case"input_image":case"output_image":return o.jsx(Y5,{content:e,className:n});case"input_file":case"output_file":return o.jsx(G5,{content:e,className:n});case"output_data":return o.jsx(X5,{content:e,className:n});case"function_approval_request":return o.jsx(Z5,{content:e,className:n});default:return null}}function K5({name:e,arguments:n,className:r}){const[a,l]=w.useState(!1);let c;try{c=typeof n=="string"?JSON.parse(n):n}catch{c=n}return o.jsxs("div",{className:`my-2 p-3 border rounded bg-blue-50 dark:bg-blue-950/20 ${r||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>l(!a),children:[o.jsx(U1,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:["Function Call: ",e]}),a?o.jsx(Gt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"}):o.jsx(qn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"})]}),a&&o.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 mb-1",children:"Arguments:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(c,null,2)})]})]})}function Q5({output:e,call_id:n,className:r}){const[a,l]=w.useState(!1);let c;try{c=typeof e=="string"?JSON.parse(e):e}catch{c=e}return o.jsxs("div",{className:`my-2 p-3 border rounded bg-green-50 dark:bg-green-950/20 ${r||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>l(!a),children:[o.jsx(U1,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Function Result"}),a?o.jsx(Gt,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"}):o.jsx(qn,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"})]}),a&&o.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[o.jsx("div",{className:"text-green-600 dark:text-green-400 mb-1",children:"Output:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(c,null,2)}),o.jsxs("div",{className:"text-gray-500 text-[10px] mt-2",children:["Call ID: ",n]})]})]})}function J5({item:e,className:n}){if(e.type==="message"){const r=e.status==="in_progress",a=e.content.length>0;return o.jsxs("div",{className:n,children:[e.content.map((l,c)=>o.jsx(W5,{content:l,className:c>0?"mt-2":"",isStreaming:r},c)),r&&!a&&o.jsx("div",{className:"flex items-center space-x-1",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.3s]"}),o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.15s]"}),o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current"})]})})]})}return e.type==="function_call"?o.jsx(K5,{name:e.name,arguments:e.arguments,className:n}):e.type==="function_call_output"?o.jsx(Q5,{output:e.output,call_id:e.call_id,className:n}):null}var BN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eR="VisuallyHidden",tR=w.forwardRef((e,n)=>o.jsx(Ye.span,{...e,ref:n,style:{...BN,...e.style}}));tR.displayName=eR;var nR=[" ","Enter","ArrowUp","ArrowDown"],sR=[" ","Enter"],fo="Select",[xd,yd,rR]=bp(fo),[za,z7]=us(fo,[rR,nd]),vd=nd(),[oR,Rr]=za(fo),[aR,iR]=za(fo),UN=e=>{const{__scopeSelect:n,children:r,open:a,defaultOpen:l,onOpenChange:c,value:d,defaultValue:f,onValueChange:m,dir:h,name:g,autoComplete:y,disabled:x,required:b,form:S}=e,N=vd(n),[j,_]=w.useState(null),[M,E]=w.useState(null),[T,R]=w.useState(!1),D=xl(h),[O,P]=io({prop:a,defaultProp:l??!1,onChange:c,caller:fo}),[q,Q]=io({prop:d,defaultProp:f,onChange:m,caller:fo}),ee=w.useRef(null),G=j?S||!!j.closest("form"):!0,[W,B]=w.useState(new Set),U=Array.from(W).map(k=>k.props.value).join(";");return o.jsx(Pw,{...N,children:o.jsxs(oR,{required:b,scope:n,trigger:j,onTriggerChange:_,valueNode:M,onValueNodeChange:E,valueNodeHasChildren:T,onValueNodeHasChildrenChange:R,contentId:lo(),value:q,onValueChange:Q,open:O,onOpenChange:P,dir:D,triggerPointerDownPosRef:ee,disabled:x,children:[o.jsx(xd.Provider,{scope:n,children:o.jsx(aR,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(k=>{B(L=>new Set(L).add(k))},[]),onNativeOptionRemove:w.useCallback(k=>{B(L=>{const I=new Set(L);return I.delete(k),I})},[]),children:r})}),G?o.jsxs(u2,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:y,value:q,onChange:k=>Q(k.target.value),disabled:x,form:S,children:[q===void 0?o.jsx("option",{value:""}):null,Array.from(W)]},U):null]})})};UN.displayName=fo;var VN="SelectTrigger",qN=w.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:a=!1,...l}=e,c=vd(r),d=Rr(VN,r),f=d.disabled||a,m=rt(n,d.onTriggerChange),h=yd(r),g=w.useRef("touch"),[y,x,b]=f2(N=>{const j=h().filter(E=>!E.disabled),_=j.find(E=>E.value===d.value),M=m2(j,N,_);M!==void 0&&d.onValueChange(M.value)}),S=N=>{f||(d.onOpenChange(!0),b()),N&&(d.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return o.jsx(Bw,{asChild:!0,...c,children:o.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":d2(d.value)?"":void 0,...l,ref:m,onClick:Ae(l.onClick,N=>{N.currentTarget.focus(),g.current!=="mouse"&&S(N)}),onPointerDown:Ae(l.onPointerDown,N=>{g.current=N.pointerType;const j=N.target;j.hasPointerCapture(N.pointerId)&&j.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(S(N),N.preventDefault())}),onKeyDown:Ae(l.onKeyDown,N=>{const j=y.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&x(N.key),!(j&&N.key===" ")&&nR.includes(N.key)&&(S(),N.preventDefault())})})})});qN.displayName=VN;var FN="SelectValue",YN=w.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:l,children:c,placeholder:d="",...f}=e,m=Rr(FN,r),{onValueNodeHasChildrenChange:h}=m,g=c!==void 0,y=rt(n,m.onValueNodeChange);return Yt(()=>{h(g)},[h,g]),o.jsx(Ye.span,{...f,ref:y,style:{pointerEvents:"none"},children:d2(m.value)?o.jsx(o.Fragment,{children:d}):c})});YN.displayName=FN;var lR="SelectIcon",GN=w.forwardRef((e,n)=>{const{__scopeSelect:r,children:a,...l}=e;return o.jsx(Ye.span,{"aria-hidden":!0,...l,ref:n,children:a||""})});GN.displayName=lR;var cR="SelectPortal",XN=e=>o.jsx(Rp,{asChild:!0,...e});XN.displayName=cR;var mo="SelectContent",ZN=w.forwardRef((e,n)=>{const r=Rr(mo,e.__scopeSelect),[a,l]=w.useState();if(Yt(()=>{l(new DocumentFragment)},[]),!r.open){const c=a;return c?gl.createPortal(o.jsx(WN,{scope:e.__scopeSelect,children:o.jsx(xd.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),c):null}return o.jsx(KN,{...e,ref:n})});ZN.displayName=mo;var Hn=10,[WN,Dr]=za(mo),uR="SelectContentImpl",dR=xa("SelectContent.RemoveScroll"),KN=w.forwardRef((e,n)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,side:f,sideOffset:m,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:b,sticky:S,hideWhenDetached:N,avoidCollisions:j,..._}=e,M=Rr(mo,r),[E,T]=w.useState(null),[R,D]=w.useState(null),O=rt(n,te=>T(te)),[P,q]=w.useState(null),[Q,ee]=w.useState(null),G=yd(r),[W,B]=w.useState(!1),U=w.useRef(!1);w.useEffect(()=>{if(E)return Qw(E)},[E]),xw();const k=w.useCallback(te=>{const[ie,...xe]=G().map(ne=>ne.ref.current),[ve]=xe.slice(-1),be=document.activeElement;for(const ne of te)if(ne===be||(ne?.scrollIntoView({block:"nearest"}),ne===ie&&R&&(R.scrollTop=0),ne===ve&&R&&(R.scrollTop=R.scrollHeight),ne?.focus(),document.activeElement!==be))return},[G,R]),L=w.useCallback(()=>k([P,E]),[k,P,E]);w.useEffect(()=>{W&&L()},[W,L]);const{onOpenChange:I,triggerPointerDownPosRef:H}=M;w.useEffect(()=>{if(E){let te={x:0,y:0};const ie=ve=>{te={x:Math.abs(Math.round(ve.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(ve.pageY)-(H.current?.y??0))}},xe=ve=>{te.x<=10&&te.y<=10?ve.preventDefault():E.contains(ve.target)||I(!1),document.removeEventListener("pointermove",ie),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",xe,{capture:!0})}}},[E,I,H]),w.useEffect(()=>{const te=()=>I(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[I]);const[C,$]=f2(te=>{const ie=G().filter(be=>!be.disabled),xe=ie.find(be=>be.ref.current===document.activeElement),ve=m2(ie,te,xe);ve&&setTimeout(()=>ve.ref.current.focus())}),Y=w.useCallback((te,ie,xe)=>{const ve=!U.current&&!xe;(M.value!==void 0&&M.value===ie||ve)&&(q(te),ve&&(U.current=!0))},[M.value]),V=w.useCallback(()=>E?.focus(),[E]),K=w.useCallback((te,ie,xe)=>{const ve=!U.current&&!xe;(M.value!==void 0&&M.value===ie||ve)&&ee(te)},[M.value]),fe=a==="popper"?Wh:QN,ue=fe===Wh?{side:f,sideOffset:m,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:b,sticky:S,hideWhenDetached:N,avoidCollisions:j}:{};return o.jsx(WN,{scope:r,content:E,viewport:R,onViewportChange:D,itemRefCallback:Y,selectedItem:P,onItemLeave:V,itemTextRefCallback:K,focusSelectedItem:L,selectedItemText:Q,position:a,isPositioned:W,searchRef:C,children:o.jsx(Dp,{as:dR,allowPinchZoom:!0,children:o.jsx(Np,{asChild:!0,trapped:M.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ae(l,te=>{M.trigger?.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(wp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:o.jsx(fe,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:te=>te.preventDefault(),..._,...ue,onPlaced:()=>B(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ae(_.onKeyDown,te=>{const ie=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ie&&te.key.length===1&&$(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ve=G().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const be=te.target,ne=ve.indexOf(be);ve=ve.slice(ne+1)}setTimeout(()=>k(ve)),te.preventDefault()}})})})})})})});KN.displayName=uR;var fR="SelectItemAlignedPosition",QN=w.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:a,...l}=e,c=Rr(mo,r),d=Dr(mo,r),[f,m]=w.useState(null),[h,g]=w.useState(null),y=rt(n,O=>g(O)),x=yd(r),b=w.useRef(!1),S=w.useRef(!0),{viewport:N,selectedItem:j,selectedItemText:_,focusSelectedItem:M}=d,E=w.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&h&&N&&j&&_){const O=c.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),q=c.valueNode.getBoundingClientRect(),Q=_.getBoundingClientRect();if(c.dir!=="rtl"){const be=Q.left-P.left,ne=q.left-be,he=O.left-ne,X=O.width+he,pe=Math.max(X,P.width),Ne=window.innerWidth-Hn,ye=Xh(ne,[Hn,Math.max(Hn,Ne-pe)]);f.style.minWidth=X+"px",f.style.left=ye+"px"}else{const be=P.right-Q.right,ne=window.innerWidth-q.right-be,he=window.innerWidth-O.right-ne,X=O.width+he,pe=Math.max(X,P.width),Ne=window.innerWidth-Hn,ye=Xh(ne,[Hn,Math.max(Hn,Ne-pe)]);f.style.minWidth=X+"px",f.style.right=ye+"px"}const ee=x(),G=window.innerHeight-Hn*2,W=N.scrollHeight,B=window.getComputedStyle(h),U=parseInt(B.borderTopWidth,10),k=parseInt(B.paddingTop,10),L=parseInt(B.borderBottomWidth,10),I=parseInt(B.paddingBottom,10),H=U+k+W+I+L,C=Math.min(j.offsetHeight*5,H),$=window.getComputedStyle(N),Y=parseInt($.paddingTop,10),V=parseInt($.paddingBottom,10),K=O.top+O.height/2-Hn,fe=G-K,ue=j.offsetHeight/2,te=j.offsetTop+ue,ie=U+k+te,xe=H-ie;if(ie<=K){const be=ee.length>0&&j===ee[ee.length-1].ref.current;f.style.bottom="0px";const ne=h.clientHeight-N.offsetTop-N.offsetHeight,he=Math.max(fe,ue+(be?V:0)+ne+L),X=ie+he;f.style.height=X+"px"}else{const be=ee.length>0&&j===ee[0].ref.current;f.style.top="0px";const he=Math.max(K,U+N.offsetTop+(be?Y:0)+ue)+xe;f.style.height=he+"px",N.scrollTop=ie-K+N.offsetTop}f.style.margin=`${Hn}px 0`,f.style.minHeight=C+"px",f.style.maxHeight=G+"px",a?.(),requestAnimationFrame(()=>b.current=!0)}},[x,c.trigger,c.valueNode,f,h,N,j,_,c.dir,a]);Yt(()=>E(),[E]);const[T,R]=w.useState();Yt(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const D=w.useCallback(O=>{O&&S.current===!0&&(E(),M?.(),S.current=!1)},[E,M]);return o.jsx(hR,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:o.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:o.jsx(Ye.div,{...l,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});QN.displayName=fR;var mR="SelectPopperPosition",Wh=w.forwardRef((e,n)=>{const{__scopeSelect:r,align:a="start",collisionPadding:l=Hn,...c}=e,d=vd(r);return o.jsx(Uw,{...d,...c,ref:n,align:a,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wh.displayName=mR;var[hR,rg]=za(mo,{}),Kh="SelectViewport",JN=w.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:a,...l}=e,c=Dr(Kh,r),d=rg(Kh,r),f=rt(n,c.onViewportChange),m=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(xd.Slot,{scope:r,children:o.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Ae(l.onScroll,h=>{const g=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:x}=d;if(x?.current&&y){const b=Math.abs(m.current-g.scrollTop);if(b>0){const S=window.innerHeight-Hn*2,N=parseFloat(y.style.minHeight),j=parseFloat(y.style.height),_=Math.max(N,j);if(_<S){const M=_+b,E=Math.min(S,M),T=M-E;y.style.height=E+"px",y.style.bottom==="0px"&&(g.scrollTop=T>0?T:0,y.style.justifyContent="flex-end")}}}m.current=g.scrollTop})})})]})});JN.displayName=Kh;var e2="SelectGroup",[pR,gR]=za(e2),xR=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=lo();return o.jsx(pR,{scope:r,id:l,children:o.jsx(Ye.div,{role:"group","aria-labelledby":l,...a,ref:n})})});xR.displayName=e2;var t2="SelectLabel",yR=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=gR(t2,r);return o.jsx(Ye.div,{id:l.id,...a,ref:n})});yR.displayName=t2;var $u="SelectItem",[vR,n2]=za($u),s2=w.forwardRef((e,n)=>{const{__scopeSelect:r,value:a,disabled:l=!1,textValue:c,...d}=e,f=Rr($u,r),m=Dr($u,r),h=f.value===a,[g,y]=w.useState(c??""),[x,b]=w.useState(!1),S=rt(n,M=>m.itemRefCallback?.(M,a,l)),N=lo(),j=w.useRef("touch"),_=()=>{l||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(vR,{scope:r,value:a,disabled:l,textId:N,isSelected:h,onItemTextChange:w.useCallback(M=>{y(E=>E||(M?.textContent??"").trim())},[]),children:o.jsx(xd.ItemSlot,{scope:r,value:a,disabled:l,textValue:g,children:o.jsx(Ye.div,{role:"option","aria-labelledby":N,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...d,ref:S,onFocus:Ae(d.onFocus,()=>b(!0)),onBlur:Ae(d.onBlur,()=>b(!1)),onClick:Ae(d.onClick,()=>{j.current!=="mouse"&&_()}),onPointerUp:Ae(d.onPointerUp,()=>{j.current==="mouse"&&_()}),onPointerDown:Ae(d.onPointerDown,M=>{j.current=M.pointerType}),onPointerMove:Ae(d.onPointerMove,M=>{j.current=M.pointerType,l?m.onItemLeave?.():j.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(d.onPointerLeave,M=>{M.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:Ae(d.onKeyDown,M=>{m.searchRef?.current!==""&&M.key===" "||(sR.includes(M.key)&&_(),M.key===" "&&M.preventDefault())})})})})});s2.displayName=$u;var Yi="SelectItemText",r2=w.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:l,...c}=e,d=Rr(Yi,r),f=Dr(Yi,r),m=n2(Yi,r),h=iR(Yi,r),[g,y]=w.useState(null),x=rt(n,_=>y(_),m.onItemTextChange,_=>f.itemTextRefCallback?.(_,m.value,m.disabled)),b=g?.textContent,S=w.useMemo(()=>o.jsx("option",{value:m.value,disabled:m.disabled,children:b},m.value),[m.disabled,m.value,b]),{onNativeOptionAdd:N,onNativeOptionRemove:j}=h;return Yt(()=>(N(S),()=>j(S)),[N,j,S]),o.jsxs(o.Fragment,{children:[o.jsx(Ye.span,{id:m.textId,...c,ref:x}),m.isSelected&&d.valueNode&&!d.valueNodeHasChildren?gl.createPortal(c.children,d.valueNode):null]})});r2.displayName=Yi;var o2="SelectItemIndicator",a2=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e;return n2(o2,r).isSelected?o.jsx(Ye.span,{"aria-hidden":!0,...a,ref:n}):null});a2.displayName=o2;var Qh="SelectScrollUpButton",i2=w.forwardRef((e,n)=>{const r=Dr(Qh,e.__scopeSelect),a=rg(Qh,e.__scopeSelect),[l,c]=w.useState(!1),d=rt(n,a.onScrollButtonChange);return Yt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=m.scrollTop>0;c(h)};const m=r.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?o.jsx(c2,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=r;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});i2.displayName=Qh;var Jh="SelectScrollDownButton",l2=w.forwardRef((e,n)=>{const r=Dr(Jh,e.__scopeSelect),a=rg(Jh,e.__scopeSelect),[l,c]=w.useState(!1),d=rt(n,a.onScrollButtonChange);return Yt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=m.scrollHeight-m.clientHeight,g=Math.ceil(m.scrollTop)<h;c(g)};const m=r.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?o.jsx(c2,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=r;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});l2.displayName=Jh;var c2=w.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:a,...l}=e,c=Dr("SelectScrollButton",r),d=w.useRef(null),f=yd(r),m=w.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),Yt(()=>{f().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),o.jsx(Ye.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:Ae(l.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:Ae(l.onPointerMove,()=>{c.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:Ae(l.onPointerLeave,()=>{m()})})}),bR="SelectSeparator",wR=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e;return o.jsx(Ye.div,{"aria-hidden":!0,...a,ref:n})});wR.displayName=bR;var ep="SelectArrow",NR=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=vd(r),c=Rr(ep,r),d=Dr(ep,r);return c.open&&d.position==="popper"?o.jsx(Vw,{...l,...a,ref:n}):null});NR.displayName=ep;var SR="SelectBubbleInput",u2=w.forwardRef(({__scopeSelect:e,value:n,...r},a)=>{const l=w.useRef(null),c=rt(a,l),d=sg(n);return w.useEffect(()=>{const f=l.current;if(!f)return;const m=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==n&&g){const y=new Event("change",{bubbles:!0});g.call(f,n),f.dispatchEvent(y)}},[d,n]),o.jsx(Ye.select,{...r,style:{...BN,...r.style},ref:c,defaultValue:n})});u2.displayName=SR;function d2(e){return e===""||e===void 0}function f2(e){const n=Ft(e),r=w.useRef(""),a=w.useRef(0),l=w.useCallback(d=>{const f=r.current+d;n(f),(function m(h){r.current=h,window.clearTimeout(a.current),h!==""&&(a.current=window.setTimeout(()=>m(""),1e3))})(f)},[n]),c=w.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,l,c]}function m2(e,n,r){const l=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=r?e.indexOf(r):-1;let d=jR(e,Math.max(c,0));l.length===1&&(d=d.filter(h=>h!==r));const m=d.find(h=>h.textValue.toLowerCase().startsWith(l.toLowerCase()));return m!==r?m:void 0}function jR(e,n){return e.map((r,a)=>e[(n+a)%e.length])}var _R=UN,ER=qN,CR=YN,kR=GN,AR=XN,MR=ZN,TR=JN,RR=s2,DR=r2,OR=a2,zR=i2,IR=l2;function bd({...e}){return o.jsx(_R,{"data-slot":"select",...e})}function wd({...e}){return o.jsx(CR,{"data-slot":"select-value",...e})}function Nd({className:e,size:n="default",children:r,...a}){return o.jsxs(ER,{"data-slot":"select-trigger","data-size":n,className:Ze("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,o.jsx(kR,{asChild:!0,children:o.jsx(Gt,{className:"size-4 opacity-50"})})]})}function Sd({className:e,children:n,position:r="popper",...a}){return o.jsx(AR,{children:o.jsxs(MR,{"data-slot":"select-content",className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[o.jsx(LR,{}),o.jsx(TR,{className:Ze("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),o.jsx(HR,{})]})})}function jd({className:e,children:n,...r}){return o.jsxs(RR,{"data-slot":"select-item",className:Ze("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(OR,{children:o.jsx(vo,{className:"size-4"})})}),o.jsx(DR,{children:n})]})}function LR({className:e,...n}){return o.jsx(zR,{"data-slot":"select-scroll-up-button",className:Ze("flex cursor-default items-center justify-center py-1",e),...n,children:o.jsx(Mu,{className:"size-4"})})}function HR({className:e,...n}){return o.jsx(IR,{"data-slot":"select-scroll-down-button",className:Ze("flex cursor-default items-center justify-center py-1",e),...n,children:o.jsx(Gt,{className:"size-4"})})}function Jr({title:e,icon:n,children:r,className:a=""}){return o.jsxs("div",{className:`border rounded-lg p-4 bg-card ${a}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n,o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})}function $R({agent:e,open:n,onOpenChange:r}){const a=e.source==="directory"?o.jsx(V1,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?o.jsx(Vh,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(q1,{className:"h-4 w-4 text-muted-foreground"}),l=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return o.jsx(kr,{open:n,onOpenChange:r,children:o.jsxs(Ar,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs(Mr,{className:"px-6 pt-6 flex-shrink-0",children:[o.jsx(Tr,{children:"Agent Details"}),o.jsx(bo,{onClose:()=>r(!1)})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Hs,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsx("div",{className:"h-px bg-border mb-6"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(e.model_id||e.chat_client_type)&&o.jsx(Jr,{title:"Model & Client",icon:o.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsxs("div",{className:"space-y-1",children:[e.model_id&&o.jsx("div",{className:"font-mono text-foreground",children:e.model_id}),e.chat_client_type&&o.jsxs("div",{className:"text-xs",children:["(",e.chat_client_type,")"]})]})}),o.jsx(Jr,{title:"Source",icon:a,children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-foreground",children:l}),e.module_path&&o.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),o.jsx(Jr,{title:"Environment",icon:e.has_env?o.jsx(Nl,{className:"h-4 w-4 text-orange-500"}):o.jsx(ld,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:o.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),e.instructions&&o.jsx(Jr,{title:"Instructions",icon:o.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}),className:"mb-4",children:o.jsx("div",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:e.instructions})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.tools&&e.tools.length>0&&o.jsx(Jr,{title:`Tools (${e.tools.length})`,icon:o.jsx(Du,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("ul",{className:"space-y-1",children:e.tools.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})}),e.middleware&&e.middleware.length>0&&o.jsx(Jr,{title:`Middleware (${e.middleware.length})`,icon:o.jsx(Du,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("ul",{className:"space-y-1",children:e.middleware.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})}),e.context_providers&&e.context_providers.length>0&&o.jsx(Jr,{title:`Context Providers (${e.context_providers.length})`,icon:o.jsx(Vh,{className:"h-4 w-4 text-muted-foreground"}),className:!e.middleware||e.middleware.length===0?"md:col-start-2":"",children:o.jsx("ul",{className:"space-y-1",children:e.context_providers.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})})]})]})]})})}function PR({item:e,toolCalls:n=[],toolResults:r=[]}){const[a,l]=w.useState(!1),[c,d]=w.useState(!1),[f,m]=w.useState(!1),h=de(x=>x.showToolCalls),g=()=>e.type==="message"?e.content.filter(x=>x.type==="text").map(x=>x.text).join(`
`):"",y=async()=>{const x=g();if(x)try{await navigator.clipboard.writeText(x),d(!0),setTimeout(()=>d(!1),2e3)}catch(b){console.error("Failed to copy:",b)}};if(e.type==="message"){const x=e.role==="user",b=e.status==="incomplete",S=x?Y1:b?is:Hs,N=g();return o.jsxs("div",{className:`flex gap-3 ${x?"flex-row-reverse":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[o.jsx("div",{className:`flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-md border ${x?"bg-primary text-primary-foreground":b?"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400 border-orange-200 dark:border-orange-800":"bg-muted"}`,children:o.jsx(S,{className:"h-4 w-4"})}),o.jsxs("div",{className:`flex flex-col space-y-1 ${x?"items-end":"items-start"} max-w-[80%]`,children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:`rounded px-3 py-2 text-sm ${x?"bg-primary text-primary-foreground":b?"bg-orange-50 dark:bg-orange-950/50 text-orange-800 dark:text-orange-200 border border-orange-200 dark:border-orange-800":"bg-muted"}`,children:[b&&o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx(is,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"font-medium text-sm",children:"Unable to process request"})]}),o.jsx("div",{className:b?"text-xs leading-relaxed break-all":"",children:o.jsx(J5,{item:e})})]}),N&&a&&o.jsx("button",{onClick:y,className:`absolute top-1 right-1
                           p-1.5 rounded-md border shadow-sm
                           bg-background hover:bg-accent
                           text-muted-foreground hover:text-foreground
                           transition-all duration-200 ease-in-out
                           opacity-0 group-hover:opacity-100`,title:c?"Copied!":"Copy message",children:c?o.jsx(IA,{className:"h-3.5 w-3.5 text-green-600 dark:text-green-400"}):o.jsx(no,{className:"h-3.5 w-3.5"})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[o.jsx("span",{children:e.created_at?new Date(e.created_at*1e3).toLocaleTimeString():new Date().toLocaleTimeString()}),!x&&e.usage&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",e.usage.input_tokens]}),o.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["",e.usage.output_tokens]}),o.jsxs("span",{children:["(",e.usage.total_tokens," tokens)"]})]})]}),!x&&h&&n.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-1 hover:text-foreground transition-colors",title:`${n.length} tool call${n.length>1?"s":""} - click to ${f?"hide":"show"} details`,children:[o.jsx(ba,{className:"h-3 w-3"}),o.jsx("span",{children:n.length})]})]})]}),!x&&f&&n.length>0&&o.jsx("div",{className:"mt-2 ml-0 p-3 bg-muted/30 rounded-md border border-muted",children:o.jsx("div",{className:"space-y-2",children:n.map(j=>{const _=r.find(M=>M.call_id===j.call_id);return o.jsx("div",{className:"text-xs",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(ba,{className:"h-3 w-3 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"font-mono text-muted-foreground",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:j.name}),o.jsx("span",{className:"text-muted-foreground/60 ml-1",children:j.arguments&&o.jsxs("span",{className:"break-all",children:["(",j.arguments,")"]})})]}),_&&_.output&&o.jsx("div",{className:"mt-1 pl-5 border-l-2 border-green-600/20",children:o.jsxs("div",{className:"flex items-start gap-1",children:[o.jsx(vo,{className:"h-3 w-3 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),o.jsx("pre",{className:"font-mono text-muted-foreground whitespace-pre-wrap break-all",children:_.output.substring(0,200)+(_.output.length>200?"...":"")})]})}),j.status==="incomplete"&&o.jsx("div",{className:"mt-1 pl-5 border-l-2 border-orange-600/20",children:o.jsxs("div",{className:"flex items-start gap-1",children:[o.jsx(wa,{className:"h-3 w-3 text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:"Failed"})]})})]})]})},j.id)})})})]})]})}return e.type==="function_call"||e.type==="function_call_output",null}function BR({selectedAgent:e,onDebugEvent:n}){const r=de(ne=>ne.currentConversation),a=de(ne=>ne.availableConversations),l=de(ne=>ne.chatItems),c=de(ne=>ne.isStreaming),d=de(ne=>ne.isSubmitting),f=de(ne=>ne.loadingConversations),m=de(ne=>ne.uiMode),h=de(ne=>ne.conversationUsage),g=de(ne=>ne.pendingApprovals),y=de(ne=>ne.oaiMode),x=de(ne=>ne.setCurrentConversation),b=de(ne=>ne.setAvailableConversations),S=de(ne=>ne.setChatItems),N=de(ne=>ne.setIsStreaming),j=de(ne=>ne.setIsSubmitting),_=de(ne=>ne.setLoadingConversations),M=de(ne=>ne.updateConversationUsage),E=de(ne=>ne.setPendingApprovals),[T,R]=w.useState(!1),[D,O]=w.useState(null),[P,q]=w.useState(!1),[Q,ee]=w.useState(!1),{isCancelling:G,createAbortSignal:W,handleCancel:B,resetCancelling:U}=ON(),{isDragOver:k,droppedFiles:L,clearDroppedFiles:I,dragHandlers:H}=S5({disabled:d||c}),C=w.useRef(null),$=w.useRef(null),Y=w.useRef(null),V=w.useRef(!1),K=w.useRef("");w.useEffect(()=>{if(!$.current)return;const ne=C.current?.querySelector("[data-radix-scroll-area-viewport]");let he=!1;if(ne){const{scrollTop:X,scrollHeight:pe,clientHeight:Ne}=ne,ye=pe-X-Ne<100;he=V.current||ye}else he=!0;he&&$.current.scrollIntoView({behavior:c?"instant":"smooth"}),V.current&&!c&&(V.current=!1)},[l,c]),w.useEffect(()=>{},[c,d]),w.useEffect(()=>{const ne=async(X,pe,Ne)=>{const ye=ha(pe.id);if(!ye||!ye.responseId){N(!1);return}try{const Oe={model:Ne.id,input:[],stream:!0,conversation:pe.id},Se=Je.streamAgentExecutionOpenAIDirect(Ne.id,Oe,pe.id,void 0,ye.responseId);for await(const He of Se){if(n(He),He.type==="response.completed"){const Ve=He.response?.usage;Ve&&(Y.current={input_tokens:Ve.input_tokens,output_tokens:Ve.output_tokens,total_tokens:Ve.total_tokens});continue}if(He.type==="response.failed"){const Ve=He.response?.error,_e=Ve?typeof Ve=="object"&&"message"in Ve?Ve.message:JSON.stringify(Ve):"Request failed",$e=de.getState().chatItems;S($e.map(Fe=>Fe.id===X.id&&Fe.type==="message"?{...Fe,content:[{type:"text",text:K.current||_e}],status:"incomplete"}:Fe)),N(!1);return}if(He.type==="response.function_approval.requested"){const Re=He;E([...de.getState().pendingApprovals,{request_id:Re.request_id,function_call:Re.function_call}]);continue}if(He.type==="response.function_approval.responded"){const Re=He;E(de.getState().pendingApprovals.filter(Ve=>Ve.request_id!==Re.request_id));continue}if(He.type==="error"){const Ve=He.message||"An error occurred",_e=de.getState().chatItems;S(_e.map($e=>$e.id===X.id&&$e.type==="message"?{...$e,content:[{type:"text",text:K.current||Ve}],status:"incomplete"}:$e)),N(!1);return}if(He.type==="response.output_text.delta"&&"delta"in He&&He.delta){K.current+=He.delta;const Re=de.getState().chatItems;S(Re.map(Ve=>Ve.id===X.id&&Ve.type==="message"?{...Ve,content:[{type:"text",text:K.current}],status:"in_progress"}:Ve))}}const Ie=Y.current,Xe=de.getState().chatItems;S(Xe.map(He=>He.id===X.id&&He.type==="message"?{...He,status:"completed",usage:Ie||void 0}:He)),N(!1),Ie&&M(Ie.total_tokens),Y.current=null}catch(Oe){const Se=de.getState().chatItems;S(Se.map(Ie=>Ie.id===X.id&&Ie.type==="message"?{...Ie,content:[{type:"text",text:`Error resuming stream: ${Oe instanceof Error?Oe.message:"Unknown error"}`}],status:"incomplete"}:Ie)),N(!1)}},he=async()=>{if(e){_(!0);try{try{const{data:ye}=await Je.listConversations(e.id);if(b(ye),ye.length>0){const Oe=ye[0];x(Oe);try{let Se=[],Ie=!0,Xe;for(;Ie;){const Re=await Je.listConversationItems(Oe.id,{order:"asc",after:Xe});Se=Se.concat(Re.data),Ie=Re.has_more,Ie&&Re.data.length>0&&(Xe=Re.data[Re.data.length-1].id)}S(Se),N(!1);const He=ha(Oe.id);if(He&&!He.completed){K.current=He.accumulatedText||"";const Re={id:He.lastMessageId||`assistant-${Date.now()}`,type:"message",role:"assistant",content:He.accumulatedText?[{type:"text",text:He.accumulatedText}]:[],status:"in_progress"};S([...Se,Re]),N(!0),setTimeout(()=>{ne(Re,Oe,e)},100)}setTimeout(()=>{$.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${Oe.id}, starting fresh`),S([]),N(!1)}return}}catch{}const X=`devui_convs_${e.id}`,pe=localStorage.getItem(X);if(pe)try{const ye=JSON.parse(pe);if(ye.length>0)try{await Je.listConversationItems(ye[0].id),b(ye),x(ye[0]),S([]),N(!1);return}catch{console.debug(`Cached conversation ${ye[0].id} no longer exists, clearing cache`),localStorage.removeItem(X)}}catch{localStorage.removeItem(X)}const Ne=await Je.createConversation({agent_id:e.id});x(Ne),b([Ne]),S([]),N(!1),O(null),localStorage.setItem(X,JSON.stringify([Ne]))}catch(X){b([]),S([]),N(!1);const pe=X instanceof Error?X.message:"Failed to create conversation";O({message:pe,type:"conversation_creation_error"})}finally{_(!1)}}};S([]),N(!1),x(void 0),K.current="",he()},[e,n,S,N,_,b,x,E,M]);const fe=w.useCallback(async()=>{if(e)try{const ne=await Je.createConversation({agent_id:e.id});x(ne),b([ne,...de.getState().availableConversations]),S([]),N(!1),O(null),de.setState({conversationUsage:{total_tokens:0,message_count:0}}),K.current="";const he=`devui_convs_${e.id}`,X=[ne,...a];localStorage.setItem(he,JSON.stringify(X))}catch(ne){const he=ne instanceof Error?ne.message:"Failed to create conversation";O({message:he,type:"conversation_creation_error"})}},[e,x,b,S,N]),ue=w.useCallback(async(ne,he)=>{if(he&&(he.preventDefault(),he.stopPropagation()),!!confirm("Delete this conversation? This cannot be undone."))try{if(await Je.deleteConversation(ne)){const pe=a.filter(Ne=>Ne.id!==ne);if(b(pe),r?.id===ne)if(pe.length>0){const Ne=pe[0];x(Ne),S([]),N(!1)}else x(void 0),S([]),N(!1),de.setState({conversationUsage:{total_tokens:0,message_count:0}}),K.current="";n("clear")}}catch{alert("Failed to delete conversation. Please try again.")}},[a,r,n,b,x,S,N]),te=w.useCallback(async()=>{if(P||!e)return;q(!0);const ne=de.getState().addToast,he=de.getState().updateAgent;try{await Je.reloadEntity(e.id);const X=await Je.getAgentInfo(e.id);he(X),ne({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(X){const pe=X instanceof Error?X.message:"Failed to reload entity";ne({message:`Failed to reload: ${pe}`,type:"error",duration:6e3})}finally{q(!1)}},[P,e]),ie=w.useCallback(async ne=>{const he=a.find(X=>X.id===ne);if(he){x(he),n("clear");try{let X=[],pe=!0,Ne;for(;pe;){const Se=await Je.listConversationItems(ne,{order:"asc",after:Ne});X=X.concat(Se.data),pe=Se.has_more,pe&&Se.data.length>0&&(Ne=Se.data[Se.data.length-1].id)}const ye=X;S(ye),N(!1),de.setState({conversationUsage:{total_tokens:0,message_count:ye.length}});const Oe=ha(ne);if(Oe?.accumulatedText){K.current=Oe.accumulatedText;const Se={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[{type:"output_text",text:Oe.accumulatedText}],status:"in_progress"};S([...ye,Se]),N(!0)}setTimeout(()=>{$.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${ne}, starting with empty chat`),S([]),N(!1),de.setState({conversationUsage:{total_tokens:0,message_count:0}})}K.current=""}},[a,n,x,S,N]),xe=async(ne,he)=>{const X=g.find(Ie=>Ie.request_id===ne);if(!X)return;const pe=Math.floor(Date.now()/1e3),Ne={id:`user-approval-${Date.now()}`,type:"message",role:"user",content:[{type:"function_approval_request",request_id:ne,status:he?"approved":"rejected",function_call:X.function_call}],status:"completed",created_at:pe},ye=de.getState().chatItems;S([...ye,Ne]);const Se={input:[{type:"message",role:"user",content:[{type:"function_approval_response",request_id:ne,approved:he,function_call:X.function_call}]}],conversation_id:r?.id};return E(de.getState().pendingApprovals.filter(Ie=>Ie.request_id!==ne)),Se},ve=w.useCallback(async ne=>{if(!e)return;const he=ne.input.some(ye=>ye.type==="message"&&Array.isArray(ye.content)&&ye.content.some(Oe=>Oe.type==="function_approval_response")),X=[];for(const ye of ne.input)if(ye.type==="message"&&Array.isArray(ye.content)){for(const Oe of ye.content)if(Oe.type==="input_text")X.push({type:"text",text:Oe.text});else if(Oe.type==="input_image")X.push({type:"input_image",image_url:Oe.image_url||"",detail:"auto"});else if(Oe.type==="input_file"){const Se=Oe;X.push({type:"input_file",file_data:Se.file_data,filename:Se.filename})}}const pe=Math.floor(Date.now()/1e3);if(!he&&X.length>0){const ye={id:`user-${Date.now()}`,type:"message",role:"user",content:X,status:"completed",created_at:pe};S([...de.getState().chatItems,ye])}N(!0);const Ne={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[],status:"in_progress",created_at:pe};S([...de.getState().chatItems,Ne]);try{let ye=r;if(!ye)try{ye=await Je.createConversation({agent_id:e.id}),x(ye),b([ye,...de.getState().availableConversations]),O(null)}catch(Re){const Ve=Re instanceof Error?Re.message:"Failed to create conversation";O({message:Ve,type:"conversation_creation_error"}),j(!1),N(!1);return}ye?.id&&Je.clearStreamingState(ye.id);const Oe={input:ne.input,conversation_id:ye?.id};K.current="";const Se=W(),Ie=Je.streamAgentExecutionOpenAI(e.id,Oe,Se);for await(const Re of Ie){if(n(Re),Re.type==="response.completed"){const _e=Re.response?.usage;_e&&(Y.current={input_tokens:_e.input_tokens,output_tokens:_e.output_tokens,total_tokens:_e.total_tokens});continue}if(Re.type==="response.failed"){const _e=Re.response?.error;let $e="Request failed";_e&&(typeof _e=="object"&&"message"in _e?($e=_e.message,"code"in _e&&_e.code&&($e+=` (Code: ${_e.code})`)):typeof _e=="string"&&($e=_e));const Fe=de.getState().chatItems;S(Fe.map(Nt=>Nt.id===Ne.id&&Nt.type==="message"?{...Nt,content:[{type:"text",text:K.current||$e}],status:"incomplete"}:Nt)),N(!1);return}if(Re.type==="response.function_approval.requested"){const Ve=Re;E([...de.getState().pendingApprovals,{request_id:Ve.request_id,function_call:Ve.function_call}]);const _e=de.getState().chatItems;S(_e.map($e=>$e.id===Ne.id&&$e.type==="message"?{...$e,content:[...$e.content,{type:"function_approval_request",request_id:Ve.request_id,status:"pending",function_call:Ve.function_call}],status:"in_progress"}:$e));continue}if(Re.type==="response.function_call_arguments.delta"){const Ve=Re,_e=de.getState().chatItems;S(_e.map($e=>$e.type==="function_call"&&$e.call_id===Ve.item_id?{...$e,arguments:($e.arguments||"")+(Ve.delta||"")}:$e));continue}if(Re.type==="response.function_result.complete"){const Ve=Re,_e={id:`result-${Date.now()}`,type:"function_call_output",call_id:Ve.call_id,output:Ve.output,status:Ve.status==="completed"?"completed":"incomplete",created_at:Math.floor(Date.now()/1e3)},$e=de.getState().chatItems;S([...$e,_e]);continue}if(Re.type==="error"){const _e=Re.message||"An error occurred",$e=de.getState().chatItems;S($e.map(Fe=>Fe.id===Ne.id&&Fe.type==="message"?{...Fe,content:[{type:"text",text:_e}],status:"incomplete"}:Fe)),N(!1);return}if(Re.type==="response.output_item.added"){const _e=Re.item;if(_e.type==="function_call"){const Fe={id:_e.id||`call-${Date.now()}`,type:"function_call",name:_e.name,arguments:_e.arguments||"",call_id:_e.call_id,status:(_e.status==="failed"||_e.status==="cancelled"?"incomplete":_e.status)||"in_progress",created_at:Math.floor(Date.now()/1e3)},Nt=de.getState().chatItems;S([...Nt,Fe]);continue}const $e=de.getState().chatItems;S($e.map(Fe=>{if(Fe.id===Ne.id&&Fe.type==="message"){const Nt=Fe.content;let yt=null;if(_e.type==="output_image"?yt={type:"output_image",image_url:_e.image_url,alt_text:_e.alt_text,mime_type:_e.mime_type}:_e.type==="output_file"?yt={type:"output_file",filename:_e.filename,file_url:_e.file_url,file_data:_e.file_data,mime_type:_e.mime_type}:_e.type==="output_data"&&(yt={type:"output_data",data:_e.data,mime_type:_e.mime_type,description:_e.description}),yt)return{...Fe,content:[...Nt,yt],status:"in_progress"}}return Fe}));continue}if(Re.type==="response.output_text.delta"&&"delta"in Re&&Re.delta){K.current+=Re.delta;const Ve=de.getState().chatItems;S(Ve.map(_e=>{if(_e.id===Ne.id&&_e.type==="message"){const $e=_e.content.filter(Fe=>Fe.type!=="text");return{..._e,content:[...$e,{type:"text",text:K.current}],status:"in_progress"}}return _e}))}}const Xe=Y.current,He=de.getState().chatItems;S(He.map(Re=>Re.id===Ne.id&&Re.type==="message"?{...Re,status:"completed",usage:Xe||void 0}:Re)),N(!1),Xe&&M(Xe.total_tokens),Y.current=null}catch(ye){if(Hu(ye)){ee(!0);const Oe=de.getState().chatItems;S(Oe.map(Se=>Se.id===Ne.id&&Se.type==="message"?{...Se,status:K.current?"completed":"incomplete",content:Se.content}:Se))}else{const Oe=de.getState().chatItems;S(Oe.map(Se=>Se.id===Ne.id&&Se.type==="message"?{...Se,content:[{type:"text",text:`Error: ${ye instanceof Error?ye.message:"Failed to get response"}`}],status:"incomplete"}:Se))}N(!1),U()}},[e,r,n,S,N,x,b,E,M,W,U]),be=async ne=>{if(!(!e||ne.length===0)){V.current=!0,ee(!1),j(!0);try{await ve({input:[{type:"message",role:"user",content:ne}],conversation_id:r?.id})}finally{j(!1)}}};return o.jsxs("div",{className:"flex h-[calc(100vh-3.5rem)] flex-col relative",...H,children:[k&&o.jsx("div",{className:"absolute inset-0 z-50 bg-blue-50/95 dark:bg-blue-950/95 backdrop-blur-sm flex items-center justify-center border-2 border-dashed border-blue-400 dark:border-blue-500 rounded-lg m-2",children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-lg font-medium mb-2",children:"Drop files here"}),o.jsx("div",{className:"text-blue-500/80 dark:text-blue-400/70 text-sm",children:"Images, PDFs, audio, and other files"})]})}),o.jsxs("div",{className:"border-b pb-2  p-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("h2",{className:"font-semibold text-sm truncate",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hs,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:y.enabled?`Chat with ${y.model}`:`Chat with ${e.name||e.id}`})]})}),!y.enabled&&m==="developer"&&o.jsxs(o.Fragment,{children:[o.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>R(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View agent details",children:o.jsx(va,{className:"h-4 w-4"})}),e.source!=="in_memory"&&o.jsx(Te,{variant:"ghost",size:"sm",onClick:te,disabled:P,className:"h-6 w-6 p-0 flex-shrink-0",title:P?"Reloading...":"Reload entity code (hot reload)",children:o.jsx(Fp,{className:`h-4 w-4 ${P?"animate-spin":""}`})})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[o.jsxs(bd,{value:r?.id||"",onValueChange:ie,disabled:f||d,children:[o.jsx(Nd,{className:"w-full sm:w-64",children:o.jsx(wd,{placeholder:f?"Loading...":a.length===0?"No conversations":r?`Conversation ${r.id.slice(-8)}`:"Select conversation",children:r&&o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsxs("span",{children:["Conversation ",r.id.slice(-8)]}),h.total_tokens>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsxs("span",{className:"text-muted-foreground",children:[h.total_tokens>=1e3?`${(h.total_tokens/1e3).toFixed(1)}k`:h.total_tokens," ","tokens"]})]})]})})}),o.jsx(Sd,{children:a.map(ne=>o.jsx(jd,{value:ne.id,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("span",{children:["Conversation ",ne.id.slice(-8)]}),ne.created_at&&o.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(ne.created_at*1e3).toLocaleDateString()})]})},ne.id))})]}),o.jsx(Te,{variant:"outline",size:"icon",onClick:()=>r&&ue(r.id),disabled:!r||d,title:r?`Delete Conversation ${r.id.slice(-8)}`:"No conversation selected",children:o.jsx(Gp,{className:"h-4 w-4"})}),o.jsxs(Te,{variant:"outline",size:"lg",onClick:fe,disabled:!e||d,className:"whitespace-nowrap ",children:[o.jsx(qp,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"hidden md:inline",children:" New Conversation"})]})]})]}),y.enabled?o.jsx("p",{className:"text-sm text-muted-foreground",children:"Using OpenAI model directly. Local agent tools and instructions are not applied."}):e.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),D&&o.jsxs("div",{className:"mx-4 mt-2 p-3 bg-destructive/10 border border-destructive/30 rounded-md flex items-start gap-2",children:[o.jsx(is,{className:"h-4 w-4 text-destructive mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-destructive",children:"Failed to Create Conversation"}),o.jsx("div",{className:"text-xs text-destructive/90 mt-1 break-words",children:D.message}),D.code&&o.jsxs("div",{className:"text-xs text-destructive/70 mt-1",children:["Error Code: ",D.code]})]}),o.jsx("button",{onClick:()=>O(null),className:"text-destructive hover:text-destructive/80 flex-shrink-0",title:"Dismiss error",children:o.jsx(wa,{className:"h-4 w-4"})})]}),o.jsx(ls,{className:"flex-1 p-4 h-0",ref:C,children:o.jsxs("div",{className:"space-y-4",children:[l.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[o.jsxs("div",{className:"text-muted-foreground text-sm",children:["Start a conversation with"," ",e.name||e.id]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Type a message below to begin"})]}):(()=>{const ne=[],he=new Map,X=new Map;let pe=null;const Ne=[],ye=[];for(let Oe=0;Oe<l.length;Oe++){const Se=l[Oe];if(Se.type==="message"&&Se.role==="assistant"){if(he.has(Se.id)||(he.set(Se.id,[]),X.set(Se.id,[])),Ne.length>0){const Ie=he.get(Se.id)||[];Ie.push(...Ne),he.set(Se.id,Ie),Ne.length=0}if(ye.length>0){const Ie=X.get(Se.id)||[];Ie.push(...ye),X.set(Se.id,Ie),ye.length=0}pe=Se.id}else if(Se.type==="function_call")if(pe){const Ie=he.get(pe)||[];Ie.push(Se),he.set(pe,Ie)}else Ne.push(Se);else if(Se.type==="function_call_output")if(pe){const Ie=X.get(pe)||[];Ie.push(Se),X.set(pe,Ie)}else ye.push(Se);else Se.type==="message"&&Se.role==="user"&&(pe=null)}for(const Oe of l)if(Oe.type==="message"){const Se=he.get(Oe.id)||[],Ie=X.get(Oe.id)||[];ne.push(o.jsx(PR,{item:Oe,toolCalls:Se,toolResults:Ie},Oe.id))}return ne})(),Q&&!c&&o.jsx("div",{className:"px-4 py-2",children:o.jsx("div",{className:"border rounded-lg border-orange-500/40 bg-orange-500/5 dark:bg-orange-500/10",children:o.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[o.jsx(cd,{className:"w-4 h-4 text-orange-500 dark:text-orange-400 fill-current"}),o.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"Response stopped by user"})]})})}),o.jsx("div",{ref:$})]})}),g.length>0&&o.jsx("div",{className:"border-t bg-amber-50 dark:bg-amber-950/20 p-4 flex-shrink-0",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(is,{className:"h-5 w-5 text-amber-600 dark:text-amber-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm mb-2",children:"Approval Required"}),o.jsx("div",{className:"space-y-2",children:g.map(ne=>o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 border border-amber-200 dark:border-amber-900",children:[o.jsxs("div",{className:"font-mono text-xs mb-3 break-all",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:ne.function_call.name}),o.jsx("span",{className:"text-gray-500",children:"("}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:JSON.stringify(ne.function_call.arguments)}),o.jsx("span",{className:"text-gray-500",children:")"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Te,{size:"sm",onClick:async()=>{const he=await xe(ne.request_id,!0);he&&await ve(he)},variant:"default",className:"flex-1 sm:flex-none",children:[o.jsx(vo,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(Te,{size:"sm",onClick:async()=>{const he=await xe(ne.request_id,!1);he&&await ve(he)},variant:"outline",className:"flex-1 sm:flex-none",children:[o.jsx(wa,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},ne.request_id))})]})]})}),o.jsx("div",{className:"border-t flex-shrink-0",children:o.jsx("div",{className:"p-4",children:o.jsx(PN,{onSubmit:be,isSubmitting:d,isStreaming:c,onCancel:B,isCancelling:G,placeholder:`Message ${e.name||e.id}... (Shift+Enter for new line)`,showFileUpload:!0,entityName:e.name||e.id,disabled:!e,externalFiles:L,onExternalFilesProcessed:I})})}),o.jsx($R,{agent:e,open:T,onOpenChange:R})]})}function Gv({message:e="Loading...",description:n,size:r="md",className:a,fullPage:l=!1}){const c=o.jsxs("div",{className:Ze("flex flex-col items-center justify-center gap-3",l?"min-h-[50vh]":"py-8",a),children:[o.jsx(Ou,{size:r,className:"text-muted-foreground"}),o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("p",{className:Ze("font-medium text-muted-foreground",r==="sm"&&"text-sm",r==="lg"&&"text-lg"),children:e}),n&&o.jsx("p",{className:"text-sm text-muted-foreground/80",children:n})]})]});return l?o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:c}):c}var _d="Checkbox",[UR,I7]=us(_d),[VR,og]=UR(_d);function qR(e){const{__scopeCheckbox:n,checked:r,children:a,defaultChecked:l,disabled:c,form:d,name:f,onCheckedChange:m,required:h,value:g="on",internal_do_not_use_render:y}=e,[x,b]=io({prop:r,defaultProp:l??!1,onChange:m,caller:_d}),[S,N]=w.useState(null),[j,_]=w.useState(null),M=w.useRef(!1),E=S?!!d||!!S.closest("form"):!0,T={checked:x,disabled:c,setChecked:b,control:S,setControl:N,name:f,form:d,value:g,hasConsumerStoppedPropagationRef:M,required:h,defaultChecked:Sr(l)?!1:l,isFormControl:E,bubbleInput:j,setBubbleInput:_};return o.jsx(VR,{scope:n,...T,children:FR(y)?y(T):a})}var h2="CheckboxTrigger",p2=w.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:r,...a},l)=>{const{control:c,value:d,disabled:f,checked:m,required:h,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:S}=og(h2,e),N=rt(l,g),j=w.useRef(m);return w.useEffect(()=>{const _=c?.form;if(_){const M=()=>y(j.current);return _.addEventListener("reset",M),()=>_.removeEventListener("reset",M)}},[c,y]),o.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Sr(m)?"mixed":m,"aria-required":h,"data-state":w2(m),"data-disabled":f?"":void 0,disabled:f,value:d,...a,ref:N,onKeyDown:Ae(n,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Ae(r,_=>{y(M=>Sr(M)?!0:!M),S&&b&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})})});p2.displayName=h2;var g2=w.forwardRef((e,n)=>{const{__scopeCheckbox:r,name:a,checked:l,defaultChecked:c,required:d,disabled:f,value:m,onCheckedChange:h,form:g,...y}=e;return o.jsx(qR,{__scopeCheckbox:r,checked:l,defaultChecked:c,disabled:f,required:d,onCheckedChange:h,name:a,form:g,value:m,internal_do_not_use_render:({isFormControl:x})=>o.jsxs(o.Fragment,{children:[o.jsx(p2,{...y,ref:n,__scopeCheckbox:r}),x&&o.jsx(b2,{__scopeCheckbox:r})]})})});g2.displayName=_d;var x2="CheckboxIndicator",y2=w.forwardRef((e,n)=>{const{__scopeCheckbox:r,forceMount:a,...l}=e,c=og(x2,r);return o.jsx(Fn,{present:a||Sr(c.checked)||c.checked===!0,children:o.jsx(Ye.span,{"data-state":w2(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:n,style:{pointerEvents:"none",...e.style}})})});y2.displayName=x2;var v2="CheckboxBubbleInput",b2=w.forwardRef(({__scopeCheckbox:e,...n},r)=>{const{control:a,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:d,required:f,disabled:m,name:h,value:g,form:y,bubbleInput:x,setBubbleInput:b}=og(v2,e),S=rt(r,b),N=sg(c),j=Ap(a);w.useEffect(()=>{const M=x;if(!M)return;const E=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(E,"checked").set,D=!l.current;if(N!==c&&R){const O=new Event("click",{bubbles:D});M.indeterminate=Sr(c),R.call(M,Sr(c)?!1:c),M.dispatchEvent(O)}},[x,N,c,l]);const _=w.useRef(Sr(c)?!1:c);return o.jsx(Ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??_.current,required:f,disabled:m,name:h,value:g,form:y,...n,tabIndex:-1,ref:S,style:{...n.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});b2.displayName=v2;function FR(e){return typeof e=="function"}function Sr(e){return e==="indeterminate"}function w2(e){return Sr(e)?"indeterminate":e?"checked":"unchecked"}function to({className:e,...n}){return o.jsx(g2,{"data-slot":"checkbox",className:Ze("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:o.jsx(y2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(vo,{className:"size-3.5"})})})}function YR(e){return["name","title","id","key","label","type","status","tag","category","code","username","password"].includes(e.toLowerCase())}function xr({name:e,schema:n,value:r,onChange:a,isRequired:l=!1}){const{type:c,description:d,enum:f,default:m}=n,h=n.format==="textarea"||d&&d.length>100||c==="string"&&!f&&!YR(e),g=h||d&&d.length>150,y=h||d&&d.length>80||c==="array",x=(()=>{switch(c){case"string":return f?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsxs(bd,{value:typeof r=="string"&&r?r:typeof m=="string"?m:f[0],onValueChange:S=>a(S),children:[o.jsx(Nd,{children:o.jsx(wd,{placeholder:`Select ${e}`})}),o.jsx(Sd,{children:f.map(S=>o.jsx(jd,{value:S,children:S},S))})]}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):h||d&&d.length>100?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ro,{id:e,value:typeof r=="string"?r:"",onChange:S=>a(S.target.value),placeholder:typeof m=="string"?m:`Enter ${e}`,rows:h?4:2,className:"min-w-[300px] w-full"}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(An,{id:e,type:"text",value:typeof r=="string"?r:"",onChange:S=>a(S.target.value),placeholder:typeof m=="string"?m:`Enter ${e}`}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"number":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(An,{id:e,type:"number",value:typeof r=="number"?r:"",onChange:S=>{const N=parseFloat(S.target.value);a(isNaN(N)?"":N)},placeholder:typeof m=="number"?m.toString():`Enter ${e}`}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"boolean":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(to,{id:e,checked:!!r,onCheckedChange:S=>a(S)}),o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"array":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ro,{id:e,value:Array.isArray(r)?r.join(", "):typeof r=="string"?r:"",onChange:S=>{const N=S.target.value.split(",").map(j=>j.trim()).filter(j=>j.length>0);a(N)},placeholder:"Enter items separated by commas",rows:2}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"object":default:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ro,{id:e,value:typeof r=="object"&&r!==null?JSON.stringify(r,null,2):typeof r=="string"?r:"",onChange:S=>{try{const N=JSON.parse(S.target.value);a(N)}catch{a(S.target.value)}},placeholder:'{"key": "value"}',rows:3}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]})}})(),b=()=>g?"md:col-span-2 lg:col-span-3 xl:col-span-4":y?"xl:col-span-2":"";return o.jsx("div",{className:b(),children:x})}function GR({inputSchema:e,inputTypeName:n,onSubmit:r,isSubmitting:a=!1,className:l}){const[c,d]=w.useState(!1),[f,m]=w.useState(!1),h=l?.includes("embedded"),[g,y]=w.useState({}),[x,b]=w.useState(!1),S=e.properties||{},N=Object.keys(S),j=e.required||[],_=e.type==="string"&&!e.enum,M=N.filter(k=>!j.includes(k)),E=j.includes("role")&&M.some(k=>["text","message","content"].includes(k))&&S.role?.type==="string",T=N.filter(k=>j.includes(k)&&!(E&&k==="role")),R=M,D=E?[...R].sort((k,L)=>{const I=H=>["text","message","content"].includes(H)?1:0;return I(L)-I(k)}):R,P=Math.max(0,(E?1:6)-T.length),q=D.slice(0,P),Q=D.slice(P),ee=Q.length>0,G=T.length>0,W=_?g.value!==void 0&&g.value!=="":j.length>0?j.every(k=>E&&k==="role"&&g.role==="user"?!0:g[k]!==void 0&&g[k]!==""):Object.keys(g).length>0;w.useEffect(()=>{if(e.type==="string")y({value:e.default||""});else if(e.type==="object"&&e.properties){const k={};Object.entries(e.properties).forEach(([L,I])=>{I.default!==void 0?k[L]=I.default:I.enum&&I.enum.length>0&&(k[L]=I.enum[0])}),E&&!k.role&&(k.role="user"),y(k)}},[e,E]);const B=k=>{if(k.preventDefault(),b(!0),e.type==="string")r({input:g.value||""});else if(e.type==="object"){const L=e.properties||{},I=Object.keys(L);if(I.length===1){const H=I[0];r({[H]:g[H]||""})}else{const H={};Object.keys(g).forEach(C=>{const $=g[C];(j.includes(C)||$!==void 0&&$!==""&&$!==null)&&(H[C]=$)}),r(H)}}else r(g);h||d(!1),b(!1)},U=(k,L)=>{y(I=>({...I,[k]:L}))};return h?o.jsxs("form",{onSubmit:B,className:l,children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_&&o.jsx(xr,{name:"Input",schema:e,value:g.value,onChange:k=>U("value",k),isRequired:!1}),!_&&o.jsxs(o.Fragment,{children:[T.map(k=>o.jsx(xr,{name:k,schema:S[k],value:g[k],onChange:L=>U(k,L),isRequired:!0},k)),G&&R.length>0&&o.jsx("div",{className:"sm:col-span-2 border-t border-border my-2"}),q.map(k=>o.jsx(xr,{name:k,schema:S[k],value:g[k],onChange:L=>U(k,L),isRequired:!1},k)),ee&&o.jsx("div",{className:"sm:col-span-2",children:o.jsx(Te,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Mu,{className:"h-4 w-4"}),"Hide ",Q.length," optional field",Q.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Gt,{className:"h-4 w-4"}),"Show ",Q.length," optional field",Q.length!==1?"s":""]})})}),f&&Q.map(k=>o.jsx(xr,{name:k,schema:S[k],value:g[k],onChange:L=>U(k,L),isRequired:!1},k))]})]}),o.jsx("div",{className:"flex gap-2 mt-4 justify-end",children:o.jsxs(Te,{type:"submit",disabled:x||!W,size:"default",children:[o.jsx(Zi,{className:"h-4 w-4"}),x?"Running...":"Run Workflow"]})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:Ze("flex flex-col",l),children:[o.jsxs("div",{className:"border-b border-border px-4 py-3 bg-muted",children:[o.jsx(zN,{className:"text-sm mb-3",children:"Run Workflow"}),o.jsxs(Te,{onClick:()=>d(!0),disabled:a,className:"w-full",size:"default",children:[o.jsx(Zi,{className:"h-4 w-4 mr-2"}),a?"Running...":"Run Workflow"]})]}),o.jsxs("div",{className:"px-4 py-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Input Type:"})," ",o.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:n}),e.type==="object"&&e.properties&&o.jsxs("span",{className:"ml-2",children:["(",Object.keys(e.properties).length," field",Object.keys(e.properties).length!==1?"s":"",")"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'Click "Run Workflow" to configure inputs and execute'})]})]}),o.jsx(kr,{open:c,onOpenChange:d,children:o.jsxs(Ar,{className:"w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[o.jsxs(Mr,{children:[o.jsx(Tr,{children:"Run Workflow"}),o.jsx(bo,{onClose:()=>d(!1)})]}),o.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-medium",children:"Input Type:"}),o.jsx("code",{className:"bg-muted px-3 py-1 text-xs font-mono",children:n}),e.type==="object"&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.length," field",N.length!==1?"s":""]})]})})}),o.jsx("div",{className:"px-8 py-6 overflow-y-auto flex-1 min-h-0",children:o.jsx("form",{id:"workflow-modal-form",onSubmit:B,children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 max-w-none",children:[_&&o.jsxs("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:[o.jsx(xr,{name:"Input",schema:e,value:g.value,onChange:k=>U("value",k),isRequired:!1}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.description})]}),!_&&o.jsxs(o.Fragment,{children:[T.map(k=>o.jsx(xr,{name:k,schema:S[k],value:g[k],onChange:L=>U(k,L),isRequired:!0},k)),G&&R.length>0&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx("div",{className:"border-t border-border"})}),q.map(k=>o.jsx(xr,{name:k,schema:S[k],value:g[k],onChange:L=>U(k,L),isRequired:!1},k)),ee&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx(Te,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Mu,{className:"h-4 w-4"}),"Hide ",Q.length," optional field",Q.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Gt,{className:"h-4 w-4"}),"Show ",Q.length," optional field",Q.length!==1?"s":""]})})}),f&&Q.map(k=>o.jsx(xr,{name:k,schema:S[k],value:g[k],onChange:L=>U(k,L),isRequired:!1},k))]})]})})}),o.jsx("div",{className:"px-8 py-4 border-t flex-shrink-0",children:o.jsxs(u5,{children:[o.jsx(Te,{variant:"outline",onClick:()=>d(!1),disabled:x,children:"Cancel"}),o.jsxs(Te,{type:"submit",form:"workflow-modal-form",disabled:x||!W,children:[o.jsx(Zi,{className:"h-4 w-4 mr-2"}),x?"Running...":"Run Workflow"]})]})})]})})]})}function XR(e,n,r="LR"){if(e.length===0)return e;if(e.length===1)return e.map(S=>({...S,position:{x:0,y:0}}));const a=new Map,l=new Map;e.forEach(S=>{a.set(S.id,[]),l.set(S.id,[])}),n.forEach(S=>{a.get(S.source)?.push(S.target),l.get(S.target)?.push(S.source)});const c=e.filter(S=>(l.get(S.id)||[]).length===0);c.length===0&&c.push(e[0]);const d=220,f=120,m=r==="LR"?350:280,h=r==="TB"?250:180,g=new Map,y=new Map,x=[],b=new Set;for(c.forEach(S=>{x.push({nodeId:S.id,level:0})});x.length>0;){const{nodeId:S,level:N}=x.shift();if(b.has(S))continue;b.add(S),y.has(N)||y.set(N,[]),y.get(N).push(S),(a.get(S)||[]).forEach(_=>{b.has(_)||x.push({nodeId:_,level:N+1})})}return e.forEach(S=>{if(!b.has(S.id)){const j=Math.max(...Array.from(y.keys()),-1)+1;y.has(j)||y.set(j,[]),y.get(j).push(S.id)}}),y.forEach((S,N)=>{const j=S.length;S.forEach((_,M)=>{let E,T;r==="LR"?(E=N*m,T=-((j-1)*h)/2+M*h):(T=N*h,E=-((j-1)*m)/2+M*m),g.set(_,{x:E,y:T,level:N})})}),e.map(S=>{const N=g.get(S.id)||{x:0,y:0};return{...S,position:{x:N.x-d/2,y:N.y-f/2}}})}function ZR(e){return typeof e=="object"&&e!==null&&"id"in e&&"edge_groups"in e&&"executors"in e&&"start_executor_id"in e&&"max_iterations"in e&&typeof e.id=="string"&&Array.isArray(e.edge_groups)&&typeof e.executors=="object"&&typeof e.start_executor_id=="string"&&typeof e.max_iterations=="number"}function N2(e){return ZR(e)?e:null}function WR(e){if(!e||e.type!=="object"||!e.properties)return!1;const n=e.properties,r="text"in n&&n.text?.type==="string",a="role"in n&&n.role?.type==="string";return!!(r&&a||Object.keys(n).length===1&&r)}function yu(e,n=50,r="..."){return e.length<=n?e:e.substring(0,n)+r}function tp(e,n,r){if(!e)return console.warn("convertWorkflowDumpToNodes: workflowDump is undefined"),[];const a=N2(e);let l,c;return a?(l=Object.values(a.executors).map(f=>({id:f.id,type:f.type,name:f.name||f.id,description:f.description,config:f.config})),c=a.start_executor_id):(l=S2(e),c=e?.start_executor_id),!l||!Array.isArray(l)||l.length===0?(console.warn("No executors found in workflow dump. Available keys:",Object.keys(e)),[]):l.map(f=>({id:f.id,type:"executor",position:{x:0,y:0},data:{executorId:f.id,executorType:f.type,name:f.name||f.id,state:"pending",isStartNode:f.id===c,layoutDirection:r||"LR",onNodeClick:n}}))}function np(e){if(!e)return console.warn("convertWorkflowDumpToEdges: workflowDump is undefined"),[];const n=N2(e);let r;return n?(r=[],n.edge_groups.forEach(l=>{l.edges.forEach(c=>{r.push({source:c.source_id,target:c.target_id,condition:c.condition_name})})})):r=j2(e),!r||!Array.isArray(r)||r.length===0?(console.warn("No connections found in workflow dump. Available keys:",Object.keys(e)),[]):r.map(l=>{const c=l.source===l.target;return{id:`${l.source}-${l.target}`,source:l.source,target:l.target,sourceHandle:"source",targetHandle:"target",type:c?"selfLoop":"default",animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}})}function S2(e){if(e.executors&&typeof e.executors=="object"&&!Array.isArray(e.executors)){const a=e.executors;return Object.entries(a).map(([l,c])=>({id:l,type:c.type_||c.type||"executor",name:c.name||l,description:c.description,config:c.config}))}const n=["executors","agents","steps","nodes"];for(const a of n)if(e[a]&&Array.isArray(e[a]))return e[a];if(e.config&&typeof e.config=="object")return S2(e.config);const r=[];return Object.entries(e).forEach(([a,l])=>{if(typeof l=="object"&&l!==null&&("type"in l||"type_"in l)){const c=l;r.push({id:a,type:c.type_||c.type||"executor",name:c.name||a,description:c.description,config:c.config})}}),r}function j2(e){if(e.edge_groups&&Array.isArray(e.edge_groups)){const r=[];return e.edge_groups.forEach(a=>{if(typeof a=="object"&&a!==null&&"edges"in a){const l=a.edges;Array.isArray(l)&&l.forEach(c=>{if(typeof c=="object"&&c!==null&&"source_id"in c&&"target_id"in c){const d=c;r.push({source:d.source_id,target:d.target_id,condition:d.condition_name||void 0})}})}}),r}const n=["connections","edges","transitions","links"];for(const r of n)if(e[r]&&Array.isArray(e[r]))return e[r];return e.config&&typeof e.config=="object"?j2(e.config):[]}function sp(e,n,r="LR"){return XR(e,n,r)}function KR(e,n){const r={};let a=!1;const l={};return e.forEach(c=>{if(c.type==="response.output_item.added"||c.type==="response.output_item.done"){const d=c.item;if(d&&d.type==="executor_action"&&d.executor_id){const f=d.executor_id,m=d.id;if(c.type==="response.output_item.added"&&(l[f]=m),!(l[f]===m)&&c.type==="response.output_item.done")return;let g="pending",y;c.type==="response.output_item.added"?g="running":c.type==="response.output_item.done"&&(d.status==="completed"?g="completed":d.status==="failed"?(g="failed",y=d.error?typeof d.error=="string"?d.error:JSON.stringify(d.error):"Execution failed"):d.status==="cancelled"&&(g="cancelled")),r[f]={nodeId:f,state:g,data:d.result,error:y,timestamp:new Date().toISOString()}}}else if(c.type==="response.created"||c.type==="response.in_progress")a=!0;else if(c.type==="response.workflow_event.completed"&&"data"in c&&c.data){const f=c.data,m=f.executor_id,h=f.event_type,g=f.data;let y="pending",x;h==="ExecutorInvokedEvent"?y="running":h==="ExecutorCompletedEvent"?y="completed":h?.includes("Error")||h?.includes("Failed")?(y="failed",x=typeof g=="string"?g:"Execution failed"):h?.includes("Cancel")?y="cancelled":h==="WorkflowCompletedEvent"||h==="WorkflowOutputEvent"?y="completed":h==="WorkflowStartedEvent"&&(a=!0),m&&(r[m]={nodeId:m,state:y,data:g,error:x,timestamp:new Date().toISOString()})}}),a&&n&&!r[n]&&(e.some(d=>{if(d.type==="response.output_item.done"){const f=d.item;return f&&f.type==="executor_action"&&f.executor_id===n}if(d.type==="response.workflow_event.completed"&&"data"in d&&d.data){const f=d.data;return f.executor_id===n&&(f.event_type==="ExecutorCompletedEvent"||f.event_type==="ExecutorFailedEvent"||f.event_type?.includes("Error")||f.event_type?.includes("Failed"))}return!1})||(r[n]={nodeId:n,state:"running",data:void 0,error:void 0,timestamp:new Date().toISOString()})),r}function QR(e,n,r=!0){return e.map(a=>{const l=n[a.id];return l?{...a,data:{...a.data,state:l.state,outputData:l.data,error:l.error,isStreaming:r,layoutDirection:a.data.layoutDirection}}:a})}function JR(e){const n={};return e.forEach(a=>{if(a.type==="response.output_item.added"||a.type==="response.output_item.done"){const l=a.item;if(l&&l.type==="executor_action"&&l.executor_id){const c=l.executor_id;n[c]={lastEvent:a.type==="response.output_item.added"?"ExecutorInvokedEvent":"ExecutorCompletedEvent",timestamp:new Date().toISOString()}}}else if(a.type==="response.workflow_event.completed"&&"data"in a&&a.data){const c=a.data,d=c.executor_id,f=c.event_type;d&&(f==="ExecutorInvokedEvent"||f==="ExecutorCompletedEvent")&&(n[d]={lastEvent:f,timestamp:new Date().toISOString()})}}),Object.entries(n).filter(([,a])=>a.lastEvent==="ExecutorInvokedEvent").map(([a])=>a)}function eD(e,n){const r=JR(n),a={};return n.forEach(l=>{if(l.type==="response.workflow_event.completed"&&"data"in l&&l.data){const d=l.data,f=d.executor_id,m=d.event_type;f&&m&&(a[f]||(a[f]={completed:!1,invoked:!1}),m==="ExecutorInvokedEvent"?a[f].invoked=!0:m==="ExecutorCompletedEvent"&&(a[f].completed=!0))}}),e.map(l=>{const c=a[l.source],d=a[l.target],f=r.includes(l.target);let m={...l.style},h=!1;return c?.completed&&f?(m={stroke:"#643FB2",strokeWidth:3,strokeDasharray:"5,5"},h=!0):c?.completed&&d?.completed?m={stroke:"#10b981",strokeWidth:2}:c?.completed&&d?.invoked?m={stroke:"#f59e0b",strokeWidth:2}:m={stroke:"#6b7280",strokeWidth:2},{...l,style:m,animated:h}})}function yh(e){const n=new Map,r=new Set;return e.forEach(a=>{const l=`${a.source}-${a.target}`,c=`${a.target}-${a.source}`;if(a.source===a.target){n.set(l,a);return}if(n.has(c)){r.add(c),r.add(l);const d=n.get(c);n.set(c,{...d,markerStart:{type:"arrow",width:20,height:20},markerEnd:{type:"arrow",width:20,height:20},data:{...d.data,isBidirectional:!0}})}else r.has(l)||n.set(l,a)}),Array.from(n.values())}function _2({inputSchema:e,onRun:n,onCancel:r,isSubmitting:a,isCancelling:l=!1,workflowState:c,checkpoints:d=[],showCheckpoints:f=!0}){const[m,h]=w.useState(!1);w.useEffect(()=>{const R=D=>{D.key==="Escape"&&m&&h(!1)};if(m)return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[m]);const g=w.useMemo(()=>{const R=WR(e);if(!e)return{needsInput:!1,hasDefaults:!1,fieldCount:0,canRunDirectly:!0,isChatMessage:!1};if(e.type==="string")return{needsInput:!e.default,hasDefaults:!!e.default,fieldCount:1,canRunDirectly:!!e.default,isChatMessage:!1};if(e.type==="object"&&e.properties){const D=e.properties,O=Object.entries(D),P=O.filter(([,q])=>q.default!==void 0||q.enum&&q.enum.length>0);return{needsInput:O.length>0,hasDefaults:P.length>0,fieldCount:O.length,canRunDirectly:O.length===0||P.length===O.length,isChatMessage:R}}return{needsInput:!1,hasDefaults:!1,fieldCount:0,canRunDirectly:!0,isChatMessage:!1}},[e]),y=()=>{if(c==="running"&&r)r();else if(g.canRunDirectly){const R={};e?.type==="string"&&e.default?R.input=e.default:e?.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([D,O])=>{O.default!==void 0?R[D]=O.default:O.enum&&O.enum.length>0&&(R[D]=O.enum[0])}),n(R)}else h(!0)},x=R=>{if(g.canRunDirectly){const D={};e?.type==="string"&&e.default?D.input=e.default:e?.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([O,P])=>{P.default!==void 0?D[O]=P.default:P.enum&&P.enum.length>0&&(D[O]=P.enum[0])}),n(D,R)}else h(!0)},b=f&&d.length>0,S=R=>{if(!R)return"";const D=R/1024;return D<1?`${R} B`:D<1024?`${D.toFixed(1)} KB`:`${(D/1024).toFixed(1)} MB`},N=()=>{const R=l?o.jsx(Cr,{className:"w-4 h-4 animate-spin"}):c==="running"&&r?o.jsx(cd,{className:"w-4 h-4 fill-current"}):c==="running"?o.jsx(Cr,{className:"w-4 h-4 animate-spin"}):c==="error"?o.jsx(Yp,{className:"w-4 h-4"}):g.needsInput&&!g.canRunDirectly?o.jsx(Fh,{className:"w-4 h-4"}):o.jsx(Hv,{className:"w-4 h-4"}),D=l?"Stopping...":c==="running"&&r?"Stop":c==="running"?"Running...":c==="completed"?"Run Again":c==="error"?"Retry":g.fieldCount===0||g.canRunDirectly?"Run Workflow":"Configure & Run";return{icon:R,text:D}},{icon:j,text:_}=N(),M=c==="running"&&!r||l,E=c==="error"?"destructive":"default",T=()=>b||g.needsInput?o.jsxs(ud,{children:[o.jsxs("div",{className:"flex w-full",children:[o.jsxs(Te,{onClick:y,disabled:M,variant:E,className:"gap-2 rounded-r-none flex-1",title:c==="running"&&r?"Stop workflow execution":void 0,children:[j,_]}),o.jsx(dd,{asChild:!0,children:o.jsx(Te,{disabled:M,variant:E,className:"rounded-l-none border-l-0 px-2",title:"More options",children:o.jsx(Gt,{className:"w-4 h-4"})})})]}),o.jsxs(fd,{align:"end",className:"w-80 max-h-[400px] overflow-y-auto",children:[b&&o.jsxs(Lt,{onClick:y,children:[o.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Run Fresh"]}),g.needsInput&&o.jsxs(Lt,{onClick:()=>h(!0),children:[o.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Configure Inputs"]}),b&&o.jsxs(o.Fragment,{children:[o.jsx(ma,{}),o.jsx("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"Resume from checkpoint"}),d.map((D,O)=>o.jsxs(Lt,{onClick:()=>x(D.checkpoint_id),className:"flex flex-col items-start py-2",children:[o.jsxs("div",{className:"flex items-center gap-2 w-full",children:[o.jsx(Fp,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"font-medium",children:D.metadata.iteration_count===0?"Initial State":`Step ${D.metadata.iteration_count}`}),O===0&&o.jsx(ht,{variant:"secondary",className:"text-[10px] h-4 px-1 ml-auto",children:"Latest"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-6 mt-0.5",children:[o.jsx(Up,{className:"w-3 h-3"}),o.jsx("span",{children:new Date(D.timestamp).toLocaleTimeString()}),D.metadata.size_bytes&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:S(D.metadata.size_bytes)})]})]})]},D.checkpoint_id))]})]})]}):o.jsxs(Te,{onClick:y,disabled:M,variant:E,className:"gap-2 w-full",title:c==="running"&&r?"Stop workflow execution":void 0,children:[j,_]});return o.jsxs(o.Fragment,{children:[T(),e&&o.jsx(kr,{open:m,onOpenChange:h,children:o.jsxs(Ar,{className:"w-full min-w-[400px] max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[o.jsxs(Mr,{className:"px-8 pt-6",children:[o.jsx(Tr,{children:"Configure Workflow Inputs"}),o.jsx(bo,{onClose:()=>h(!1)})]}),o.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-medium",children:"Input Type:"}),o.jsx(ht,{variant:"secondary",children:g.isChatMessage?"Chat Message":e.type==="string"?"Simple Text":"Structured Data"})]})})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4 px-8",children:g.isChatMessage?o.jsx(PN,{onSubmit:async R=>{n([{type:"message",role:"user",content:R}]),h(!1)},isSubmitting:a,placeholder:"Enter your message...",entityName:"workflow",showFileUpload:!0}):o.jsx(GR,{inputSchema:e,inputTypeName:"Input",onSubmit:R=>{n(R),h(!1)},isSubmitting:a,className:"embedded"})})]})})]})}function Dt(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let r=0,a;r<e.length;r++)(a=Dt(e[r]))!==""&&(n+=(n&&" ")+a);else for(let r in e)e[r]&&(n+=(n&&" ")+r);return n}var tD={value:()=>{}};function Ed(){for(var e=0,n=arguments.length,r={},a;e<n;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new vu(r)}function vu(e){this._=e}function nD(e,n){return e.trim().split(/^|\s+/).map(function(r){var a="",l=r.indexOf(".");if(l>=0&&(a=r.slice(l+1),r=r.slice(0,l)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}vu.prototype=Ed.prototype={constructor:vu,on:function(e,n){var r=this._,a=nD(e+"",r),l,c=-1,d=a.length;if(arguments.length<2){for(;++c<d;)if((l=(e=a[c]).type)&&(l=sD(r[l],e.name)))return l;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<d;)if(l=(e=a[c]).type)r[l]=Xv(r[l],e.name,n);else if(n==null)for(l in r)r[l]=Xv(r[l],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new vu(e)},call:function(e,n){if((l=arguments.length-2)>0)for(var r=new Array(l),a=0,l,c;a<l;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],a=0,l=c.length;a<l;++a)c[a].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],l=0,c=a.length;l<c;++l)a[l].value.apply(n,r)}};function sD(e,n){for(var r=0,a=e.length,l;r<a;++r)if((l=e[r]).name===n)return l.value}function Xv(e,n,r){for(var a=0,l=e.length;a<l;++a)if(e[a].name===n){e[a]=tD,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:n,value:r}),e}var rp="http://www.w3.org/1999/xhtml";const Zv={svg:"http://www.w3.org/2000/svg",xhtml:rp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cd(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Zv.hasOwnProperty(n)?{space:Zv[n],local:e}:e}function rD(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===rp&&n.documentElement.namespaceURI===rp?n.createElement(e):n.createElementNS(r,e)}}function oD(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function E2(e){var n=Cd(e);return(n.local?oD:rD)(n)}function aD(){}function ag(e){return e==null?aD:function(){return this.querySelector(e)}}function iD(e){typeof e!="function"&&(e=ag(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=new Array(d),m,h,g=0;g<d;++g)(m=c[g])&&(h=e.call(m,m.__data__,g,c))&&("__data__"in m&&(h.__data__=m.__data__),f[g]=h);return new wn(a,this._parents)}function lD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cD(){return[]}function C2(e){return e==null?cD:function(){return this.querySelectorAll(e)}}function uD(e){return function(){return lD(e.apply(this,arguments))}}function dD(e){typeof e=="function"?e=uD(e):e=C2(e);for(var n=this._groups,r=n.length,a=[],l=[],c=0;c<r;++c)for(var d=n[c],f=d.length,m,h=0;h<f;++h)(m=d[h])&&(a.push(e.call(m,m.__data__,h,d)),l.push(m));return new wn(a,l)}function k2(e){return function(){return this.matches(e)}}function A2(e){return function(n){return n.matches(e)}}var fD=Array.prototype.find;function mD(e){return function(){return fD.call(this.children,e)}}function hD(){return this.firstElementChild}function pD(e){return this.select(e==null?hD:mD(typeof e=="function"?e:A2(e)))}var gD=Array.prototype.filter;function xD(){return Array.from(this.children)}function yD(e){return function(){return gD.call(this.children,e)}}function vD(e){return this.selectAll(e==null?xD:yD(typeof e=="function"?e:A2(e)))}function bD(e){typeof e!="function"&&(e=k2(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=[],m,h=0;h<d;++h)(m=c[h])&&e.call(m,m.__data__,h,c)&&f.push(m);return new wn(a,this._parents)}function M2(e){return new Array(e.length)}function wD(){return new wn(this._enter||this._groups.map(M2),this._parents)}function Pu(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Pu.prototype={constructor:Pu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ND(e){return function(){return e}}function SD(e,n,r,a,l,c){for(var d=0,f,m=n.length,h=c.length;d<h;++d)(f=n[d])?(f.__data__=c[d],a[d]=f):r[d]=new Pu(e,c[d]);for(;d<m;++d)(f=n[d])&&(l[d]=f)}function jD(e,n,r,a,l,c,d){var f,m,h=new Map,g=n.length,y=c.length,x=new Array(g),b;for(f=0;f<g;++f)(m=n[f])&&(x[f]=b=d.call(m,m.__data__,f,n)+"",h.has(b)?l[f]=m:h.set(b,m));for(f=0;f<y;++f)b=d.call(e,c[f],f,c)+"",(m=h.get(b))?(a[f]=m,m.__data__=c[f],h.delete(b)):r[f]=new Pu(e,c[f]);for(f=0;f<g;++f)(m=n[f])&&h.get(x[f])===m&&(l[f]=m)}function _D(e){return e.__data__}function ED(e,n){if(!arguments.length)return Array.from(this,_D);var r=n?jD:SD,a=this._parents,l=this._groups;typeof e!="function"&&(e=ND(e));for(var c=l.length,d=new Array(c),f=new Array(c),m=new Array(c),h=0;h<c;++h){var g=a[h],y=l[h],x=y.length,b=CD(e.call(g,g&&g.__data__,h,a)),S=b.length,N=f[h]=new Array(S),j=d[h]=new Array(S),_=m[h]=new Array(x);r(g,y,N,j,_,b,n);for(var M=0,E=0,T,R;M<S;++M)if(T=N[M]){for(M>=E&&(E=M+1);!(R=j[E])&&++E<S;);T._next=R||null}}return d=new wn(d,a),d._enter=f,d._exit=m,d}function CD(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kD(){return new wn(this._exit||this._groups.map(M2),this._parents)}function AD(e,n,r){var a=this.enter(),l=this,c=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),n!=null&&(l=n(l),l&&(l=l.selection())),r==null?c.remove():r(c),a&&l?a.merge(l).order():l}function MD(e){for(var n=e.selection?e.selection():e,r=this._groups,a=n._groups,l=r.length,c=a.length,d=Math.min(l,c),f=new Array(l),m=0;m<d;++m)for(var h=r[m],g=a[m],y=h.length,x=f[m]=new Array(y),b,S=0;S<y;++S)(b=h[S]||g[S])&&(x[S]=b);for(;m<l;++m)f[m]=r[m];return new wn(f,this._parents)}function TD(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var a=e[n],l=a.length-1,c=a[l],d;--l>=0;)(d=a[l])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function RD(e){e||(e=DD);function n(y,x){return y&&x?e(y.__data__,x.__data__):!y-!x}for(var r=this._groups,a=r.length,l=new Array(a),c=0;c<a;++c){for(var d=r[c],f=d.length,m=l[c]=new Array(f),h,g=0;g<f;++g)(h=d[g])&&(m[g]=h);m.sort(n)}return new wn(l,this._parents).order()}function DD(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function OD(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zD(){return Array.from(this)}function ID(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],l=0,c=a.length;l<c;++l){var d=a[l];if(d)return d}return null}function LD(){let e=0;for(const n of this)++e;return e}function HD(){return!this.node()}function $D(e){for(var n=this._groups,r=0,a=n.length;r<a;++r)for(var l=n[r],c=0,d=l.length,f;c<d;++c)(f=l[c])&&e.call(f,f.__data__,c,l);return this}function PD(e){return function(){this.removeAttribute(e)}}function BD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UD(e,n){return function(){this.setAttribute(e,n)}}function VD(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function qD(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function FD(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function YD(e,n){var r=Cd(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((n==null?r.local?BD:PD:typeof n=="function"?r.local?FD:qD:r.local?VD:UD)(r,n))}function T2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function GD(e){return function(){this.style.removeProperty(e)}}function XD(e,n,r){return function(){this.style.setProperty(e,n,r)}}function ZD(e,n,r){return function(){var a=n.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function WD(e,n,r){return arguments.length>1?this.each((n==null?GD:typeof n=="function"?ZD:XD)(e,n,r??"")):Sa(this.node(),e)}function Sa(e,n){return e.style.getPropertyValue(n)||T2(e).getComputedStyle(e,null).getPropertyValue(n)}function KD(e){return function(){delete this[e]}}function QD(e,n){return function(){this[e]=n}}function JD(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function e6(e,n){return arguments.length>1?this.each((n==null?KD:typeof n=="function"?JD:QD)(e,n)):this.node()[e]}function R2(e){return e.trim().split(/^|\s+/)}function ig(e){return e.classList||new D2(e)}function D2(e){this._node=e,this._names=R2(e.getAttribute("class")||"")}D2.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function O2(e,n){for(var r=ig(e),a=-1,l=n.length;++a<l;)r.add(n[a])}function z2(e,n){for(var r=ig(e),a=-1,l=n.length;++a<l;)r.remove(n[a])}function t6(e){return function(){O2(this,e)}}function n6(e){return function(){z2(this,e)}}function s6(e,n){return function(){(n.apply(this,arguments)?O2:z2)(this,e)}}function r6(e,n){var r=R2(e+"");if(arguments.length<2){for(var a=ig(this.node()),l=-1,c=r.length;++l<c;)if(!a.contains(r[l]))return!1;return!0}return this.each((typeof n=="function"?s6:n?t6:n6)(r,n))}function o6(){this.textContent=""}function a6(e){return function(){this.textContent=e}}function i6(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function l6(e){return arguments.length?this.each(e==null?o6:(typeof e=="function"?i6:a6)(e)):this.node().textContent}function c6(){this.innerHTML=""}function u6(e){return function(){this.innerHTML=e}}function d6(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function f6(e){return arguments.length?this.each(e==null?c6:(typeof e=="function"?d6:u6)(e)):this.node().innerHTML}function m6(){this.nextSibling&&this.parentNode.appendChild(this)}function h6(){return this.each(m6)}function p6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function g6(){return this.each(p6)}function x6(e){var n=typeof e=="function"?e:E2(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function y6(){return null}function v6(e,n){var r=typeof e=="function"?e:E2(e),a=n==null?y6:typeof n=="function"?n:ag(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function b6(){var e=this.parentNode;e&&e.removeChild(this)}function w6(){return this.each(b6)}function N6(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function S6(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function j6(e){return this.select(e?S6:N6)}function _6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function E6(e){return function(n){e.call(this,n,this.__data__)}}function C6(e){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");return a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),{type:n,name:r}})}function k6(e){return function(){var n=this.__on;if(n){for(var r=0,a=-1,l=n.length,c;r<l;++r)c=n[r],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):n[++a]=c;++a?n.length=a:delete this.__on}}}function A6(e,n,r){return function(){var a=this.__on,l,c=E6(n);if(a){for(var d=0,f=a.length;d<f;++d)if((l=a[d]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=r),l.value=n;return}}this.addEventListener(e.type,c,r),l={type:e.type,name:e.name,value:n,listener:c,options:r},a?a.push(l):this.__on=[l]}}function M6(e,n,r){var a=C6(e+""),l,c=a.length,d;if(arguments.length<2){var f=this.node().__on;if(f){for(var m=0,h=f.length,g;m<h;++m)for(l=0,g=f[m];l<c;++l)if((d=a[l]).type===g.type&&d.name===g.name)return g.value}return}for(f=n?A6:k6,l=0;l<c;++l)this.each(f(a[l],n,r));return this}function I2(e,n,r){var a=T2(e),l=a.CustomEvent;typeof l=="function"?l=new l(n,r):(l=a.document.createEvent("Event"),r?(l.initEvent(n,r.bubbles,r.cancelable),l.detail=r.detail):l.initEvent(n,!1,!1)),e.dispatchEvent(l)}function T6(e,n){return function(){return I2(this,e,n)}}function R6(e,n){return function(){return I2(this,e,n.apply(this,arguments))}}function D6(e,n){return this.each((typeof n=="function"?R6:T6)(e,n))}function*O6(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],l=0,c=a.length,d;l<c;++l)(d=a[l])&&(yield d)}var L2=[null];function wn(e,n){this._groups=e,this._parents=n}function Sl(){return new wn([[document.documentElement]],L2)}function z6(){return this}wn.prototype=Sl.prototype={constructor:wn,select:iD,selectAll:dD,selectChild:pD,selectChildren:vD,filter:bD,data:ED,enter:wD,exit:kD,join:AD,merge:MD,selection:z6,order:TD,sort:RD,call:OD,nodes:zD,node:ID,size:LD,empty:HD,each:$D,attr:YD,style:WD,property:e6,classed:r6,text:l6,html:f6,raise:h6,lower:g6,append:x6,insert:v6,remove:w6,clone:j6,datum:_6,on:M6,dispatch:D6,[Symbol.iterator]:O6};function vn(e){return typeof e=="string"?new wn([[document.querySelector(e)]],[document.documentElement]):new wn([[e]],L2)}function I6(e){let n;for(;n=e.sourceEvent;)e=n;return e}function $n(e,n){if(e=I6(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(n.getScreenCTM().inverse()),[a.x,a.y]}if(n.getBoundingClientRect){var l=n.getBoundingClientRect();return[e.clientX-l.left-n.clientLeft,e.clientY-l.top-n.clientTop]}}return[e.pageX,e.pageY]}const L6={passive:!1},ol={capture:!0,passive:!1};function vh(e){e.stopImmediatePropagation()}function pa(e){e.preventDefault(),e.stopImmediatePropagation()}function H2(e){var n=e.document.documentElement,r=vn(e).on("dragstart.drag",pa,ol);"onselectstart"in n?r.on("selectstart.drag",pa,ol):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function $2(e,n){var r=e.document.documentElement,a=vn(e).on("dragstart.drag",null);n&&(a.on("click.drag",pa,ol),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const tu=e=>()=>e;function op(e,{sourceEvent:n,subject:r,target:a,identifier:l,active:c,x:d,y:f,dx:m,dy:h,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:g}})}op.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function H6(e){return!e.ctrlKey&&!e.button}function $6(){return this.parentNode}function P6(e,n){return n??{x:e.x,y:e.y}}function B6(){return navigator.maxTouchPoints||"ontouchstart"in this}function P2(){var e=H6,n=$6,r=P6,a=B6,l={},c=Ed("start","drag","end"),d=0,f,m,h,g,y=0;function x(T){T.on("mousedown.drag",b).filter(a).on("touchstart.drag",j).on("touchmove.drag",_,L6).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(T,R){if(!(g||!e.call(this,T,R))){var D=E(this,n.call(this,T,R),T,R,"mouse");D&&(vn(T.view).on("mousemove.drag",S,ol).on("mouseup.drag",N,ol),H2(T.view),vh(T),h=!1,f=T.clientX,m=T.clientY,D("start",T))}}function S(T){if(pa(T),!h){var R=T.clientX-f,D=T.clientY-m;h=R*R+D*D>y}l.mouse("drag",T)}function N(T){vn(T.view).on("mousemove.drag mouseup.drag",null),$2(T.view,h),pa(T),l.mouse("end",T)}function j(T,R){if(e.call(this,T,R)){var D=T.changedTouches,O=n.call(this,T,R),P=D.length,q,Q;for(q=0;q<P;++q)(Q=E(this,O,T,R,D[q].identifier,D[q]))&&(vh(T),Q("start",T,D[q]))}}function _(T){var R=T.changedTouches,D=R.length,O,P;for(O=0;O<D;++O)(P=l[R[O].identifier])&&(pa(T),P("drag",T,R[O]))}function M(T){var R=T.changedTouches,D=R.length,O,P;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),O=0;O<D;++O)(P=l[R[O].identifier])&&(vh(T),P("end",T,R[O]))}function E(T,R,D,O,P,q){var Q=c.copy(),ee=$n(q||D,R),G,W,B;if((B=r.call(T,new op("beforestart",{sourceEvent:D,target:x,identifier:P,active:d,x:ee[0],y:ee[1],dx:0,dy:0,dispatch:Q}),O))!=null)return G=B.x-ee[0]||0,W=B.y-ee[1]||0,function U(k,L,I){var H=ee,C;switch(k){case"start":l[P]=U,C=d++;break;case"end":delete l[P],--d;case"drag":ee=$n(I||L,R),C=d;break}Q.call(k,T,new op(k,{sourceEvent:L,subject:B,target:x,identifier:P,active:C,x:ee[0]+G,y:ee[1]+W,dx:ee[0]-H[0],dy:ee[1]-H[1],dispatch:Q}),O)}}return x.filter=function(T){return arguments.length?(e=typeof T=="function"?T:tu(!!T),x):e},x.container=function(T){return arguments.length?(n=typeof T=="function"?T:tu(T),x):n},x.subject=function(T){return arguments.length?(r=typeof T=="function"?T:tu(T),x):r},x.touchable=function(T){return arguments.length?(a=typeof T=="function"?T:tu(!!T),x):a},x.on=function(){var T=c.on.apply(c,arguments);return T===c?x:T},x.clickDistance=function(T){return arguments.length?(y=(T=+T)*T,x):Math.sqrt(y)},x}function lg(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function B2(e,n){var r=Object.create(e.prototype);for(var a in n)r[a]=n[a];return r}function jl(){}var al=.7,Bu=1/al,ga="\\s*([+-]?\\d+)\\s*",il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U6=/^#([0-9a-f]{3,8})$/,V6=new RegExp(`^rgb\\(${ga},${ga},${ga}\\)$`),q6=new RegExp(`^rgb\\(${os},${os},${os}\\)$`),F6=new RegExp(`^rgba\\(${ga},${ga},${ga},${il}\\)$`),Y6=new RegExp(`^rgba\\(${os},${os},${os},${il}\\)$`),G6=new RegExp(`^hsl\\(${il},${os},${os}\\)$`),X6=new RegExp(`^hsla\\(${il},${os},${os},${il}\\)$`),Wv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lg(jl,ho,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Kv,formatHex:Kv,formatHex8:Z6,formatHsl:W6,formatRgb:Qv,toString:Qv});function Kv(){return this.rgb().formatHex()}function Z6(){return this.rgb().formatHex8()}function W6(){return U2(this).formatHsl()}function Qv(){return this.rgb().formatRgb()}function ho(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=U6.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?Jv(n):r===3?new ln(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?nu(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?nu(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=V6.exec(e))?new ln(n[1],n[2],n[3],1):(n=q6.exec(e))?new ln(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=F6.exec(e))?nu(n[1],n[2],n[3],n[4]):(n=Y6.exec(e))?nu(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=G6.exec(e))?nb(n[1],n[2]/100,n[3]/100,1):(n=X6.exec(e))?nb(n[1],n[2]/100,n[3]/100,n[4]):Wv.hasOwnProperty(e)?Jv(Wv[e]):e==="transparent"?new ln(NaN,NaN,NaN,0):null}function Jv(e){return new ln(e>>16&255,e>>8&255,e&255,1)}function nu(e,n,r,a){return a<=0&&(e=n=r=NaN),new ln(e,n,r,a)}function K6(e){return e instanceof jl||(e=ho(e)),e?(e=e.rgb(),new ln(e.r,e.g,e.b,e.opacity)):new ln}function ap(e,n,r,a){return arguments.length===1?K6(e):new ln(e,n,r,a??1)}function ln(e,n,r,a){this.r=+e,this.g=+n,this.b=+r,this.opacity=+a}lg(ln,ap,B2(jl,{brighter(e){return e=e==null?Bu:Math.pow(Bu,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?al:Math.pow(al,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ln(oo(this.r),oo(this.g),oo(this.b),Uu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eb,formatHex:eb,formatHex8:Q6,formatRgb:tb,toString:tb}));function eb(){return`#${so(this.r)}${so(this.g)}${so(this.b)}`}function Q6(){return`#${so(this.r)}${so(this.g)}${so(this.b)}${so((isNaN(this.opacity)?1:this.opacity)*255)}`}function tb(){const e=Uu(this.opacity);return`${e===1?"rgb(":"rgba("}${oo(this.r)}, ${oo(this.g)}, ${oo(this.b)}${e===1?")":`, ${e})`}`}function Uu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function so(e){return e=oo(e),(e<16?"0":"")+e.toString(16)}function nb(e,n,r,a){return a<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Pn(e,n,r,a)}function U2(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof jl||(e=ho(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var n=e.r/255,r=e.g/255,a=e.b/255,l=Math.min(n,r,a),c=Math.max(n,r,a),d=NaN,f=c-l,m=(c+l)/2;return f?(n===c?d=(r-a)/f+(r<a)*6:r===c?d=(a-n)/f+2:d=(n-r)/f+4,f/=m<.5?c+l:2-c-l,d*=60):f=m>0&&m<1?0:d,new Pn(d,f,m,e.opacity)}function J6(e,n,r,a){return arguments.length===1?U2(e):new Pn(e,n,r,a??1)}function Pn(e,n,r,a){this.h=+e,this.s=+n,this.l=+r,this.opacity=+a}lg(Pn,J6,B2(jl,{brighter(e){return e=e==null?Bu:Math.pow(Bu,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?al:Math.pow(al,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*n,l=2*r-a;return new ln(bh(e>=240?e-240:e+120,l,a),bh(e,l,a),bh(e<120?e+240:e-120,l,a),this.opacity)},clamp(){return new Pn(sb(this.h),su(this.s),su(this.l),Uu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Uu(this.opacity);return`${e===1?"hsl(":"hsla("}${sb(this.h)}, ${su(this.s)*100}%, ${su(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sb(e){return e=(e||0)%360,e<0?e+360:e}function su(e){return Math.max(0,Math.min(1,e||0))}function bh(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const cg=e=>()=>e;function eO(e,n){return function(r){return e+r*n}}function tO(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(a){return Math.pow(e+a*n,r)}}function nO(e){return(e=+e)==1?V2:function(n,r){return r-n?tO(n,r,e):cg(isNaN(n)?r:n)}}function V2(e,n){var r=n-e;return r?eO(e,r):cg(isNaN(e)?n:e)}const Vu=(function e(n){var r=nO(n);function a(l,c){var d=r((l=ap(l)).r,(c=ap(c)).r),f=r(l.g,c.g),m=r(l.b,c.b),h=V2(l.opacity,c.opacity);return function(g){return l.r=d(g),l.g=f(g),l.b=m(g),l.opacity=h(g),l+""}}return a.gamma=e,a})(1);function sO(e,n){n||(n=[]);var r=e?Math.min(n.length,e.length):0,a=n.slice(),l;return function(c){for(l=0;l<r;++l)a[l]=e[l]*(1-c)+n[l]*c;return a}}function rO(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oO(e,n){var r=n?n.length:0,a=e?Math.min(r,e.length):0,l=new Array(a),c=new Array(r),d;for(d=0;d<a;++d)l[d]=Ki(e[d],n[d]);for(;d<r;++d)c[d]=n[d];return function(f){for(d=0;d<a;++d)c[d]=l[d](f);return c}}function aO(e,n){var r=new Date;return e=+e,n=+n,function(a){return r.setTime(e*(1-a)+n*a),r}}function es(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}function iO(e,n){var r={},a={},l;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(l in n)l in e?r[l]=Ki(e[l],n[l]):a[l]=n[l];return function(c){for(l in r)a[l]=r[l](c);return a}}var ip=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wh=new RegExp(ip.source,"g");function lO(e){return function(){return e}}function cO(e){return function(n){return e(n)+""}}function q2(e,n){var r=ip.lastIndex=wh.lastIndex=0,a,l,c,d=-1,f=[],m=[];for(e=e+"",n=n+"";(a=ip.exec(e))&&(l=wh.exec(n));)(c=l.index)>r&&(c=n.slice(r,c),f[d]?f[d]+=c:f[++d]=c),(a=a[0])===(l=l[0])?f[d]?f[d]+=l:f[++d]=l:(f[++d]=null,m.push({i:d,x:es(a,l)})),r=wh.lastIndex;return r<n.length&&(c=n.slice(r),f[d]?f[d]+=c:f[++d]=c),f.length<2?m[0]?cO(m[0].x):lO(n):(n=m.length,function(h){for(var g=0,y;g<n;++g)f[(y=m[g]).i]=y.x(h);return f.join("")})}function Ki(e,n){var r=typeof n,a;return n==null||r==="boolean"?cg(n):(r==="number"?es:r==="string"?(a=ho(n))?(n=a,Vu):q2:n instanceof ho?Vu:n instanceof Date?aO:rO(n)?sO:Array.isArray(n)?oO:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?iO:es)(e,n)}var rb=180/Math.PI,lp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function F2(e,n,r,a,l,c){var d,f,m;return(d=Math.sqrt(e*e+n*n))&&(e/=d,n/=d),(m=e*r+n*a)&&(r-=e*m,a-=n*m),(f=Math.sqrt(r*r+a*a))&&(r/=f,a/=f,m/=f),e*a<n*r&&(e=-e,n=-n,m=-m,d=-d),{translateX:l,translateY:c,rotate:Math.atan2(n,e)*rb,skewX:Math.atan(m)*rb,scaleX:d,scaleY:f}}var ru;function uO(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?lp:F2(n.a,n.b,n.c,n.d,n.e,n.f)}function dO(e){return e==null||(ru||(ru=document.createElementNS("http://www.w3.org/2000/svg","g")),ru.setAttribute("transform",e),!(e=ru.transform.baseVal.consolidate()))?lp:(e=e.matrix,F2(e.a,e.b,e.c,e.d,e.e,e.f))}function Y2(e,n,r,a){function l(h){return h.length?h.pop()+" ":""}function c(h,g,y,x,b,S){if(h!==y||g!==x){var N=b.push("translate(",null,n,null,r);S.push({i:N-4,x:es(h,y)},{i:N-2,x:es(g,x)})}else(y||x)&&b.push("translate("+y+n+x+r)}function d(h,g,y,x){h!==g?(h-g>180?g+=360:g-h>180&&(h+=360),x.push({i:y.push(l(y)+"rotate(",null,a)-2,x:es(h,g)})):g&&y.push(l(y)+"rotate("+g+a)}function f(h,g,y,x){h!==g?x.push({i:y.push(l(y)+"skewX(",null,a)-2,x:es(h,g)}):g&&y.push(l(y)+"skewX("+g+a)}function m(h,g,y,x,b,S){if(h!==y||g!==x){var N=b.push(l(b)+"scale(",null,",",null,")");S.push({i:N-4,x:es(h,y)},{i:N-2,x:es(g,x)})}else(y!==1||x!==1)&&b.push(l(b)+"scale("+y+","+x+")")}return function(h,g){var y=[],x=[];return h=e(h),g=e(g),c(h.translateX,h.translateY,g.translateX,g.translateY,y,x),d(h.rotate,g.rotate,y,x),f(h.skewX,g.skewX,y,x),m(h.scaleX,h.scaleY,g.scaleX,g.scaleY,y,x),h=g=null,function(b){for(var S=-1,N=x.length,j;++S<N;)y[(j=x[S]).i]=j.x(b);return y.join("")}}}var fO=Y2(uO,"px, ","px)","deg)"),mO=Y2(dO,", ",")",")"),hO=1e-12;function ob(e){return((e=Math.exp(e))+1/e)/2}function pO(e){return((e=Math.exp(e))-1/e)/2}function gO(e){return((e=Math.exp(2*e))-1)/(e+1)}const bu=(function e(n,r,a){function l(c,d){var f=c[0],m=c[1],h=c[2],g=d[0],y=d[1],x=d[2],b=g-f,S=y-m,N=b*b+S*S,j,_;if(N<hO)_=Math.log(x/h)/n,j=function(O){return[f+O*b,m+O*S,h*Math.exp(n*O*_)]};else{var M=Math.sqrt(N),E=(x*x-h*h+a*N)/(2*h*r*M),T=(x*x-h*h-a*N)/(2*x*r*M),R=Math.log(Math.sqrt(E*E+1)-E),D=Math.log(Math.sqrt(T*T+1)-T);_=(D-R)/n,j=function(O){var P=O*_,q=ob(R),Q=h/(r*M)*(q*gO(n*P+R)-pO(R));return[f+Q*b,m+Q*S,h*q/ob(n*P+R)]}}return j.duration=_*1e3*n/Math.SQRT2,j}return l.rho=function(c){var d=Math.max(.001,+c),f=d*d,m=f*f;return e(d,f,m)},l})(Math.SQRT2,2,4);var ja=0,Gi=0,Vi=0,G2=1e3,qu,Xi,Fu=0,po=0,kd=0,ll=typeof performance=="object"&&performance.now?performance:Date,X2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ug(){return po||(X2(xO),po=ll.now()+kd)}function xO(){po=0}function Yu(){this._call=this._time=this._next=null}Yu.prototype=Z2.prototype={constructor:Yu,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?ug():+r)+(n==null?0:+n),!this._next&&Xi!==this&&(Xi?Xi._next=this:qu=this,Xi=this),this._call=e,this._time=r,cp()},stop:function(){this._call&&(this._call=null,this._time=1/0,cp())}};function Z2(e,n,r){var a=new Yu;return a.restart(e,n,r),a}function yO(){ug(),++ja;for(var e=qu,n;e;)(n=po-e._time)>=0&&e._call.call(void 0,n),e=e._next;--ja}function ab(){po=(Fu=ll.now())+kd,ja=Gi=0;try{yO()}finally{ja=0,bO(),po=0}}function vO(){var e=ll.now(),n=e-Fu;n>G2&&(kd-=n,Fu=e)}function bO(){for(var e,n=qu,r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:qu=r);Xi=e,cp(a)}function cp(e){if(!ja){Gi&&(Gi=clearTimeout(Gi));var n=e-po;n>24?(e<1/0&&(Gi=setTimeout(ab,e-ll.now()-kd)),Vi&&(Vi=clearInterval(Vi))):(Vi||(Fu=ll.now(),Vi=setInterval(vO,G2)),ja=1,X2(ab))}}function ib(e,n,r){var a=new Yu;return n=n==null?0:+n,a.restart(l=>{a.stop(),e(l+n)},n,r),a}var wO=Ed("start","end","cancel","interrupt"),NO=[],W2=0,lb=1,up=2,wu=3,cb=4,dp=5,Nu=6;function Ad(e,n,r,a,l,c){var d=e.__transition;if(!d)e.__transition={};else if(r in d)return;SO(e,r,{name:n,index:a,group:l,on:wO,tween:NO,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:W2})}function dg(e,n){var r=Yn(e,n);if(r.state>W2)throw new Error("too late; already scheduled");return r}function ms(e,n){var r=Yn(e,n);if(r.state>wu)throw new Error("too late; already running");return r}function Yn(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function SO(e,n,r){var a=e.__transition,l;a[n]=r,r.timer=Z2(c,0,r.time);function c(h){r.state=lb,r.timer.restart(d,r.delay,r.time),r.delay<=h&&d(h-r.delay)}function d(h){var g,y,x,b;if(r.state!==lb)return m();for(g in a)if(b=a[g],b.name===r.name){if(b.state===wu)return ib(d);b.state===cb?(b.state=Nu,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete a[g]):+g<n&&(b.state=Nu,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete a[g])}if(ib(function(){r.state===wu&&(r.state=cb,r.timer.restart(f,r.delay,r.time),f(h))}),r.state=up,r.on.call("start",e,e.__data__,r.index,r.group),r.state===up){for(r.state=wu,l=new Array(x=r.tween.length),g=0,y=-1;g<x;++g)(b=r.tween[g].value.call(e,e.__data__,r.index,r.group))&&(l[++y]=b);l.length=y+1}}function f(h){for(var g=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(m),r.state=dp,1),y=-1,x=l.length;++y<x;)l[y].call(e,g);r.state===dp&&(r.on.call("end",e,e.__data__,r.index,r.group),m())}function m(){r.state=Nu,r.timer.stop(),delete a[n];for(var h in a)return;delete e.__transition}}function Su(e,n){var r=e.__transition,a,l,c=!0,d;if(r){n=n==null?null:n+"";for(d in r){if((a=r[d]).name!==n){c=!1;continue}l=a.state>up&&a.state<dp,a.state=Nu,a.timer.stop(),a.on.call(l?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[d]}c&&delete e.__transition}}function jO(e){return this.each(function(){Su(this,e)})}function _O(e,n){var r,a;return function(){var l=ms(this,e),c=l.tween;if(c!==r){a=r=c;for(var d=0,f=a.length;d<f;++d)if(a[d].name===n){a=a.slice(),a.splice(d,1);break}}l.tween=a}}function EO(e,n,r){var a,l;if(typeof r!="function")throw new Error;return function(){var c=ms(this,e),d=c.tween;if(d!==a){l=(a=d).slice();for(var f={name:n,value:r},m=0,h=l.length;m<h;++m)if(l[m].name===n){l[m]=f;break}m===h&&l.push(f)}c.tween=l}}function CO(e,n){var r=this._id;if(e+="",arguments.length<2){for(var a=Yn(this.node(),r).tween,l=0,c=a.length,d;l<c;++l)if((d=a[l]).name===e)return d.value;return null}return this.each((n==null?_O:EO)(r,e,n))}function fg(e,n,r){var a=e._id;return e.each(function(){var l=ms(this,a);(l.value||(l.value={}))[n]=r.apply(this,arguments)}),function(l){return Yn(l,a).value[n]}}function K2(e,n){var r;return(typeof n=="number"?es:n instanceof ho?Vu:(r=ho(n))?(n=r,Vu):q2)(e,n)}function kO(e){return function(){this.removeAttribute(e)}}function AO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function MO(e,n,r){var a,l=r+"",c;return function(){var d=this.getAttribute(e);return d===l?null:d===a?c:c=n(a=d,r)}}function TO(e,n,r){var a,l=r+"",c;return function(){var d=this.getAttributeNS(e.space,e.local);return d===l?null:d===a?c:c=n(a=d,r)}}function RO(e,n,r){var a,l,c;return function(){var d,f=r(this),m;return f==null?void this.removeAttribute(e):(d=this.getAttribute(e),m=f+"",d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f)))}}function DO(e,n,r){var a,l,c;return function(){var d,f=r(this),m;return f==null?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local),m=f+"",d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f)))}}function OO(e,n){var r=Cd(e),a=r==="transform"?mO:K2;return this.attrTween(e,typeof n=="function"?(r.local?DO:RO)(r,a,fg(this,"attr."+e,n)):n==null?(r.local?AO:kO)(r):(r.local?TO:MO)(r,a,n))}function zO(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function IO(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function LO(e,n){var r,a;function l(){var c=n.apply(this,arguments);return c!==a&&(r=(a=c)&&IO(e,c)),r}return l._value=n,l}function HO(e,n){var r,a;function l(){var c=n.apply(this,arguments);return c!==a&&(r=(a=c)&&zO(e,c)),r}return l._value=n,l}function $O(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var a=Cd(e);return this.tween(r,(a.local?LO:HO)(a,n))}function PO(e,n){return function(){dg(this,e).delay=+n.apply(this,arguments)}}function BO(e,n){return n=+n,function(){dg(this,e).delay=n}}function UO(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?PO:BO)(n,e)):Yn(this.node(),n).delay}function VO(e,n){return function(){ms(this,e).duration=+n.apply(this,arguments)}}function qO(e,n){return n=+n,function(){ms(this,e).duration=n}}function FO(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?VO:qO)(n,e)):Yn(this.node(),n).duration}function YO(e,n){if(typeof n!="function")throw new Error;return function(){ms(this,e).ease=n}}function GO(e){var n=this._id;return arguments.length?this.each(YO(n,e)):Yn(this.node(),n).ease}function XO(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;ms(this,e).ease=r}}function ZO(e){if(typeof e!="function")throw new Error;return this.each(XO(this._id,e))}function WO(e){typeof e!="function"&&(e=k2(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=[],m,h=0;h<d;++h)(m=c[h])&&e.call(m,m.__data__,h,c)&&f.push(m);return new Us(a,this._parents,this._name,this._id)}function KO(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,a=n.length,l=r.length,c=Math.min(a,l),d=new Array(a),f=0;f<c;++f)for(var m=n[f],h=r[f],g=m.length,y=d[f]=new Array(g),x,b=0;b<g;++b)(x=m[b]||h[b])&&(y[b]=x);for(;f<a;++f)d[f]=n[f];return new Us(d,this._parents,this._name,this._id)}function QO(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function JO(e,n,r){var a,l,c=QO(n)?dg:ms;return function(){var d=c(this,e),f=d.on;f!==a&&(l=(a=f).copy()).on(n,r),d.on=l}}function e8(e,n){var r=this._id;return arguments.length<2?Yn(this.node(),r).on.on(e):this.each(JO(r,e,n))}function t8(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function n8(){return this.on("end.remove",t8(this._id))}function s8(e){var n=this._name,r=this._id;typeof e!="function"&&(e=ag(e));for(var a=this._groups,l=a.length,c=new Array(l),d=0;d<l;++d)for(var f=a[d],m=f.length,h=c[d]=new Array(m),g,y,x=0;x<m;++x)(g=f[x])&&(y=e.call(g,g.__data__,x,f))&&("__data__"in g&&(y.__data__=g.__data__),h[x]=y,Ad(h[x],n,r,x,h,Yn(g,r)));return new Us(c,this._parents,n,r)}function r8(e){var n=this._name,r=this._id;typeof e!="function"&&(e=C2(e));for(var a=this._groups,l=a.length,c=[],d=[],f=0;f<l;++f)for(var m=a[f],h=m.length,g,y=0;y<h;++y)if(g=m[y]){for(var x=e.call(g,g.__data__,y,m),b,S=Yn(g,r),N=0,j=x.length;N<j;++N)(b=x[N])&&Ad(b,n,r,N,x,S);c.push(x),d.push(g)}return new Us(c,d,n,r)}var o8=Sl.prototype.constructor;function a8(){return new o8(this._groups,this._parents)}function i8(e,n){var r,a,l;return function(){var c=Sa(this,e),d=(this.style.removeProperty(e),Sa(this,e));return c===d?null:c===r&&d===a?l:l=n(r=c,a=d)}}function Q2(e){return function(){this.style.removeProperty(e)}}function l8(e,n,r){var a,l=r+"",c;return function(){var d=Sa(this,e);return d===l?null:d===a?c:c=n(a=d,r)}}function c8(e,n,r){var a,l,c;return function(){var d=Sa(this,e),f=r(this),m=f+"";return f==null&&(m=f=(this.style.removeProperty(e),Sa(this,e))),d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f))}}function u8(e,n){var r,a,l,c="style."+n,d="end."+c,f;return function(){var m=ms(this,e),h=m.on,g=m.value[c]==null?f||(f=Q2(n)):void 0;(h!==r||l!==g)&&(a=(r=h).copy()).on(d,l=g),m.on=a}}function d8(e,n,r){var a=(e+="")=="transform"?fO:K2;return n==null?this.styleTween(e,i8(e,a)).on("end.style."+e,Q2(e)):typeof n=="function"?this.styleTween(e,c8(e,a,fg(this,"style."+e,n))).each(u8(this._id,e)):this.styleTween(e,l8(e,a,n),r).on("end.style."+e,null)}function f8(e,n,r){return function(a){this.style.setProperty(e,n.call(this,a),r)}}function m8(e,n,r){var a,l;function c(){var d=n.apply(this,arguments);return d!==l&&(a=(l=d)&&f8(e,d,r)),a}return c._value=n,c}function h8(e,n,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;return this.tween(a,m8(e,n,r??""))}function p8(e){return function(){this.textContent=e}}function g8(e){return function(){var n=e(this);this.textContent=n??""}}function x8(e){return this.tween("text",typeof e=="function"?g8(fg(this,"text",e)):p8(e==null?"":e+""))}function y8(e){return function(n){this.textContent=e.call(this,n)}}function v8(e){var n,r;function a(){var l=e.apply(this,arguments);return l!==r&&(n=(r=l)&&y8(l)),n}return a._value=e,a}function b8(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,v8(e))}function w8(){for(var e=this._name,n=this._id,r=J2(),a=this._groups,l=a.length,c=0;c<l;++c)for(var d=a[c],f=d.length,m,h=0;h<f;++h)if(m=d[h]){var g=Yn(m,n);Ad(m,e,r,h,d,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Us(a,this._parents,e,r)}function N8(){var e,n,r=this,a=r._id,l=r.size();return new Promise(function(c,d){var f={value:d},m={value:function(){--l===0&&c()}};r.each(function(){var h=ms(this,a),g=h.on;g!==e&&(n=(e=g).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(m)),h.on=n}),l===0&&c()})}var S8=0;function Us(e,n,r,a){this._groups=e,this._parents=n,this._name=r,this._id=a}function J2(){return++S8}var zs=Sl.prototype;Us.prototype={constructor:Us,select:s8,selectAll:r8,selectChild:zs.selectChild,selectChildren:zs.selectChildren,filter:WO,merge:KO,selection:a8,transition:w8,call:zs.call,nodes:zs.nodes,node:zs.node,size:zs.size,empty:zs.empty,each:zs.each,on:e8,attr:OO,attrTween:$O,style:d8,styleTween:h8,text:x8,textTween:b8,remove:n8,tween:CO,delay:UO,duration:FO,ease:GO,easeVarying:ZO,end:N8,[Symbol.iterator]:zs[Symbol.iterator]};function j8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _8={time:null,delay:0,duration:250,ease:j8};function E8(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function C8(e){var n,r;e instanceof Us?(n=e._id,e=e._name):(n=J2(),(r=_8).time=ug(),e=e==null?null:e+"");for(var a=this._groups,l=a.length,c=0;c<l;++c)for(var d=a[c],f=d.length,m,h=0;h<f;++h)(m=d[h])&&Ad(m,e,n,h,d,r||E8(m,n));return new Us(a,this._parents,e,n)}Sl.prototype.interrupt=jO;Sl.prototype.transition=C8;const ou=e=>()=>e;function k8(e,{sourceEvent:n,target:r,transform:a,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:l}})}function Ls(e,n,r){this.k=e,this.x=n,this.y=r}Ls.prototype={constructor:Ls,scale:function(e){return e===1?this:new Ls(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Ls(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Md=new Ls(1,0,0);eS.prototype=Ls.prototype;function eS(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Md;return e.__zoom}function Nh(e){e.stopImmediatePropagation()}function qi(e){e.preventDefault(),e.stopImmediatePropagation()}function A8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function M8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ub(){return this.__zoom||Md}function T8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function R8(){return navigator.maxTouchPoints||"ontouchstart"in this}function D8(e,n,r){var a=e.invertX(n[0][0])-r[0][0],l=e.invertX(n[1][0])-r[1][0],c=e.invertY(n[0][1])-r[0][1],d=e.invertY(n[1][1])-r[1][1];return e.translate(l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function tS(){var e=A8,n=M8,r=D8,a=T8,l=R8,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],f=250,m=bu,h=Ed("start","zoom","end"),g,y,x,b=500,S=150,N=0,j=10;function _(B){B.property("__zoom",ub).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",Q).filter(l).on("touchstart.zoom",ee).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(B,U,k,L){var I=B.selection?B.selection():B;I.property("__zoom",ub),B!==I?R(B,U,k,L):I.interrupt().each(function(){D(this,arguments).event(L).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},_.scaleBy=function(B,U,k,L){_.scaleTo(B,function(){var I=this.__zoom.k,H=typeof U=="function"?U.apply(this,arguments):U;return I*H},k,L)},_.scaleTo=function(B,U,k,L){_.transform(B,function(){var I=n.apply(this,arguments),H=this.__zoom,C=k==null?T(I):typeof k=="function"?k.apply(this,arguments):k,$=H.invert(C),Y=typeof U=="function"?U.apply(this,arguments):U;return r(E(M(H,Y),C,$),I,d)},k,L)},_.translateBy=function(B,U,k,L){_.transform(B,function(){return r(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof k=="function"?k.apply(this,arguments):k),n.apply(this,arguments),d)},null,L)},_.translateTo=function(B,U,k,L,I){_.transform(B,function(){var H=n.apply(this,arguments),C=this.__zoom,$=L==null?T(H):typeof L=="function"?L.apply(this,arguments):L;return r(Md.translate($[0],$[1]).scale(C.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof k=="function"?-k.apply(this,arguments):-k),H,d)},L,I)};function M(B,U){return U=Math.max(c[0],Math.min(c[1],U)),U===B.k?B:new Ls(U,B.x,B.y)}function E(B,U,k){var L=U[0]-k[0]*B.k,I=U[1]-k[1]*B.k;return L===B.x&&I===B.y?B:new Ls(B.k,L,I)}function T(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function R(B,U,k,L){B.on("start.zoom",function(){D(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(L).end()}).tween("zoom",function(){var I=this,H=arguments,C=D(I,H).event(L),$=n.apply(I,H),Y=k==null?T($):typeof k=="function"?k.apply(I,H):k,V=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),K=I.__zoom,fe=typeof U=="function"?U.apply(I,H):U,ue=m(K.invert(Y).concat(V/K.k),fe.invert(Y).concat(V/fe.k));return function(te){if(te===1)te=fe;else{var ie=ue(te),xe=V/ie[2];te=new Ls(xe,Y[0]-ie[0]*xe,Y[1]-ie[1]*xe)}C.zoom(null,te)}})}function D(B,U,k){return!k&&B.__zooming||new O(B,U)}function O(B,U){this.that=B,this.args=U,this.active=0,this.sourceEvent=null,this.extent=n.apply(B,U),this.taps=0}O.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,U){return this.mouse&&B!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var U=vn(this.that).datum();h.call(B,this.that,new k8(B,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:h}),U)}};function P(B,...U){if(!e.apply(this,arguments))return;var k=D(this,U).event(B),L=this.__zoom,I=Math.max(c[0],Math.min(c[1],L.k*Math.pow(2,a.apply(this,arguments)))),H=$n(B);if(k.wheel)(k.mouse[0][0]!==H[0]||k.mouse[0][1]!==H[1])&&(k.mouse[1]=L.invert(k.mouse[0]=H)),clearTimeout(k.wheel);else{if(L.k===I)return;k.mouse=[H,L.invert(H)],Su(this),k.start()}qi(B),k.wheel=setTimeout(C,S),k.zoom("mouse",r(E(M(L,I),k.mouse[0],k.mouse[1]),k.extent,d));function C(){k.wheel=null,k.end()}}function q(B,...U){if(x||!e.apply(this,arguments))return;var k=B.currentTarget,L=D(this,U,!0).event(B),I=vn(B.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",V,!0),H=$n(B,k),C=B.clientX,$=B.clientY;H2(B.view),Nh(B),L.mouse=[H,this.__zoom.invert(H)],Su(this),L.start();function Y(K){if(qi(K),!L.moved){var fe=K.clientX-C,ue=K.clientY-$;L.moved=fe*fe+ue*ue>N}L.event(K).zoom("mouse",r(E(L.that.__zoom,L.mouse[0]=$n(K,k),L.mouse[1]),L.extent,d))}function V(K){I.on("mousemove.zoom mouseup.zoom",null),$2(K.view,L.moved),qi(K),L.event(K).end()}}function Q(B,...U){if(e.apply(this,arguments)){var k=this.__zoom,L=$n(B.changedTouches?B.changedTouches[0]:B,this),I=k.invert(L),H=k.k*(B.shiftKey?.5:2),C=r(E(M(k,H),L,I),n.apply(this,U),d);qi(B),f>0?vn(this).transition().duration(f).call(R,C,L,B):vn(this).call(_.transform,C,L,B)}}function ee(B,...U){if(e.apply(this,arguments)){var k=B.touches,L=k.length,I=D(this,U,B.changedTouches.length===L).event(B),H,C,$,Y;for(Nh(B),C=0;C<L;++C)$=k[C],Y=$n($,this),Y=[Y,this.__zoom.invert(Y),$.identifier],I.touch0?!I.touch1&&I.touch0[2]!==Y[2]&&(I.touch1=Y,I.taps=0):(I.touch0=Y,H=!0,I.taps=1+!!g);g&&(g=clearTimeout(g)),H&&(I.taps<2&&(y=Y[0],g=setTimeout(function(){g=null},b)),Su(this),I.start())}}function G(B,...U){if(this.__zooming){var k=D(this,U).event(B),L=B.changedTouches,I=L.length,H,C,$,Y;for(qi(B),H=0;H<I;++H)C=L[H],$=$n(C,this),k.touch0&&k.touch0[2]===C.identifier?k.touch0[0]=$:k.touch1&&k.touch1[2]===C.identifier&&(k.touch1[0]=$);if(C=k.that.__zoom,k.touch1){var V=k.touch0[0],K=k.touch0[1],fe=k.touch1[0],ue=k.touch1[1],te=(te=fe[0]-V[0])*te+(te=fe[1]-V[1])*te,ie=(ie=ue[0]-K[0])*ie+(ie=ue[1]-K[1])*ie;C=M(C,Math.sqrt(te/ie)),$=[(V[0]+fe[0])/2,(V[1]+fe[1])/2],Y=[(K[0]+ue[0])/2,(K[1]+ue[1])/2]}else if(k.touch0)$=k.touch0[0],Y=k.touch0[1];else return;k.zoom("touch",r(E(C,$,Y),k.extent,d))}}function W(B,...U){if(this.__zooming){var k=D(this,U).event(B),L=B.changedTouches,I=L.length,H,C;for(Nh(B),x&&clearTimeout(x),x=setTimeout(function(){x=null},b),H=0;H<I;++H)C=L[H],k.touch0&&k.touch0[2]===C.identifier?delete k.touch0:k.touch1&&k.touch1[2]===C.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(C=$n(C,this),Math.hypot(y[0]-C[0],y[1]-C[1])<j)){var $=vn(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return _.wheelDelta=function(B){return arguments.length?(a=typeof B=="function"?B:ou(+B),_):a},_.filter=function(B){return arguments.length?(e=typeof B=="function"?B:ou(!!B),_):e},_.touchable=function(B){return arguments.length?(l=typeof B=="function"?B:ou(!!B),_):l},_.extent=function(B){return arguments.length?(n=typeof B=="function"?B:ou([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),_):n},_.scaleExtent=function(B){return arguments.length?(c[0]=+B[0],c[1]=+B[1],_):[c[0],c[1]]},_.translateExtent=function(B){return arguments.length?(d[0][0]=+B[0][0],d[1][0]=+B[1][0],d[0][1]=+B[0][1],d[1][1]=+B[1][1],_):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},_.constrain=function(B){return arguments.length?(r=B,_):r},_.duration=function(B){return arguments.length?(f=+B,_):f},_.interpolate=function(B){return arguments.length?(m=B,_):m},_.on=function(){var B=h.on.apply(h,arguments);return B===h?_:B},_.clickDistance=function(B){return arguments.length?(N=(B=+B)*B,_):Math.sqrt(N)},_.tapDistance=function(B){return arguments.length?(j=+B,_):j},_}const cs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:n,sourceHandle:r,targetHandle:a})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:a}", edge id: ${n}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},cl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nS=["Enter"," ","Escape"],sS={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:n,y:r})=>`Moved selected node ${e}. New position, x: ${n}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var _a;(function(e){e.Strict="strict",e.Loose="loose"})(_a||(_a={}));var ao;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ao||(ao={}));var ul;(function(e){e.Partial="partial",e.Full="full"})(ul||(ul={}));const rS={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Nr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Nr||(Nr={}));var Gu;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Gu||(Gu={}));var ze;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ze||(ze={}));const db={[ze.Left]:ze.Right,[ze.Right]:ze.Left,[ze.Top]:ze.Bottom,[ze.Bottom]:ze.Top};function oS(e){return e===null?null:e?"valid":"invalid"}const aS=e=>"id"in e&&"source"in e&&"target"in e,O8=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),mg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),_l=(e,n=[0,0])=>{const{width:r,height:a}=Vs(e),l=e.origin??n,c=r*l[0],d=a*l[1];return{x:e.position.x-c,y:e.position.y-d}},z8=(e,n={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((a,l)=>{const c=typeof l=="string";let d=!n.nodeLookup&&!c?l:void 0;n.nodeLookup&&(d=c?n.nodeLookup.get(l):mg(l)?l:n.nodeLookup.get(l.id));const f=d?Xu(d,n.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Td(a,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Rd(r)},El=(e,n={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(a=>{if(n.filter===void 0||n.filter(a)){const l=Xu(a);r=Td(r,l)}}),Rd(r)},hg=(e,n,[r,a,l]=[0,0,1],c=!1,d=!1)=>{const f={...kl(n,[r,a,l]),width:n.width/l,height:n.height/l},m=[];for(const h of e.values()){const{measured:g,selectable:y=!0,hidden:x=!1}=h;if(d&&!y||x)continue;const b=g.width??h.width??h.initialWidth??null,S=g.height??h.height??h.initialHeight??null,N=dl(f,Ca(h)),j=(b??0)*(S??0),_=c&&N>0;(!h.internals.handleBounds||_||N>=j||h.dragging)&&m.push(h)}return m},I8=(e,n)=>{const r=new Set;return e.forEach(a=>{r.add(a.id)}),n.filter(a=>r.has(a.source)||r.has(a.target))};function L8(e,n){const r=new Map,a=n?.nodes?new Set(n.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&(n?.includeHiddenNodes||!l.hidden)&&(!a||a.has(l.id))&&r.set(l.id,l)}),r}async function H8({nodes:e,width:n,height:r,panZoom:a,minZoom:l,maxZoom:c},d){if(e.size===0)return Promise.resolve(!0);const f=L8(e,d),m=El(f),h=pg(m,n,r,d?.minZoom??l,d?.maxZoom??c,d?.padding??.1);return await a.setViewport(h,{duration:d?.duration,ease:d?.ease,interpolate:d?.interpolate}),Promise.resolve(!0)}function iS({nodeId:e,nextPosition:n,nodeLookup:r,nodeOrigin:a=[0,0],nodeExtent:l,onError:c}){const d=r.get(e),f=d.parentId?r.get(d.parentId):void 0,{x:m,y:h}=f?f.internals.positionAbsolute:{x:0,y:0},g=d.origin??a;let y=d.extent||l;if(d.extent==="parent"&&!d.expandParent)if(!f)c?.("005",cs.error005());else{const b=f.measured.width,S=f.measured.height;b&&S&&(y=[[m,h],[m+b,h+S]])}else f&&ka(d.extent)&&(y=[[d.extent[0][0]+m,d.extent[0][1]+h],[d.extent[1][0]+m,d.extent[1][1]+h]]);const x=ka(y)?go(n,y,d.measured):n;return(d.measured.width===void 0||d.measured.height===void 0)&&c?.("015",cs.error015()),{position:{x:x.x-m+(d.measured.width??0)*g[0],y:x.y-h+(d.measured.height??0)*g[1]},positionAbsolute:x}}async function $8({nodesToRemove:e=[],edgesToRemove:n=[],nodes:r,edges:a,onBeforeDelete:l}){const c=new Set(e.map(x=>x.id)),d=[];for(const x of r){if(x.deletable===!1)continue;const b=c.has(x.id),S=!b&&x.parentId&&d.find(N=>N.id===x.parentId);(b||S)&&d.push(x)}const f=new Set(n.map(x=>x.id)),m=a.filter(x=>x.deletable!==!1),g=I8(d,m);for(const x of m)f.has(x.id)&&!g.find(S=>S.id===x.id)&&g.push(x);if(!l)return{edges:g,nodes:d};const y=await l({nodes:d,edges:g});return typeof y=="boolean"?y?{edges:g,nodes:d}:{edges:[],nodes:[]}:y}const Ea=(e,n=0,r=1)=>Math.min(Math.max(e,n),r),go=(e={x:0,y:0},n,r)=>({x:Ea(e.x,n[0][0],n[1][0]-(r?.width??0)),y:Ea(e.y,n[0][1],n[1][1]-(r?.height??0))});function lS(e,n,r){const{width:a,height:l}=Vs(r),{x:c,y:d}=r.internals.positionAbsolute;return go(e,[[c,d],[c+a,d+l]],n)}const fb=(e,n,r)=>e<n?Ea(Math.abs(e-n),1,n)/n:e>r?-Ea(Math.abs(e-r),1,n)/n:0,cS=(e,n,r=15,a=40)=>{const l=fb(e.x,a,n.width-a)*r,c=fb(e.y,a,n.height-a)*r;return[l,c]},Td=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),fp=({x:e,y:n,width:r,height:a})=>({x:e,y:n,x2:e+r,y2:n+a}),Rd=({x:e,y:n,x2:r,y2:a})=>({x:e,y:n,width:r-e,height:a-n}),Ca=(e,n=[0,0])=>{const{x:r,y:a}=mg(e)?e.internals.positionAbsolute:_l(e,n);return{x:r,y:a,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Xu=(e,n=[0,0])=>{const{x:r,y:a}=mg(e)?e.internals.positionAbsolute:_l(e,n);return{x:r,y:a,x2:r+(e.measured?.width??e.width??e.initialWidth??0),y2:a+(e.measured?.height??e.height??e.initialHeight??0)}},uS=(e,n)=>Rd(Td(fp(e),fp(n))),dl=(e,n)=>{const r=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),a=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(r*a)},mb=e=>Bn(e.width)&&Bn(e.height)&&Bn(e.x)&&Bn(e.y),Bn=e=>!isNaN(e)&&isFinite(e),P8=(e,n)=>{},Cl=(e,n=[1,1])=>({x:n[0]*Math.round(e.x/n[0]),y:n[1]*Math.round(e.y/n[1])}),kl=({x:e,y:n},[r,a,l],c=!1,d=[1,1])=>{const f={x:(e-r)/l,y:(n-a)/l};return c?Cl(f,d):f},Zu=({x:e,y:n},[r,a,l])=>({x:e*l+r,y:n*l+a});function la(e,n){if(typeof e=="number")return Math.floor((n-n/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(n*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function B8(e,n,r){if(typeof e=="string"||typeof e=="number"){const a=la(e,r),l=la(e,n);return{top:a,right:l,bottom:a,left:l,x:l*2,y:a*2}}if(typeof e=="object"){const a=la(e.top??e.y??0,r),l=la(e.bottom??e.y??0,r),c=la(e.left??e.x??0,n),d=la(e.right??e.x??0,n);return{top:a,right:d,bottom:l,left:c,x:c+d,y:a+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function U8(e,n,r,a,l,c){const{x:d,y:f}=Zu(e,[n,r,a]),{x:m,y:h}=Zu({x:e.x+e.width,y:e.y+e.height},[n,r,a]),g=l-m,y=c-h;return{left:Math.floor(d),top:Math.floor(f),right:Math.floor(g),bottom:Math.floor(y)}}const pg=(e,n,r,a,l,c)=>{const d=B8(c,n,r),f=(n-d.x)/e.width,m=(r-d.y)/e.height,h=Math.min(f,m),g=Ea(h,a,l),y=e.x+e.width/2,x=e.y+e.height/2,b=n/2-y*g,S=r/2-x*g,N=U8(e,b,S,g,n,r),j={left:Math.min(N.left-d.left,0),top:Math.min(N.top-d.top,0),right:Math.min(N.right-d.right,0),bottom:Math.min(N.bottom-d.bottom,0)};return{x:b-j.left+j.right,y:S-j.top+j.bottom,zoom:g}},fl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ka(e){return e!=null&&e!=="parent"}function Vs(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function dS(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function fS(e,n={width:0,height:0},r,a,l){const c={...e},d=a.get(r);if(d){const f=d.origin||l;c.x+=d.internals.positionAbsolute.x-(n.width??0)*f[0],c.y+=d.internals.positionAbsolute.y-(n.height??0)*f[1]}return c}function hb(e,n){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}function V8(){let e,n;return{promise:new Promise((a,l)=>{e=a,n=l}),resolve:e,reject:n}}function q8(e){return{...sS,...e||{}}}function Qi(e,{snapGrid:n=[0,0],snapToGrid:r=!1,transform:a,containerBounds:l}){const{x:c,y:d}=ss(e),f=kl({x:c-(l?.left??0),y:d-(l?.top??0)},a),{x:m,y:h}=r?Cl(f,n):f;return{xSnapped:m,ySnapped:h,...f}}const gg=e=>({width:e.offsetWidth,height:e.offsetHeight}),mS=e=>e?.getRootNode?.()||window?.document,F8=["INPUT","SELECT","TEXTAREA"];function hS(e){const n=e.composedPath?.()?.[0]||e.target;return n?.nodeType!==1?!1:F8.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const pS=e=>"clientX"in e,ss=(e,n)=>{const r=pS(e),a=r?e.clientX:e.touches?.[0].clientX,l=r?e.clientY:e.touches?.[0].clientY;return{x:a-(n?.left??0),y:l-(n?.top??0)}},pb=(e,n,r,a,l)=>{const c=n.querySelectorAll(`.${e}`);return!c||!c.length?null:Array.from(c).map(d=>{const f=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),type:e,nodeId:l,position:d.getAttribute("data-handlepos"),x:(f.left-r.left)/a,y:(f.top-r.top)/a,...gg(d)}})};function gS({sourceX:e,sourceY:n,targetX:r,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f}){const m=e*.125+l*.375+d*.375+r*.125,h=n*.125+c*.375+f*.375+a*.125,g=Math.abs(m-e),y=Math.abs(h-n);return[m,h,g,y]}function au(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function gb({pos:e,x1:n,y1:r,x2:a,y2:l,c}){switch(e){case ze.Left:return[n-au(n-a,c),r];case ze.Right:return[n+au(a-n,c),r];case ze.Top:return[n,r-au(r-l,c)];case ze.Bottom:return[n,r+au(l-r,c)]}}function xS({sourceX:e,sourceY:n,sourcePosition:r=ze.Bottom,targetX:a,targetY:l,targetPosition:c=ze.Top,curvature:d=.25}){const[f,m]=gb({pos:r,x1:e,y1:n,x2:a,y2:l,c:d}),[h,g]=gb({pos:c,x1:a,y1:l,x2:e,y2:n,c:d}),[y,x,b,S]=gS({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:f,sourceControlY:m,targetControlX:h,targetControlY:g});return[`M${e},${n} C${f},${m} ${h},${g} ${a},${l}`,y,x,b,S]}function yS({sourceX:e,sourceY:n,targetX:r,targetY:a}){const l=Math.abs(r-e)/2,c=r<e?r+l:r-l,d=Math.abs(a-n)/2,f=a<n?a+d:a-d;return[c,f,l,d]}function Y8({sourceNode:e,targetNode:n,selected:r=!1,zIndex:a,elevateOnSelect:l=!1}){if(a!==void 0)return a;const c=l&&r?1e3:0,d=Math.max(e.parentId?e.internals.z:0,n.parentId?n.internals.z:0);return c+d}function G8({sourceNode:e,targetNode:n,width:r,height:a,transform:l}){const c=Td(Xu(e),Xu(n));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d={x:-l[0]/l[2],y:-l[1]/l[2],width:r/l[2],height:a/l[2]};return dl(d,Rd(c))>0}const X8=({source:e,sourceHandle:n,target:r,targetHandle:a})=>`xy-edge__${e}${n||""}-${r}${a||""}`,Z8=(e,n)=>n.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),W8=(e,n)=>{if(!e.source||!e.target)return n;let r;return aS(e)?r={...e}:r={...e,id:X8(e)},Z8(r,n)?n:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,n.concat(r))};function vS({sourceX:e,sourceY:n,targetX:r,targetY:a}){const[l,c,d,f]=yS({sourceX:e,sourceY:n,targetX:r,targetY:a});return[`M ${e},${n}L ${r},${a}`,l,c,d,f]}const xb={[ze.Left]:{x:-1,y:0},[ze.Right]:{x:1,y:0},[ze.Top]:{x:0,y:-1},[ze.Bottom]:{x:0,y:1}},K8=({source:e,sourcePosition:n=ze.Bottom,target:r})=>n===ze.Left||n===ze.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},yb=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function Q8({source:e,sourcePosition:n=ze.Bottom,target:r,targetPosition:a=ze.Top,center:l,offset:c,stepPosition:d}){const f=xb[n],m=xb[a],h={x:e.x+f.x*c,y:e.y+f.y*c},g={x:r.x+m.x*c,y:r.y+m.y*c},y=K8({source:h,sourcePosition:n,target:g}),x=y.x!==0?"x":"y",b=y[x];let S=[],N,j;const _={x:0,y:0},M={x:0,y:0},[,,E,T]=yS({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(f[x]*m[x]===-1){x==="x"?(N=l.x??h.x+(g.x-h.x)*d,j=l.y??(h.y+g.y)/2):(N=l.x??(h.x+g.x)/2,j=l.y??h.y+(g.y-h.y)*d);const D=[{x:N,y:h.y},{x:N,y:g.y}],O=[{x:h.x,y:j},{x:g.x,y:j}];f[x]===b?S=x==="x"?D:O:S=x==="x"?O:D}else{const D=[{x:h.x,y:g.y}],O=[{x:g.x,y:h.y}];if(x==="x"?S=f.x===b?O:D:S=f.y===b?D:O,n===a){const G=Math.abs(e[x]-r[x]);if(G<=c){const W=Math.min(c-1,c-G);f[x]===b?_[x]=(h[x]>e[x]?-1:1)*W:M[x]=(g[x]>r[x]?-1:1)*W}}if(n!==a){const G=x==="x"?"y":"x",W=f[x]===m[G],B=h[G]>g[G],U=h[G]<g[G];(f[x]===1&&(!W&&B||W&&U)||f[x]!==1&&(!W&&U||W&&B))&&(S=x==="x"?D:O)}const P={x:h.x+_.x,y:h.y+_.y},q={x:g.x+M.x,y:g.y+M.y},Q=Math.max(Math.abs(P.x-S[0].x),Math.abs(q.x-S[0].x)),ee=Math.max(Math.abs(P.y-S[0].y),Math.abs(q.y-S[0].y));Q>=ee?(N=(P.x+q.x)/2,j=S[0].y):(N=S[0].x,j=(P.y+q.y)/2)}return[[e,{x:h.x+_.x,y:h.y+_.y},...S,{x:g.x+M.x,y:g.y+M.y},r],N,j,E,T]}function J8(e,n,r,a){const l=Math.min(yb(e,n)/2,yb(n,r)/2,a),{x:c,y:d}=n;if(e.x===c&&c===r.x||e.y===d&&d===r.y)return`L${c} ${d}`;if(e.y===d){const h=e.x<r.x?-1:1,g=e.y<r.y?1:-1;return`L ${c+l*h},${d}Q ${c},${d} ${c},${d+l*g}`}const f=e.x<r.x?1:-1,m=e.y<r.y?-1:1;return`L ${c},${d+l*m}Q ${c},${d} ${c+l*f},${d}`}function mp({sourceX:e,sourceY:n,sourcePosition:r=ze.Bottom,targetX:a,targetY:l,targetPosition:c=ze.Top,borderRadius:d=5,centerX:f,centerY:m,offset:h=20,stepPosition:g=.5}){const[y,x,b,S,N]=Q8({source:{x:e,y:n},sourcePosition:r,target:{x:a,y:l},targetPosition:c,center:{x:f,y:m},offset:h,stepPosition:g});return[y.reduce((_,M,E)=>{let T="";return E>0&&E<y.length-1?T=J8(y[E-1],M,y[E+1],d):T=`${E===0?"M":"L"}${M.x} ${M.y}`,_+=T,_},""),x,b,S,N]}function vb(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function e9(e){const{sourceNode:n,targetNode:r}=e;if(!vb(n)||!vb(r))return null;const a=n.internals.handleBounds||bb(n.handles),l=r.internals.handleBounds||bb(r.handles),c=wb(a?.source??[],e.sourceHandle),d=wb(e.connectionMode===_a.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),e.targetHandle);if(!c||!d)return e.onError?.("008",cs.error008(c?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=c?.position||ze.Bottom,m=d?.position||ze.Top,h=ml(n,c,f),g=ml(r,d,m);return{sourceX:h.x,sourceY:h.y,targetX:g.x,targetY:g.y,sourcePosition:f,targetPosition:m}}function bb(e){if(!e)return null;const n=[],r=[];for(const a of e)a.width=a.width??1,a.height=a.height??1,a.type==="source"?n.push(a):a.type==="target"&&r.push(a);return{source:n,target:r}}function ml(e,n,r=ze.Left,a=!1){const l=(n?.x??0)+e.internals.positionAbsolute.x,c=(n?.y??0)+e.internals.positionAbsolute.y,{width:d,height:f}=n??Vs(e);if(a)return{x:l+d/2,y:c+f/2};switch(n?.position??r){case ze.Top:return{x:l+d/2,y:c};case ze.Right:return{x:l+d,y:c+f/2};case ze.Bottom:return{x:l+d/2,y:c+f};case ze.Left:return{x:l,y:c+f/2}}}function wb(e,n){return e&&(n?e.find(r=>r.id===n):e[0])||null}function hp(e,n){return e?typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`:""}function t9(e,{id:n,defaultColor:r,defaultMarkerStart:a,defaultMarkerEnd:l}){const c=new Set;return e.reduce((d,f)=>([f.markerStart||a,f.markerEnd||l].forEach(m=>{if(m&&typeof m=="object"){const h=hp(m,n);c.has(h)||(d.push({id:h,color:m.color||r,...m}),c.add(h))}}),d),[]).sort((d,f)=>d.id.localeCompare(f.id))}const xg={nodeOrigin:[0,0],nodeExtent:cl,elevateNodesOnSelect:!0,defaults:{}},n9={...xg,checkEquality:!0};function yg(e,n){const r={...e};for(const a in n)n[a]!==void 0&&(r[a]=n[a]);return r}function s9(e,n,r){const a=yg(xg,r);for(const l of e.values())if(l.parentId)vg(l,e,n,a);else{const c=_l(l,a.nodeOrigin),d=ka(l.extent)?l.extent:a.nodeExtent,f=go(c,d,Vs(l));l.internals.positionAbsolute=f}}function pp(e,n,r,a){const l=yg(n9,a);let c=e.length>0;const d=new Map(n),f=l?.elevateNodesOnSelect?1e3:0;n.clear(),r.clear();for(const m of e){let h=d.get(m.id);if(l.checkEquality&&m===h?.internals.userNode)n.set(m.id,h);else{const g=_l(m,l.nodeOrigin),y=ka(m.extent)?m.extent:l.nodeExtent,x=go(g,y,Vs(m));h={...l.defaults,...m,measured:{width:m.measured?.width,height:m.measured?.height},internals:{positionAbsolute:x,handleBounds:m.measured?h?.internals.handleBounds:void 0,z:bS(m,f),userNode:m}},n.set(m.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),m.parentId&&vg(h,n,r,a)}return c}function r9(e,n){if(!e.parentId)return;const r=n.get(e.parentId);r?r.set(e.id,e):n.set(e.parentId,new Map([[e.id,e]]))}function vg(e,n,r,a){const{elevateNodesOnSelect:l,nodeOrigin:c,nodeExtent:d}=yg(xg,a),f=e.parentId,m=n.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}r9(e,r);const h=l?1e3:0,{x:g,y,z:x}=o9(e,m,c,d,h),{positionAbsolute:b}=e.internals,S=g!==b.x||y!==b.y;(S||x!==e.internals.z)&&n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:g,y}:b,z:x}})}function bS(e,n){return(Bn(e.zIndex)?e.zIndex:0)+(e.selected?n:0)}function o9(e,n,r,a,l){const{x:c,y:d}=n.internals.positionAbsolute,f=Vs(e),m=_l(e,r),h=ka(e.extent)?go(m,e.extent,f):m;let g=go({x:c+h.x,y:d+h.y},a,f);e.extent==="parent"&&(g=lS(g,f,n));const y=bS(e,l),x=n.internals.z??0;return{x:g.x,y:g.y,z:x>=y?x+1:y}}function bg(e,n,r,a=[0,0]){const l=[],c=new Map;for(const d of e){const f=n.get(d.parentId);if(!f)continue;const m=c.get(d.parentId)?.expandedRect??Ca(f),h=uS(m,d.rect);c.set(d.parentId,{expandedRect:h,parent:f})}return c.size>0&&c.forEach(({expandedRect:d,parent:f},m)=>{const h=f.internals.positionAbsolute,g=Vs(f),y=f.origin??a,x=d.x<h.x?Math.round(Math.abs(h.x-d.x)):0,b=d.y<h.y?Math.round(Math.abs(h.y-d.y)):0,S=Math.max(g.width,Math.round(d.width)),N=Math.max(g.height,Math.round(d.height)),j=(S-g.width)*y[0],_=(N-g.height)*y[1];(x>0||b>0||j||_)&&(l.push({id:m,type:"position",position:{x:f.position.x-x+j,y:f.position.y-b+_}}),r.get(m)?.forEach(M=>{e.some(E=>E.id===M.id)||l.push({id:M.id,type:"position",position:{x:M.position.x+x,y:M.position.y+b}})})),(g.width<d.width||g.height<d.height||x||b)&&l.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:S+(x?y[0]*x-j:0),height:N+(b?y[1]*b-_:0)}})}),l}function a9(e,n,r,a,l,c){const d=a?.querySelector(".xyflow__viewport");let f=!1;if(!d)return{changes:[],updatedInternals:f};const m=[],h=window.getComputedStyle(d),{m22:g}=new window.DOMMatrixReadOnly(h.transform),y=[];for(const x of e.values()){const b=n.get(x.id);if(!b)continue;if(b.hidden){n.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),f=!0;continue}const S=gg(x.nodeElement),N=b.measured.width!==S.width||b.measured.height!==S.height;if(!!(S.width&&S.height&&(N||!b.internals.handleBounds||x.force))){const _=x.nodeElement.getBoundingClientRect(),M=ka(b.extent)?b.extent:c;let{positionAbsolute:E}=b.internals;b.parentId&&b.extent==="parent"?E=lS(E,S,n.get(b.parentId)):M&&(E=go(E,M,S));const T={...b,measured:S,internals:{...b.internals,positionAbsolute:E,handleBounds:{source:pb("source",x.nodeElement,_,g,b.id),target:pb("target",x.nodeElement,_,g,b.id)}}};n.set(b.id,T),b.parentId&&vg(T,n,r,{nodeOrigin:l}),f=!0,N&&(m.push({id:b.id,type:"dimensions",dimensions:S}),b.expandParent&&b.parentId&&y.push({id:b.id,parentId:b.parentId,rect:Ca(T,l)}))}}if(y.length>0){const x=bg(y,n,r,l);m.push(...x)}return{changes:m,updatedInternals:f}}async function i9({delta:e,panZoom:n,transform:r,translateExtent:a,width:l,height:c}){if(!n||!e.x&&!e.y)return Promise.resolve(!1);const d=await n.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[l,c]],a),f=!!d&&(d.x!==r[0]||d.y!==r[1]||d.k!==r[2]);return Promise.resolve(f)}function Nb(e,n,r,a,l,c){let d=l;const f=a.get(d)||new Map;a.set(d,f.set(r,n)),d=`${l}-${e}`;const m=a.get(d)||new Map;if(a.set(d,m.set(r,n)),c){d=`${l}-${e}-${c}`;const h=a.get(d)||new Map;a.set(d,h.set(r,n))}}function wS(e,n,r){e.clear(),n.clear();for(const a of r){const{source:l,target:c,sourceHandle:d=null,targetHandle:f=null}=a,m={edgeId:a.id,source:l,target:c,sourceHandle:d,targetHandle:f},h=`${l}-${d}--${c}-${f}`,g=`${c}-${f}--${l}-${d}`;Nb("source",m,g,e,l,d),Nb("target",m,h,e,c,f),n.set(a.id,a)}}function NS(e,n){if(!e.parentId)return!1;const r=n.get(e.parentId);return r?r.selected?!0:NS(r,n):!1}function Sb(e,n,r){let a=e;do{if(a?.matches?.(n))return!0;if(a===r)return!1;a=a?.parentElement}while(a);return!1}function l9(e,n,r,a){const l=new Map;for(const[c,d]of e)if((d.selected||d.id===a)&&(!d.parentId||!NS(d,e))&&(d.draggable||n&&typeof d.draggable>"u")){const f=e.get(c);f&&l.set(c,{id:c,position:f.position||{x:0,y:0},distance:{x:r.x-f.internals.positionAbsolute.x,y:r.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function Sh({nodeId:e,dragItems:n,nodeLookup:r,dragging:a=!0}){const l=[];for(const[d,f]of n){const m=r.get(d)?.internals.userNode;m&&l.push({...m,position:f.position,dragging:a})}if(!e)return[l[0],l];const c=r.get(e)?.internals.userNode;return[c?{...c,position:n.get(e)?.position||c.position,dragging:a}:l[0],l]}function c9({dragItems:e,snapGrid:n,x:r,y:a}){const l=e.values().next().value;if(!l)return null;const c={x:r-l.distance.x,y:a-l.distance.y},d=Cl(c,n);return{x:d.x-c.x,y:d.y-c.y}}function u9({onNodeMouseDown:e,getStoreItems:n,onDragStart:r,onDrag:a,onDragStop:l}){let c={x:null,y:null},d=0,f=new Map,m=!1,h={x:0,y:0},g=null,y=!1,x=null,b=!1,S=!1,N=null;function j({noDragClassName:M,handleSelector:E,domNode:T,isSelectable:R,nodeId:D,nodeClickDistance:O=0}){x=vn(T);function P({x:G,y:W}){const{nodeLookup:B,nodeExtent:U,snapGrid:k,snapToGrid:L,nodeOrigin:I,onNodeDrag:H,onSelectionDrag:C,onError:$,updateNodePositions:Y}=n();c={x:G,y:W};let V=!1;const K=f.size>1,fe=K&&U?fp(El(f)):null,ue=K&&L?c9({dragItems:f,snapGrid:k,x:G,y:W}):null;for(const[te,ie]of f){if(!B.has(te))continue;let xe={x:G-ie.distance.x,y:W-ie.distance.y};L&&(xe=ue?{x:Math.round(xe.x+ue.x),y:Math.round(xe.y+ue.y)}:Cl(xe,k));let ve=null;if(K&&U&&!ie.extent&&fe){const{positionAbsolute:he}=ie.internals,X=he.x-fe.x+U[0][0],pe=he.x+ie.measured.width-fe.x2+U[1][0],Ne=he.y-fe.y+U[0][1],ye=he.y+ie.measured.height-fe.y2+U[1][1];ve=[[X,Ne],[pe,ye]]}const{position:be,positionAbsolute:ne}=iS({nodeId:te,nextPosition:xe,nodeLookup:B,nodeExtent:ve||U,nodeOrigin:I,onError:$});V=V||ie.position.x!==be.x||ie.position.y!==be.y,ie.position=be,ie.internals.positionAbsolute=ne}if(S=S||V,!!V&&(Y(f,!0),N&&(a||H||!D&&C))){const[te,ie]=Sh({nodeId:D,dragItems:f,nodeLookup:B});a?.(N,f,te,ie),H?.(N,te,ie),D||C?.(N,ie)}}async function q(){if(!g)return;const{transform:G,panBy:W,autoPanSpeed:B,autoPanOnNodeDrag:U}=n();if(!U){m=!1,cancelAnimationFrame(d);return}const[k,L]=cS(h,g,B);(k!==0||L!==0)&&(c.x=(c.x??0)-k/G[2],c.y=(c.y??0)-L/G[2],await W({x:k,y:L})&&P(c)),d=requestAnimationFrame(q)}function Q(G){const{nodeLookup:W,multiSelectionActive:B,nodesDraggable:U,transform:k,snapGrid:L,snapToGrid:I,selectNodesOnDrag:H,onNodeDragStart:C,onSelectionDragStart:$,unselectNodesAndEdges:Y}=n();y=!0,(!H||!R)&&!B&&D&&(W.get(D)?.selected||Y()),R&&H&&D&&e?.(D);const V=Qi(G.sourceEvent,{transform:k,snapGrid:L,snapToGrid:I,containerBounds:g});if(c=V,f=l9(W,U,V,D),f.size>0&&(r||C||!D&&$)){const[K,fe]=Sh({nodeId:D,dragItems:f,nodeLookup:W});r?.(G.sourceEvent,f,K,fe),C?.(G.sourceEvent,K,fe),D||$?.(G.sourceEvent,fe)}}const ee=P2().clickDistance(O).on("start",G=>{const{domNode:W,nodeDragThreshold:B,transform:U,snapGrid:k,snapToGrid:L}=n();g=W?.getBoundingClientRect()||null,b=!1,S=!1,N=G.sourceEvent,B===0&&Q(G),c=Qi(G.sourceEvent,{transform:U,snapGrid:k,snapToGrid:L,containerBounds:g}),h=ss(G.sourceEvent,g)}).on("drag",G=>{const{autoPanOnNodeDrag:W,transform:B,snapGrid:U,snapToGrid:k,nodeDragThreshold:L,nodeLookup:I}=n(),H=Qi(G.sourceEvent,{transform:B,snapGrid:U,snapToGrid:k,containerBounds:g});if(N=G.sourceEvent,(G.sourceEvent.type==="touchmove"&&G.sourceEvent.touches.length>1||D&&!I.has(D))&&(b=!0),!b){if(!m&&W&&y&&(m=!0,q()),!y){const C=H.xSnapped-(c.x??0),$=H.ySnapped-(c.y??0);Math.sqrt(C*C+$*$)>L&&Q(G)}(c.x!==H.xSnapped||c.y!==H.ySnapped)&&f&&y&&(h=ss(G.sourceEvent,g),P(H))}}).on("end",G=>{if(!(!y||b)&&(m=!1,y=!1,cancelAnimationFrame(d),f.size>0)){const{nodeLookup:W,updateNodePositions:B,onNodeDragStop:U,onSelectionDragStop:k}=n();if(S&&(B(f,!1),S=!1),l||U||!D&&k){const[L,I]=Sh({nodeId:D,dragItems:f,nodeLookup:W,dragging:!1});l?.(G.sourceEvent,f,L,I),U?.(G.sourceEvent,L,I),D||k?.(G.sourceEvent,I)}}}).filter(G=>{const W=G.target;return!G.button&&(!M||!Sb(W,`.${M}`,T))&&(!E||Sb(W,E,T))});x.call(ee)}function _(){x?.on(".drag",null)}return{update:j,destroy:_}}function d9(e,n,r){const a=[],l={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const c of n.values())dl(l,Ca(c))>0&&a.push(c);return a}const f9=250;function m9(e,n,r,a){let l=[],c=1/0;const d=d9(e,r,n+f9);for(const f of d){const m=[...f.internals.handleBounds?.source??[],...f.internals.handleBounds?.target??[]];for(const h of m){if(a.nodeId===h.nodeId&&a.type===h.type&&a.id===h.id)continue;const{x:g,y}=ml(f,h,h.position,!0),x=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(y-e.y,2));x>n||(x<c?(l=[{...h,x:g,y}],c=x):x===c&&l.push({...h,x:g,y}))}}if(!l.length)return null;if(l.length>1){const f=a.type==="source"?"target":"source";return l.find(m=>m.type===f)??l[0]}return l[0]}function SS(e,n,r,a,l,c=!1){const d=a.get(e);if(!d)return null;const f=l==="strict"?d.internals.handleBounds?.[n]:[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]],m=(r?f?.find(h=>h.id===r):f?.[0])??null;return m&&c?{...m,...ml(d,m,m.position,!0)}:m}function jS(e,n){return e||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function h9(e,n){let r=null;return n?r=!0:e&&!n&&(r=!1),r}const _S=()=>!0;function p9(e,{connectionMode:n,connectionRadius:r,handleId:a,nodeId:l,edgeUpdaterType:c,isTarget:d,domNode:f,nodeLookup:m,lib:h,autoPanOnConnect:g,flowId:y,panBy:x,cancelConnection:b,onConnectStart:S,onConnect:N,onConnectEnd:j,isValidConnection:_=_S,onReconnectEnd:M,updateConnection:E,getTransform:T,getFromHandle:R,autoPanSpeed:D,dragThreshold:O=1,handleDomNode:P}){const q=mS(e.target);let Q=0,ee;const{x:G,y:W}=ss(e),B=jS(c,P),U=f?.getBoundingClientRect();let k=!1;if(!U||!B)return;const L=SS(l,B,a,m,n);if(!L)return;let I=ss(e,U),H=!1,C=null,$=!1,Y=null;function V(){if(!g||!U)return;const[be,ne]=cS(I,U,D);x({x:be,y:ne}),Q=requestAnimationFrame(V)}const K={...L,nodeId:l,type:B,position:L.position},fe=m.get(l);let te={inProgress:!0,isValid:null,from:ml(fe,K,ze.Left,!0),fromHandle:K,fromPosition:K.position,fromNode:fe,to:I,toHandle:null,toPosition:db[K.position],toNode:null};function ie(){k=!0,E(te),S?.(e,{nodeId:l,handleId:a,handleType:B})}O===0&&ie();function xe(be){if(!k){const{x:pe,y:Ne}=ss(be),ye=pe-G,Oe=Ne-W;if(!(ye*ye+Oe*Oe>O*O))return;ie()}if(!R()||!K){ve(be);return}const ne=T();I=ss(be,U),ee=m9(kl(I,ne,!1,[1,1]),r,m,K),H||(V(),H=!0);const he=ES(be,{handle:ee,connectionMode:n,fromNodeId:l,fromHandleId:a,fromType:d?"target":"source",isValidConnection:_,doc:q,lib:h,flowId:y,nodeLookup:m});Y=he.handleDomNode,C=he.connection,$=h9(!!ee,he.isValid);const X={...te,isValid:$,to:he.toHandle&&$?Zu({x:he.toHandle.x,y:he.toHandle.y},ne):I,toHandle:he.toHandle,toPosition:$&&he.toHandle?he.toHandle.position:db[K.position],toNode:he.toHandle?m.get(he.toHandle.nodeId):null};$&&ee&&te.toHandle&&X.toHandle&&te.toHandle.type===X.toHandle.type&&te.toHandle.nodeId===X.toHandle.nodeId&&te.toHandle.id===X.toHandle.id&&te.to.x===X.to.x&&te.to.y===X.to.y||(E(X),te=X)}function ve(be){if(k){(ee||Y)&&C&&$&&N?.(C);const{inProgress:ne,...he}=te,X={...he,toPosition:te.toHandle?te.toPosition:null};j?.(be,X),c&&M?.(be,X)}b(),cancelAnimationFrame(Q),H=!1,$=!1,C=null,Y=null,q.removeEventListener("mousemove",xe),q.removeEventListener("mouseup",ve),q.removeEventListener("touchmove",xe),q.removeEventListener("touchend",ve)}q.addEventListener("mousemove",xe),q.addEventListener("mouseup",ve),q.addEventListener("touchmove",xe),q.addEventListener("touchend",ve)}function ES(e,{handle:n,connectionMode:r,fromNodeId:a,fromHandleId:l,fromType:c,doc:d,lib:f,flowId:m,isValidConnection:h=_S,nodeLookup:g}){const y=c==="target",x=n?d.querySelector(`.${f}-flow__handle[data-id="${m}-${n?.nodeId}-${n?.id}-${n?.type}"]`):null,{x:b,y:S}=ss(e),N=d.elementFromPoint(b,S),j=N?.classList.contains(`${f}-flow__handle`)?N:x,_={handleDomNode:j,isValid:!1,connection:null,toHandle:null};if(j){const M=jS(void 0,j),E=j.getAttribute("data-nodeid"),T=j.getAttribute("data-handleid"),R=j.classList.contains("connectable"),D=j.classList.contains("connectableend");if(!E||!M)return _;const O={source:y?E:a,sourceHandle:y?T:l,target:y?a:E,targetHandle:y?l:T};_.connection=O;const q=R&&D&&(r===_a.Strict?y&&M==="source"||!y&&M==="target":E!==a||T!==l);_.isValid=q&&h(O),_.toHandle=SS(E,M,T,g,r,!0)}return _}const gp={onPointerDown:p9,isValid:ES};function g9({domNode:e,panZoom:n,getTransform:r,getViewScale:a}){const l=vn(e);function c({translateExtent:f,width:m,height:h,zoomStep:g=1,pannable:y=!0,zoomable:x=!0,inversePan:b=!1}){const S=E=>{if(E.sourceEvent.type!=="wheel"||!n)return;const T=r(),R=E.sourceEvent.ctrlKey&&fl()?10:1,D=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*g,O=T[2]*Math.pow(2,D*R);n.scaleTo(O)};let N=[0,0];const j=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(N=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},_=E=>{const T=r();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!n)return;const R=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],D=[R[0]-N[0],R[1]-N[1]];N=R;const O=a()*Math.max(T[2],Math.log(T[2]))*(b?-1:1),P={x:T[0]-D[0]*O,y:T[1]-D[1]*O},q=[[0,0],[m,h]];n.setViewportConstrained({x:P.x,y:P.y,zoom:T[2]},q,f)},M=tS().on("start",j).on("zoom",y?_:null).on("zoom.wheel",x?S:null);l.call(M,{})}function d(){l.on("zoom",null)}return{update:c,destroy:d,pointer:$n}}const x9=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,Dd=e=>({x:e.x,y:e.y,zoom:e.k}),jh=({x:e,y:n,zoom:r})=>Md.translate(e,n).scale(r),ca=(e,n)=>e.target.closest(`.${n}`),CS=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),y9=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,_h=(e,n=0,r=y9,a=()=>{})=>{const l=typeof n=="number"&&n>0;return l||a(),l?e.transition().duration(n).ease(r).on("end",a):e},kS=e=>{const n=e.ctrlKey&&fl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n};function v9({zoomPanValues:e,noWheelClassName:n,d3Selection:r,d3Zoom:a,panOnScrollMode:l,panOnScrollSpeed:c,zoomOnPinch:d,onPanZoomStart:f,onPanZoom:m,onPanZoomEnd:h}){return g=>{if(ca(g,n))return!1;g.preventDefault(),g.stopImmediatePropagation();const y=r.property("__zoom").k||1;if(g.ctrlKey&&d){const j=$n(g),_=kS(g),M=y*Math.pow(2,_);a.scaleTo(r,M,j,g);return}const x=g.deltaMode===1?20:1;let b=l===ao.Vertical?0:g.deltaX*x,S=l===ao.Horizontal?0:g.deltaY*x;!fl()&&g.shiftKey&&l!==ao.Vertical&&(b=g.deltaY*x,S=0),a.translateBy(r,-(b/y)*c,-(S/y)*c,{internal:!0});const N=Dd(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,f?.(g,N)),e.isPanScrolling&&(m?.(g,N),e.panScrollTimeout=setTimeout(()=>{h?.(g,N),e.isPanScrolling=!1},150))}}function b9({noWheelClassName:e,preventScrolling:n,d3ZoomHandler:r}){return function(a,l){const c=a.type==="wheel",d=!n&&c&&!a.ctrlKey,f=ca(a,e);if(a.ctrlKey&&c&&f&&a.preventDefault(),d||f)return null;a.preventDefault(),r.call(this,a,l)}}function w9({zoomPanValues:e,onDraggingChange:n,onPanZoomStart:r}){return a=>{if(a.sourceEvent?.internal)return;const l=Dd(a.transform);e.mouseButton=a.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=l,a.sourceEvent?.type==="mousedown"&&n(!0),r&&r?.(a.sourceEvent,l)}}function N9({zoomPanValues:e,panOnDrag:n,onPaneContextMenu:r,onTransformChange:a,onPanZoom:l}){return c=>{e.usedRightMouseButton=!!(r&&CS(n,e.mouseButton??0)),c.sourceEvent?.sync||a([c.transform.x,c.transform.y,c.transform.k]),l&&!c.sourceEvent?.internal&&l?.(c.sourceEvent,Dd(c.transform))}}function S9({zoomPanValues:e,panOnDrag:n,panOnScroll:r,onDraggingChange:a,onPanZoomEnd:l,onPaneContextMenu:c}){return d=>{if(!d.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,c&&CS(n,e.mouseButton??0)&&!e.usedRightMouseButton&&d.sourceEvent&&c(d.sourceEvent),e.usedRightMouseButton=!1,a(!1),l&&x9(e.prevViewport,d.transform))){const f=Dd(d.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l?.(d.sourceEvent,f)},r?150:0)}}}function j9({zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:r,panOnDrag:a,panOnScroll:l,zoomOnDoubleClick:c,userSelectionActive:d,noWheelClassName:f,noPanClassName:m,lib:h}){return g=>{const y=e||n,x=r&&g.ctrlKey;if(g.button===1&&g.type==="mousedown"&&(ca(g,`${h}-flow__node`)||ca(g,`${h}-flow__edge`)))return!0;if(!a&&!y&&!l&&!c&&!r||d||ca(g,f)&&g.type==="wheel"||ca(g,m)&&(g.type!=="wheel"||l&&g.type==="wheel"&&!e)||!r&&g.ctrlKey&&g.type==="wheel")return!1;if(!r&&g.type==="touchstart"&&g.touches?.length>1)return g.preventDefault(),!1;if(!y&&!l&&!x&&g.type==="wheel"||!a&&(g.type==="mousedown"||g.type==="touchstart")||Array.isArray(a)&&!a.includes(g.button)&&g.type==="mousedown")return!1;const b=Array.isArray(a)&&a.includes(g.button)||!g.button||g.button<=1;return(!g.ctrlKey||g.type==="wheel")&&b}}function _9({domNode:e,minZoom:n,maxZoom:r,paneClickDistance:a,translateExtent:l,viewport:c,onPanZoom:d,onPanZoomStart:f,onPanZoomEnd:m,onDraggingChange:h}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},y=e.getBoundingClientRect(),x=tS().clickDistance(!Bn(a)||a<0?0:a).scaleExtent([n,r]).translateExtent(l),b=vn(e).call(x);E({x:c.x,y:c.y,zoom:Ea(c.zoom,n,r)},[[0,0],[y.width,y.height]],l);const S=b.on("wheel.zoom"),N=b.on("dblclick.zoom");x.wheelDelta(kS);function j(G,W){return b?new Promise(B=>{x?.interpolate(W?.interpolate==="linear"?Ki:bu).transform(_h(b,W?.duration,W?.ease,()=>B(!0)),G)}):Promise.resolve(!1)}function _({noWheelClassName:G,noPanClassName:W,onPaneContextMenu:B,userSelectionActive:U,panOnScroll:k,panOnDrag:L,panOnScrollMode:I,panOnScrollSpeed:H,preventScrolling:C,zoomOnPinch:$,zoomOnScroll:Y,zoomOnDoubleClick:V,zoomActivationKeyPressed:K,lib:fe,onTransformChange:ue}){U&&!g.isZoomingOrPanning&&M();const ie=k&&!K&&!U?v9({zoomPanValues:g,noWheelClassName:G,d3Selection:b,d3Zoom:x,panOnScrollMode:I,panOnScrollSpeed:H,zoomOnPinch:$,onPanZoomStart:f,onPanZoom:d,onPanZoomEnd:m}):b9({noWheelClassName:G,preventScrolling:C,d3ZoomHandler:S});if(b.on("wheel.zoom",ie,{passive:!1}),!U){const ve=w9({zoomPanValues:g,onDraggingChange:h,onPanZoomStart:f});x.on("start",ve);const be=N9({zoomPanValues:g,panOnDrag:L,onPaneContextMenu:!!B,onPanZoom:d,onTransformChange:ue});x.on("zoom",be);const ne=S9({zoomPanValues:g,panOnDrag:L,panOnScroll:k,onPaneContextMenu:B,onPanZoomEnd:m,onDraggingChange:h});x.on("end",ne)}const xe=j9({zoomActivationKeyPressed:K,panOnDrag:L,zoomOnScroll:Y,panOnScroll:k,zoomOnDoubleClick:V,zoomOnPinch:$,userSelectionActive:U,noPanClassName:W,noWheelClassName:G,lib:fe});x.filter(xe),V?b.on("dblclick.zoom",N):b.on("dblclick.zoom",null)}function M(){x.on("zoom",null)}async function E(G,W,B){const U=jh(G),k=x?.constrain()(U,W,B);return k&&await j(k),new Promise(L=>L(k))}async function T(G,W){const B=jh(G);return await j(B,W),new Promise(U=>U(B))}function R(G){if(b){const W=jh(G),B=b.property("__zoom");(B.k!==G.zoom||B.x!==G.x||B.y!==G.y)&&x?.transform(b,W,null,{sync:!0})}}function D(){const G=b?eS(b.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function O(G,W){return b?new Promise(B=>{x?.interpolate(W?.interpolate==="linear"?Ki:bu).scaleTo(_h(b,W?.duration,W?.ease,()=>B(!0)),G)}):Promise.resolve(!1)}function P(G,W){return b?new Promise(B=>{x?.interpolate(W?.interpolate==="linear"?Ki:bu).scaleBy(_h(b,W?.duration,W?.ease,()=>B(!0)),G)}):Promise.resolve(!1)}function q(G){x?.scaleExtent(G)}function Q(G){x?.translateExtent(G)}function ee(G){const W=!Bn(G)||G<0?0:G;x?.clickDistance(W)}return{update:_,destroy:M,setViewport:T,setViewportConstrained:E,getViewport:D,scaleTo:O,scaleBy:P,setScaleExtent:q,setTranslateExtent:Q,syncViewport:R,setClickDistance:ee}}var Aa;(function(e){e.Line="line",e.Handle="handle"})(Aa||(Aa={}));function E9({width:e,prevWidth:n,height:r,prevHeight:a,affectsX:l,affectsY:c}){const d=e-n,f=r-a,m=[d>0?1:d<0?-1:0,f>0?1:f<0?-1:0];return d&&l&&(m[0]=m[0]*-1),f&&c&&(m[1]=m[1]*-1),m}function C9(e){const n=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),a=e.includes("left"),l=e.includes("top");return{isHorizontal:n,isVertical:r,affectsX:a,affectsY:l}}function yr(e,n){return Math.max(0,n-e)}function vr(e,n){return Math.max(0,e-n)}function iu(e,n,r){return Math.max(0,n-e,e-r)}function jb(e,n){return e?!n:n}function k9(e,n,r,a,l,c,d,f){let{affectsX:m,affectsY:h}=n;const{isHorizontal:g,isVertical:y}=n,x=g&&y,{xSnapped:b,ySnapped:S}=r,{minWidth:N,maxWidth:j,minHeight:_,maxHeight:M}=a,{x:E,y:T,width:R,height:D,aspectRatio:O}=e;let P=Math.floor(g?b-e.pointerX:0),q=Math.floor(y?S-e.pointerY:0);const Q=R+(m?-P:P),ee=D+(h?-q:q),G=-c[0]*R,W=-c[1]*D;let B=iu(Q,N,j),U=iu(ee,_,M);if(d){let I=0,H=0;m&&P<0?I=yr(E+P+G,d[0][0]):!m&&P>0&&(I=vr(E+Q+G,d[1][0])),h&&q<0?H=yr(T+q+W,d[0][1]):!h&&q>0&&(H=vr(T+ee+W,d[1][1])),B=Math.max(B,I),U=Math.max(U,H)}if(f){let I=0,H=0;m&&P>0?I=vr(E+P,f[0][0]):!m&&P<0&&(I=yr(E+Q,f[1][0])),h&&q>0?H=vr(T+q,f[0][1]):!h&&q<0&&(H=yr(T+ee,f[1][1])),B=Math.max(B,I),U=Math.max(U,H)}if(l){if(g){const I=iu(Q/O,_,M)*O;if(B=Math.max(B,I),d){let H=0;!m&&!h||m&&!h&&x?H=vr(T+W+Q/O,d[1][1])*O:H=yr(T+W+(m?P:-P)/O,d[0][1])*O,B=Math.max(B,H)}if(f){let H=0;!m&&!h||m&&!h&&x?H=yr(T+Q/O,f[1][1])*O:H=vr(T+(m?P:-P)/O,f[0][1])*O,B=Math.max(B,H)}}if(y){const I=iu(ee*O,N,j)/O;if(U=Math.max(U,I),d){let H=0;!m&&!h||h&&!m&&x?H=vr(E+ee*O+G,d[1][0])/O:H=yr(E+(h?q:-q)*O+G,d[0][0])/O,U=Math.max(U,H)}if(f){let H=0;!m&&!h||h&&!m&&x?H=yr(E+ee*O,f[1][0])/O:H=vr(E+(h?q:-q)*O,f[0][0])/O,U=Math.max(U,H)}}}q=q+(q<0?U:-U),P=P+(P<0?B:-B),l&&(x?Q>ee*O?q=(jb(m,h)?-P:P)/O:P=(jb(m,h)?-q:q)*O:g?(q=P/O,h=m):(P=q*O,m=h));const k=m?E+P:E,L=h?T+q:T;return{width:R+(m?-P:P),height:D+(h?-q:q),x:c[0]*P*(m?-1:1)+k,y:c[1]*q*(h?-1:1)+L}}const AS={width:0,height:0,x:0,y:0},A9={...AS,pointerX:0,pointerY:0,aspectRatio:1};function M9(e){return[[0,0],[e.measured.width,e.measured.height]]}function T9(e,n,r){const a=n.position.x+e.position.x,l=n.position.y+e.position.y,c=e.measured.width??0,d=e.measured.height??0,f=r[0]*c,m=r[1]*d;return[[a-f,l-m],[a+c-f,l+d-m]]}function R9({domNode:e,nodeId:n,getStoreItems:r,onChange:a,onEnd:l}){const c=vn(e);function d({controlPosition:m,boundaries:h,keepAspectRatio:g,resizeDirection:y,onResizeStart:x,onResize:b,onResizeEnd:S,shouldResize:N}){let j={...AS},_={...A9};const M=C9(m);let E,T=null,R=[],D,O,P;const q=P2().on("start",Q=>{const{nodeLookup:ee,transform:G,snapGrid:W,snapToGrid:B,nodeOrigin:U,paneDomNode:k}=r();if(E=ee.get(n),!E)return;T=k?.getBoundingClientRect()??null;const{xSnapped:L,ySnapped:I}=Qi(Q.sourceEvent,{transform:G,snapGrid:W,snapToGrid:B,containerBounds:T});j={width:E.measured.width??0,height:E.measured.height??0,x:E.position.x??0,y:E.position.y??0},_={...j,pointerX:L,pointerY:I,aspectRatio:j.width/j.height},D=void 0,E.parentId&&(E.extent==="parent"||E.expandParent)&&(D=ee.get(E.parentId),O=D&&E.extent==="parent"?M9(D):void 0),R=[],P=void 0;for(const[H,C]of ee)if(C.parentId===n&&(R.push({id:H,position:{...C.position},extent:C.extent}),C.extent==="parent"||C.expandParent)){const $=T9(C,E,C.origin??U);P?P=[[Math.min($[0][0],P[0][0]),Math.min($[0][1],P[0][1])],[Math.max($[1][0],P[1][0]),Math.max($[1][1],P[1][1])]]:P=$}x?.(Q,{...j})}).on("drag",Q=>{const{transform:ee,snapGrid:G,snapToGrid:W,nodeOrigin:B}=r(),U=Qi(Q.sourceEvent,{transform:ee,snapGrid:G,snapToGrid:W,containerBounds:T}),k=[];if(!E)return;const{x:L,y:I,width:H,height:C}=j,$={},Y=E.origin??B,{width:V,height:K,x:fe,y:ue}=k9(_,M,U,h,g,Y,O,P),te=V!==H,ie=K!==C,xe=fe!==L&&te,ve=ue!==I&&ie;if(!xe&&!ve&&!te&&!ie)return;if((xe||ve||Y[0]===1||Y[1]===1)&&($.x=xe?fe:j.x,$.y=ve?ue:j.y,j.x=$.x,j.y=$.y,R.length>0)){const X=fe-L,pe=ue-I;for(const Ne of R)Ne.position={x:Ne.position.x-X+Y[0]*(V-H),y:Ne.position.y-pe+Y[1]*(K-C)},k.push(Ne)}if((te||ie)&&($.width=te&&(!y||y==="horizontal")?V:j.width,$.height=ie&&(!y||y==="vertical")?K:j.height,j.width=$.width,j.height=$.height),D&&E.expandParent){const X=Y[0]*($.width??0);$.x&&$.x<X&&(j.x=X,_.x=_.x-($.x-X));const pe=Y[1]*($.height??0);$.y&&$.y<pe&&(j.y=pe,_.y=_.y-($.y-pe))}const be=E9({width:j.width,prevWidth:H,height:j.height,prevHeight:C,affectsX:M.affectsX,affectsY:M.affectsY}),ne={...j,direction:be};N?.(Q,ne)!==!1&&(b?.(Q,ne),a($,k))}).on("end",Q=>{S?.(Q,{...j}),l?.({...j})});c.call(q)}function f(){c.on(".drag",null)}return{update:d,destroy:f}}var Eh={exports:{}},Ch={},kh={exports:{}},Ah={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function D9(){if(_b)return Ah;_b=1;var e=pl();function n(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var r=typeof Object.is=="function"?Object.is:n,a=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function f(y,x){var b=x(),S=a({inst:{value:b,getSnapshot:x}}),N=S[0].inst,j=S[1];return c(function(){N.value=b,N.getSnapshot=x,m(N)&&j({inst:N})},[y,b,x]),l(function(){return m(N)&&j({inst:N}),y(function(){m(N)&&j({inst:N})})},[y]),d(b),b}function m(y){var x=y.getSnapshot;y=y.value;try{var b=x();return!r(y,b)}catch{return!0}}function h(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Ah.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Ah}var Eb;function O9(){return Eb||(Eb=1,kh.exports=D9()),kh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function z9(){if(Cb)return Ch;Cb=1;var e=pl(),n=O9();function r(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var a=typeof Object.is=="function"?Object.is:r,l=n.useSyncExternalStore,c=e.useRef,d=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Ch.useSyncExternalStoreWithSelector=function(h,g,y,x,b){var S=c(null);if(S.current===null){var N={hasValue:!1,value:null};S.current=N}else N=S.current;S=f(function(){function _(D){if(!M){if(M=!0,E=D,D=x(D),b!==void 0&&N.hasValue){var O=N.value;if(b(O,D))return T=O}return T=D}if(O=T,a(E,D))return O;var P=x(D);return b!==void 0&&b(O,P)?(E=D,O):(E=D,T=P)}var M=!1,E,T,R=y===void 0?null:y;return[function(){return _(g())},R===null?void 0:function(){return _(R())}]},[g,y,x,b]);var j=l(h,S[0],S[1]);return d(function(){N.hasValue=!0,N.value=j},[j]),m(j),j},Ch}var kb;function I9(){return kb||(kb=1,Eh.exports=z9()),Eh.exports}var L9=I9();const H9=yp(L9),$9={},Ab=e=>{let n;const r=new Set,a=(g,y)=>{const x=typeof g=="function"?g(n):g;if(!Object.is(x,n)){const b=n;n=y??(typeof x!="object"||x===null)?x:Object.assign({},n,x),r.forEach(S=>S(n,b))}},l=()=>n,m={setState:a,getState:l,getInitialState:()=>h,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{($9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=n=e(a,l,m);return m},P9=e=>e?Ab(e):Ab,{useDebugValue:B9}=xn,{useSyncExternalStoreWithSelector:U9}=H9,V9=e=>e;function MS(e,n=V9,r){const a=U9(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return B9(a),a}const Mb=(e,n)=>{const r=P9(e),a=(l,c=n)=>MS(r,l,c);return Object.assign(a,r),a},q9=(e,n)=>e?Mb(e,n):Mb;function bt(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[a,l]of e)if(!Object.is(l,n.get(a)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const a of e)if(!n.has(a))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const a of r)if(!Object.prototype.hasOwnProperty.call(n,a)||!Object.is(e[a],n[a]))return!1;return!0}const Od=w.createContext(null),F9=Od.Provider,TS=cs.error001();function nt(e,n){const r=w.useContext(Od);if(r===null)throw new Error(TS);return MS(r,e,n)}function wt(){const e=w.useContext(Od);if(e===null)throw new Error(TS);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Tb={display:"none"},Y9={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},RS="react-flow__node-desc",DS="react-flow__edge-desc",G9="react-flow__aria-live",X9=e=>e.ariaLiveMessage,Z9=e=>e.ariaLabelConfig;function W9({rfId:e}){const n=nt(X9);return o.jsx("div",{id:`${G9}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Y9,children:n})}function K9({rfId:e,disableKeyboardA11y:n}){const r=nt(Z9);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${RS}-${e}`,style:Tb,children:n?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${DS}-${e}`,style:Tb,children:r["edge.a11yDescription.default"]}),!n&&o.jsx(W9,{rfId:e})]})}const zd=w.forwardRef(({position:e="top-left",children:n,className:r,style:a,...l},c)=>{const d=`${e}`.split("-");return o.jsx("div",{className:Dt(["react-flow__panel",r,...d]),style:a,ref:c,...l,children:n})});zd.displayName="Panel";function Q9({proOptions:e,position:n="bottom-right"}){return e?.hideAttribution?null:o.jsx(zd,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const J9=e=>{const n=[],r=[];for(const[,a]of e.nodeLookup)a.selected&&n.push(a.internals.userNode);for(const[,a]of e.edgeLookup)a.selected&&r.push(a);return{selectedNodes:n,selectedEdges:r}},lu=e=>e.id;function ez(e,n){return bt(e.selectedNodes.map(lu),n.selectedNodes.map(lu))&&bt(e.selectedEdges.map(lu),n.selectedEdges.map(lu))}function tz({onSelectionChange:e}){const n=wt(),{selectedNodes:r,selectedEdges:a}=nt(J9,ez);return w.useEffect(()=>{const l={nodes:r,edges:a};e?.(l),n.getState().onSelectionChangeHandlers.forEach(c=>c(l))},[r,a,e]),null}const nz=e=>!!e.onSelectionChangeHandlers;function sz({onSelectionChange:e}){const n=nt(nz);return e||n?o.jsx(tz,{onSelectionChange:e}):null}const OS=[0,0],rz={x:0,y:0,zoom:1},oz=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],Rb=[...oz,"rfId"],az=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Db={translateExtent:cl,nodeOrigin:OS,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function iz(e){const{setNodes:n,setEdges:r,setMinZoom:a,setMaxZoom:l,setTranslateExtent:c,setNodeExtent:d,reset:f,setDefaultNodesAndEdges:m,setPaneClickDistance:h}=nt(az,bt),g=wt();w.useEffect(()=>(m(e.defaultNodes,e.defaultEdges),()=>{y.current=Db,f()}),[]);const y=w.useRef(Db);return w.useEffect(()=>{for(const x of Rb){const b=e[x],S=y.current[x];b!==S&&(typeof e[x]>"u"||(x==="nodes"?n(b):x==="edges"?r(b):x==="minZoom"?a(b):x==="maxZoom"?l(b):x==="translateExtent"?c(b):x==="nodeExtent"?d(b):x==="paneClickDistance"?h(b):x==="ariaLabelConfig"?g.setState({ariaLabelConfig:q8(b)}):x==="fitView"?g.setState({fitViewQueued:b}):x==="fitViewOptions"?g.setState({fitViewOptions:b}):g.setState({[x]:b})))}y.current=e},Rb.map(x=>e[x])),null}function Ob(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function lz(e){const[n,r]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){r(e);return}const a=Ob(),l=()=>r(a?.matches?"dark":"light");return l(),a?.addEventListener("change",l),()=>{a?.removeEventListener("change",l)}},[e]),n!==null?n:Ob()?.matches?"dark":"light"}const zb=typeof document<"u"?document:null;function hl(e=null,n={target:zb,actInsideInputWithModifier:!0}){const[r,a]=w.useState(!1),l=w.useRef(!1),c=w.useRef(new Set([])),[d,f]=w.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),g=h.reduce((y,x)=>y.concat(...x),[]);return[h,g]}return[[],[]]},[e]);return w.useEffect(()=>{const m=n?.target??zb,h=n?.actInsideInputWithModifier??!0;if(e!==null){const g=b=>{if(l.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!l.current||l.current&&!h)&&hS(b))return!1;const N=Lb(b.code,f);if(c.current.add(b[N]),Ib(d,c.current,!1)){const j=b.composedPath?.()?.[0]||b.target,_=j?.nodeName==="BUTTON"||j?.nodeName==="A";n.preventDefault!==!1&&(l.current||!_)&&b.preventDefault(),a(!0)}},y=b=>{const S=Lb(b.code,f);Ib(d,c.current,!0)?(a(!1),c.current.clear()):c.current.delete(b[S]),b.key==="Meta"&&c.current.clear(),l.current=!1},x=()=>{c.current.clear(),a(!1)};return m?.addEventListener("keydown",g),m?.addEventListener("keyup",y),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{m?.removeEventListener("keydown",g),m?.removeEventListener("keyup",y),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,a]),r}function Ib(e,n,r){return e.filter(a=>r||a.length===n.size).some(a=>a.every(l=>n.has(l)))}function Lb(e,n){return n.includes(e)?"code":"key"}const cz=()=>{const e=wt();return w.useMemo(()=>({zoomIn:n=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomOut:n=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomTo:(n,r)=>{const{panZoom:a}=e.getState();return a?a.scaleTo(n,{duration:r?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(n,r)=>{const{transform:[a,l,c],panZoom:d}=e.getState();return d?(await d.setViewport({x:n.x??a,y:n.y??l,zoom:n.zoom??c},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[n,r,a]=e.getState().transform;return{x:n,y:r,zoom:a}},setCenter:async(n,r,a)=>e.getState().setCenter(n,r,a),fitBounds:async(n,r)=>{const{width:a,height:l,minZoom:c,maxZoom:d,panZoom:f}=e.getState(),m=pg(n,a,l,c,d,r?.padding??.1);return f?(await f.setViewport(m,{duration:r?.duration,ease:r?.ease,interpolate:r?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(n,r={})=>{const{transform:a,snapGrid:l,snapToGrid:c,domNode:d}=e.getState();if(!d)return n;const{x:f,y:m}=d.getBoundingClientRect(),h={x:n.x-f,y:n.y-m},g=r.snapGrid??l,y=r.snapToGrid??c;return kl(h,a,y,g)},flowToScreenPosition:n=>{const{transform:r,domNode:a}=e.getState();if(!a)return n;const{x:l,y:c}=a.getBoundingClientRect(),d=Zu(n,r);return{x:d.x+l,y:d.y+c}}}),[])};function zS(e,n){const r=[],a=new Map,l=[];for(const c of e)if(c.type==="add"){l.push(c);continue}else if(c.type==="remove"||c.type==="replace")a.set(c.id,[c]);else{const d=a.get(c.id);d?d.push(c):a.set(c.id,[c])}for(const c of n){const d=a.get(c.id);if(!d){r.push(c);continue}if(d[0].type==="remove")continue;if(d[0].type==="replace"){r.push({...d[0].item});continue}const f={...c};for(const m of d)uz(m,f);r.push(f)}return l.length&&l.forEach(c=>{c.index!==void 0?r.splice(c.index,0,{...c.item}):r.push({...c.item})}),r}function uz(e,n){switch(e.type){case"select":{n.selected=e.selected;break}case"position":{typeof e.position<"u"&&(n.position=e.position),typeof e.dragging<"u"&&(n.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(n.measured??={},n.measured.width=e.dimensions.width,n.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(n.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(n.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(n.resizing=e.resizing);break}}}function IS(e,n){return zS(e,n)}function LS(e,n){return zS(e,n)}function eo(e,n){return{id:e,type:"select",selected:n}}function ua(e,n=new Set,r=!1){const a=[];for(const[l,c]of e){const d=n.has(l);!(c.selected===void 0&&!d)&&c.selected!==d&&(r&&(c.selected=d),a.push(eo(c.id,d)))}return a}function Hb({items:e=[],lookup:n}){const r=[],a=new Map(e.map(l=>[l.id,l]));for(const[l,c]of e.entries()){const d=n.get(c.id),f=d?.internals?.userNode??d;f!==void 0&&f!==c&&r.push({id:c.id,item:c,type:"replace"}),f===void 0&&r.push({item:c,type:"add",index:l})}for(const[l]of n)a.get(l)===void 0&&r.push({id:l,type:"remove"});return r}function $b(e){return{id:e.id,type:"remove"}}const Pb=e=>O8(e),dz=e=>aS(e);function HS(e){return w.forwardRef(e)}const fz=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Bb(e){const[n,r]=w.useState(BigInt(0)),[a]=w.useState(()=>mz(()=>r(l=>l+BigInt(1))));return fz(()=>{const l=a.get();l.length&&(e(l),a.reset())},[n]),a}function mz(e){let n=[];return{get:()=>n,reset:()=>{n=[]},push:r=>{n.push(r),e()}}}const $S=w.createContext(null);function hz({children:e}){const n=wt(),r=w.useCallback(f=>{const{nodes:m=[],setNodes:h,hasDefaultNodes:g,onNodesChange:y,nodeLookup:x,fitViewQueued:b}=n.getState();let S=m;for(const j of f)S=typeof j=="function"?j(S):j;const N=Hb({items:S,lookup:x});g&&h(S),N.length>0?y?.(N):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:j,nodes:_,setNodes:M}=n.getState();j&&M(_)})},[]),a=Bb(r),l=w.useCallback(f=>{const{edges:m=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:y,edgeLookup:x}=n.getState();let b=m;for(const S of f)b=typeof S=="function"?S(b):S;g?h(b):y&&y(Hb({items:b,lookup:x}))},[]),c=Bb(l),d=w.useMemo(()=>({nodeQueue:a,edgeQueue:c}),[]);return o.jsx($S.Provider,{value:d,children:e})}function pz(){const e=w.useContext($S);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const gz=e=>!!e.panZoom;function Ia(){const e=cz(),n=wt(),r=pz(),a=nt(gz),l=w.useMemo(()=>{const c=y=>n.getState().nodeLookup.get(y),d=y=>{r.nodeQueue.push(y)},f=y=>{r.edgeQueue.push(y)},m=y=>{const{nodeLookup:x,nodeOrigin:b}=n.getState(),S=Pb(y)?y:x.get(y.id),N=S.parentId?fS(S.position,S.measured,S.parentId,x,b):S.position,j={...S,position:N,width:S.measured?.width??S.width,height:S.measured?.height??S.height};return Ca(j)},h=(y,x,b={replace:!1})=>{d(S=>S.map(N=>{if(N.id===y){const j=typeof x=="function"?x(N):x;return b.replace&&Pb(j)?j:{...N,...j}}return N}))},g=(y,x,b={replace:!1})=>{f(S=>S.map(N=>{if(N.id===y){const j=typeof x=="function"?x(N):x;return b.replace&&dz(j)?j:{...N,...j}}return N}))};return{getNodes:()=>n.getState().nodes.map(y=>({...y})),getNode:y=>c(y)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:y=[]}=n.getState();return y.map(x=>({...x}))},getEdge:y=>n.getState().edgeLookup.get(y),setNodes:d,setEdges:f,addNodes:y=>{const x=Array.isArray(y)?y:[y];r.nodeQueue.push(b=>[...b,...x])},addEdges:y=>{const x=Array.isArray(y)?y:[y];r.edgeQueue.push(b=>[...b,...x])},toObject:()=>{const{nodes:y=[],edges:x=[],transform:b}=n.getState(),[S,N,j]=b;return{nodes:y.map(_=>({..._})),edges:x.map(_=>({..._})),viewport:{x:S,y:N,zoom:j}}},deleteElements:async({nodes:y=[],edges:x=[]})=>{const{nodes:b,edges:S,onNodesDelete:N,onEdgesDelete:j,triggerNodeChanges:_,triggerEdgeChanges:M,onDelete:E,onBeforeDelete:T}=n.getState(),{nodes:R,edges:D}=await $8({nodesToRemove:y,edgesToRemove:x,nodes:b,edges:S,onBeforeDelete:T}),O=D.length>0,P=R.length>0;if(O){const q=D.map($b);j?.(D),M(q)}if(P){const q=R.map($b);N?.(R),_(q)}return(P||O)&&E?.({nodes:R,edges:D}),{deletedNodes:R,deletedEdges:D}},getIntersectingNodes:(y,x=!0,b)=>{const S=mb(y),N=S?y:m(y),j=b!==void 0;return N?(b||n.getState().nodes).filter(_=>{const M=n.getState().nodeLookup.get(_.id);if(M&&!S&&(_.id===y.id||!M.internals.positionAbsolute))return!1;const E=Ca(j?_:M),T=dl(E,N);return x&&T>0||T>=E.width*E.height||T>=N.width*N.height}):[]},isNodeIntersecting:(y,x,b=!0)=>{const N=mb(y)?y:m(y);if(!N)return!1;const j=dl(N,x);return b&&j>0||j>=N.width*N.height},updateNode:h,updateNodeData:(y,x,b={replace:!1})=>{h(y,S=>{const N=typeof x=="function"?x(S):x;return b.replace?{...S,data:N}:{...S,data:{...S.data,...N}}},b)},updateEdge:g,updateEdgeData:(y,x,b={replace:!1})=>{g(y,S=>{const N=typeof x=="function"?x(S):x;return b.replace?{...S,data:N}:{...S,data:{...S.data,...N}}},b)},getNodesBounds:y=>{const{nodeLookup:x,nodeOrigin:b}=n.getState();return z8(y,{nodeLookup:x,nodeOrigin:b})},getHandleConnections:({type:y,id:x,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}-${y}${x?`-${x}`:""}`)?.values()??[]),getNodeConnections:({type:y,handleId:x,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}${y?x?`-${y}-${x}`:`-${y}`:""}`)?.values()??[]),fitView:async y=>{const x=n.getState().fitViewResolver??V8();return n.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:x}),r.nodeQueue.push(b=>[...b]),x.promise}}},[]);return w.useMemo(()=>({...l,...e,viewportInitialized:a}),[a])}const Ub=e=>e.selected,xz=typeof window<"u"?window:void 0;function yz({deleteKeyCode:e,multiSelectionKeyCode:n}){const r=wt(),{deleteElements:a}=Ia(),l=hl(e,{actInsideInputWithModifier:!1}),c=hl(n,{target:xz});w.useEffect(()=>{if(l){const{edges:d,nodes:f}=r.getState();a({nodes:f.filter(Ub),edges:d.filter(Ub)}),r.setState({nodesSelectionActive:!1})}},[l]),w.useEffect(()=>{r.setState({multiSelectionActive:c})},[c])}function vz(e){const n=wt();w.useEffect(()=>{const r=()=>{if(!e.current)return!1;const a=gg(e.current);(a.height===0||a.width===0)&&n.getState().onError?.("004",cs.error004()),n.setState({width:a.width||500,height:a.height||500})};if(e.current){r(),window.addEventListener("resize",r);const a=new ResizeObserver(()=>r());return a.observe(e.current),()=>{window.removeEventListener("resize",r),a&&e.current&&a.unobserve(e.current)}}},[])}const Id={position:"absolute",width:"100%",height:"100%",top:0,left:0},bz=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function wz({onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:r=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=ao.Free,zoomOnDoubleClick:d=!0,panOnDrag:f=!0,defaultViewport:m,translateExtent:h,minZoom:g,maxZoom:y,zoomActivationKeyCode:x,preventScrolling:b=!0,children:S,noWheelClassName:N,noPanClassName:j,onViewportChange:_,isControlledViewport:M,paneClickDistance:E}){const T=wt(),R=w.useRef(null),{userSelectionActive:D,lib:O}=nt(bz,bt),P=hl(x),q=w.useRef();vz(R);const Q=w.useCallback(ee=>{_?.({x:ee[0],y:ee[1],zoom:ee[2]}),M||T.setState({transform:ee})},[_,M]);return w.useEffect(()=>{if(R.current){q.current=_9({domNode:R.current,minZoom:g,maxZoom:y,translateExtent:h,viewport:m,paneClickDistance:E,onDraggingChange:B=>T.setState({paneDragging:B}),onPanZoomStart:(B,U)=>{const{onViewportChangeStart:k,onMoveStart:L}=T.getState();L?.(B,U),k?.(U)},onPanZoom:(B,U)=>{const{onViewportChange:k,onMove:L}=T.getState();L?.(B,U),k?.(U)},onPanZoomEnd:(B,U)=>{const{onViewportChangeEnd:k,onMoveEnd:L}=T.getState();L?.(B,U),k?.(U)}});const{x:ee,y:G,zoom:W}=q.current.getViewport();return T.setState({panZoom:q.current,transform:[ee,G,W],domNode:R.current.closest(".react-flow")}),()=>{q.current?.destroy()}}},[]),w.useEffect(()=>{q.current?.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:r,panOnScroll:a,panOnScrollSpeed:l,panOnScrollMode:c,zoomOnDoubleClick:d,panOnDrag:f,zoomActivationKeyPressed:P,preventScrolling:b,noPanClassName:j,userSelectionActive:D,noWheelClassName:N,lib:O,onTransformChange:Q})},[e,n,r,a,l,c,d,f,P,b,j,D,N,O,Q]),o.jsx("div",{className:"react-flow__renderer",ref:R,style:Id,children:S})}const Nz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Sz(){const{userSelectionActive:e,userSelectionRect:n}=nt(Nz,bt);return e&&n?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}const Mh=(e,n)=>r=>{r.target===n.current&&e?.(r)},jz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function _z({isSelecting:e,selectionKeyPressed:n,selectionMode:r=ul.Full,panOnDrag:a,selectionOnDrag:l,onSelectionStart:c,onSelectionEnd:d,onPaneClick:f,onPaneContextMenu:m,onPaneScroll:h,onPaneMouseEnter:g,onPaneMouseMove:y,onPaneMouseLeave:x,children:b}){const S=wt(),{userSelectionActive:N,elementsSelectable:j,dragging:_,connectionInProgress:M}=nt(jz,bt),E=j&&(e||N),T=w.useRef(null),R=w.useRef(),D=w.useRef(new Set),O=w.useRef(new Set),P=w.useRef(!1),q=w.useRef(!1),Q=L=>{if(P.current||M){P.current=!1;return}f?.(L),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},ee=L=>{if(Array.isArray(a)&&a?.includes(2)){L.preventDefault();return}m?.(L)},G=h?L=>h(L):void 0,W=L=>{const{resetSelectedElements:I,domNode:H}=S.getState();if(R.current=H?.getBoundingClientRect(),!j||!e||L.button!==0||L.target!==T.current||!R.current)return;L.target?.setPointerCapture?.(L.pointerId),q.current=!0,P.current=!1;const{x:C,y:$}=ss(L.nativeEvent,R.current);I(),S.setState({userSelectionRect:{width:0,height:0,startX:C,startY:$,x:C,y:$}}),c?.(L)},B=L=>{const{userSelectionRect:I,transform:H,nodeLookup:C,edgeLookup:$,connectionLookup:Y,triggerNodeChanges:V,triggerEdgeChanges:K,defaultEdgeOptions:fe}=S.getState();if(!R.current||!I)return;P.current=!0;const{x:ue,y:te}=ss(L.nativeEvent,R.current),{startX:ie,startY:xe}=I,ve={startX:ie,startY:xe,x:ue<ie?ue:ie,y:te<xe?te:xe,width:Math.abs(ue-ie),height:Math.abs(te-xe)},be=D.current,ne=O.current;D.current=new Set(hg(C,ve,H,r===ul.Partial,!0).map(X=>X.id)),O.current=new Set;const he=fe?.selectable??!0;for(const X of D.current){const pe=Y.get(X);if(pe)for(const{edgeId:Ne}of pe.values()){const ye=$.get(Ne);ye&&(ye.selectable??he)&&O.current.add(Ne)}}if(!hb(be,D.current)){const X=ua(C,D.current,!0);V(X)}if(!hb(ne,O.current)){const X=ua($,O.current);K(X)}S.setState({userSelectionRect:ve,userSelectionActive:!0,nodesSelectionActive:!1})},U=L=>{if(L.button!==0||!q.current)return;L.target?.releasePointerCapture?.(L.pointerId);const{userSelectionRect:I}=S.getState();!N&&I&&L.target===T.current&&Q?.(L),S.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),d?.(L),(n||l)&&(P.current=!1),q.current=!1},k=a===!0||Array.isArray(a)&&a.includes(0);return o.jsxs("div",{className:Dt(["react-flow__pane",{draggable:k,dragging:_,selection:e}]),onClick:E?void 0:Mh(Q,T),onContextMenu:Mh(ee,T),onWheel:Mh(G,T),onPointerEnter:E?void 0:g,onPointerDown:E?W:y,onPointerMove:E?B:y,onPointerUp:E?U:void 0,onPointerLeave:x,ref:T,style:Id,children:[b,o.jsx(Sz,{})]})}function xp({id:e,store:n,unselect:r=!1,nodeRef:a}){const{addSelectedNodes:l,unselectNodesAndEdges:c,multiSelectionActive:d,nodeLookup:f,onError:m}=n.getState(),h=f.get(e);if(!h){m?.("012",cs.error012(e));return}n.setState({nodesSelectionActive:!1}),h.selected?(r||h.selected&&d)&&(c({nodes:[h],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):l([e])}function PS({nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:a,nodeId:l,isSelectable:c,nodeClickDistance:d}){const f=wt(),[m,h]=w.useState(!1),g=w.useRef();return w.useEffect(()=>{g.current=u9({getStoreItems:()=>f.getState(),onNodeMouseDown:y=>{xp({id:y,store:f,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),w.useEffect(()=>{if(n)g.current?.destroy();else if(e.current)return g.current?.update({noDragClassName:r,handleSelector:a,domNode:e.current,isSelectable:c,nodeId:l,nodeClickDistance:d}),()=>{g.current?.destroy()}},[r,a,n,c,e,l]),m}const Ez=e=>n=>n.selected&&(n.draggable||e&&typeof n.draggable>"u");function BS(){const e=wt();return w.useCallback(r=>{const{nodeExtent:a,snapToGrid:l,snapGrid:c,nodesDraggable:d,onError:f,updateNodePositions:m,nodeLookup:h,nodeOrigin:g}=e.getState(),y=new Map,x=Ez(d),b=l?c[0]:5,S=l?c[1]:5,N=r.direction.x*b*r.factor,j=r.direction.y*S*r.factor;for(const[,_]of h){if(!x(_))continue;let M={x:_.internals.positionAbsolute.x+N,y:_.internals.positionAbsolute.y+j};l&&(M=Cl(M,c));const{position:E,positionAbsolute:T}=iS({nodeId:_.id,nextPosition:M,nodeLookup:h,nodeExtent:a,nodeOrigin:g,onError:f});_.position=E,_.internals.positionAbsolute=T,y.set(_.id,_)}m(y)},[])}const wg=w.createContext(null),Cz=wg.Provider;wg.Consumer;const US=()=>w.useContext(wg),kz=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Az=(e,n,r)=>a=>{const{connectionClickStartHandle:l,connectionMode:c,connection:d}=a,{fromHandle:f,toHandle:m,isValid:h}=d,g=m?.nodeId===e&&m?.id===n&&m?.type===r;return{connectingFrom:f?.nodeId===e&&f?.id===n&&f?.type===r,connectingTo:g,clickConnecting:l?.nodeId===e&&l?.id===n&&l?.type===r,isPossibleEndHandle:c===_a.Strict?f?.type!==r:e!==f?.nodeId||n!==f?.id,connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:g&&h}};function Mz({type:e="source",position:n=ze.Top,isValidConnection:r,isConnectable:a=!0,isConnectableStart:l=!0,isConnectableEnd:c=!0,id:d,onConnect:f,children:m,className:h,onMouseDown:g,onTouchStart:y,...x},b){const S=d||null,N=e==="target",j=wt(),_=US(),{connectOnClick:M,noPanClassName:E,rfId:T}=nt(kz,bt),{connectingFrom:R,connectingTo:D,clickConnecting:O,isPossibleEndHandle:P,connectionInProcess:q,clickConnectionInProcess:Q,valid:ee}=nt(Az(_,S,e),bt);_||j.getState().onError?.("010",cs.error010());const G=U=>{const{defaultEdgeOptions:k,onConnect:L,hasDefaultEdges:I}=j.getState(),H={...k,...U};if(I){const{edges:C,setEdges:$}=j.getState();$(W8(H,C))}L?.(H),f?.(H)},W=U=>{if(!_)return;const k=pS(U.nativeEvent);if(l&&(k&&U.button===0||!k)){const L=j.getState();gp.onPointerDown(U.nativeEvent,{handleDomNode:U.currentTarget,autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:N,handleId:S,nodeId:_,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:G,isValidConnection:r||L.isValidConnection,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed,dragThreshold:L.connectionDragThreshold})}k?g?.(U):y?.(U)},B=U=>{const{onClickConnectStart:k,onClickConnectEnd:L,connectionClickStartHandle:I,connectionMode:H,isValidConnection:C,lib:$,rfId:Y,nodeLookup:V,connection:K}=j.getState();if(!_||!I&&!l)return;if(!I){k?.(U.nativeEvent,{nodeId:_,handleId:S,handleType:e}),j.setState({connectionClickStartHandle:{nodeId:_,type:e,id:S}});return}const fe=mS(U.target),ue=r||C,{connection:te,isValid:ie}=gp.isValid(U.nativeEvent,{handle:{nodeId:_,id:S,type:e},connectionMode:H,fromNodeId:I.nodeId,fromHandleId:I.id||null,fromType:I.type,isValidConnection:ue,flowId:Y,doc:fe,lib:$,nodeLookup:V});ie&&te&&G(te);const xe=structuredClone(K);delete xe.inProgress,xe.toPosition=xe.toHandle?xe.toHandle.position:null,L?.(U,xe),j.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":S,"data-nodeid":_,"data-handlepos":n,"data-id":`${T}-${_}-${S}-${e}`,className:Dt(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",E,h,{source:!N,target:N,connectable:a,connectablestart:l,connectableend:c,clickconnecting:O,connectingfrom:R,connectingto:D,valid:ee,connectionindicator:a&&(!q||P)&&(q||Q?c:l)}]),onMouseDown:W,onTouchStart:W,onClick:M?B:void 0,ref:b,...x,children:m})}const Ma=w.memo(HS(Mz));function Tz({data:e,isConnectable:n,sourcePosition:r=ze.Bottom}){return o.jsxs(o.Fragment,{children:[e?.label,o.jsx(Ma,{type:"source",position:r,isConnectable:n})]})}function Rz({data:e,isConnectable:n,targetPosition:r=ze.Top,sourcePosition:a=ze.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(Ma,{type:"target",position:r,isConnectable:n}),e?.label,o.jsx(Ma,{type:"source",position:a,isConnectable:n})]})}function Dz(){return null}function Oz({data:e,isConnectable:n,targetPosition:r=ze.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(Ma,{type:"target",position:r,isConnectable:n}),e?.label]})}const Wu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Vb={input:Tz,default:Rz,output:Oz,group:Dz};function zz(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const Iz=e=>{const{width:n,height:r,x:a,y:l}=El(e.nodeLookup,{filter:c=>!!c.selected});return{width:Bn(n)?n:null,height:Bn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${a}px,${l}px)`}};function Lz({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:r}){const a=wt(),{width:l,height:c,transformString:d,userSelectionActive:f}=nt(Iz,bt),m=BS(),h=w.useRef(null);if(w.useEffect(()=>{r||h.current?.focus({preventScroll:!0})},[r]),PS({nodeRef:h}),f||!l||!c)return null;const g=e?x=>{const b=a.getState().nodes.filter(S=>S.selected);e(x,b)}:void 0,y=x=>{Object.prototype.hasOwnProperty.call(Wu,x.key)&&(x.preventDefault(),m({direction:Wu[x.key],factor:x.shiftKey?4:1}))};return o.jsx("div",{className:Dt(["react-flow__nodesselection","react-flow__container",n]),style:{transform:d},children:o.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:r?void 0:-1,onKeyDown:r?void 0:y,style:{width:l,height:c}})})}const qb=typeof window<"u"?window:void 0,Hz=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function VS({children:e,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:d,paneClickDistance:f,deleteKeyCode:m,selectionKeyCode:h,selectionOnDrag:g,selectionMode:y,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:j,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:E,panOnScroll:T,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:O,panOnDrag:P,defaultViewport:q,translateExtent:Q,minZoom:ee,maxZoom:G,preventScrolling:W,onSelectionContextMenu:B,noWheelClassName:U,noPanClassName:k,disableKeyboardA11y:L,onViewportChange:I,isControlledViewport:H}){const{nodesSelectionActive:C,userSelectionActive:$}=nt(Hz),Y=hl(h,{target:qb}),V=hl(N,{target:qb}),K=V||P,fe=V||T,ue=g&&K!==!0,te=Y||$||ue;return yz({deleteKeyCode:m,multiSelectionKeyCode:S}),o.jsx(wz,{onPaneContextMenu:c,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:E,panOnScroll:fe,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:O,panOnDrag:!Y&&K,defaultViewport:q,translateExtent:Q,minZoom:ee,maxZoom:G,zoomActivationKeyCode:j,preventScrolling:W,noWheelClassName:U,noPanClassName:k,onViewportChange:I,isControlledViewport:H,paneClickDistance:f,children:o.jsxs(_z,{onSelectionStart:x,onSelectionEnd:b,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:K,isSelecting:!!te,selectionMode:y,selectionKeyPressed:Y,selectionOnDrag:ue,children:[e,C&&o.jsx(Lz,{onSelectionContextMenu:B,noPanClassName:k,disableKeyboardA11y:L})]})})}VS.displayName="FlowRenderer";const $z=w.memo(VS),Pz=e=>n=>e?hg(n.nodeLookup,{x:0,y:0,width:n.width,height:n.height},n.transform,!0).map(r=>r.id):Array.from(n.nodeLookup.keys());function Bz(e){return nt(w.useCallback(Pz(e),[e]),bt)}const Uz=e=>e.updateNodeInternals;function Vz(){const e=nt(Uz),[n]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const a=new Map;r.forEach(l=>{const c=l.target.getAttribute("data-id");a.set(c,{id:c,nodeElement:l.target,force:!0})}),e(a)}));return w.useEffect(()=>()=>{n?.disconnect()},[n]),n}function qz({node:e,nodeType:n,hasDimensions:r,resizeObserver:a}){const l=wt(),c=w.useRef(null),d=w.useRef(null),f=w.useRef(e.sourcePosition),m=w.useRef(e.targetPosition),h=w.useRef(n),g=r&&!!e.internals.handleBounds;return w.useEffect(()=>{c.current&&!e.hidden&&(!g||d.current!==c.current)&&(d.current&&a?.unobserve(d.current),a?.observe(c.current),d.current=c.current)},[g,e.hidden]),w.useEffect(()=>()=>{d.current&&(a?.unobserve(d.current),d.current=null)},[]),w.useEffect(()=>{if(c.current){const y=h.current!==n,x=f.current!==e.sourcePosition,b=m.current!==e.targetPosition;(y||x||b)&&(h.current=n,f.current=e.sourcePosition,m.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:c.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),c}function Fz({id:e,onClick:n,onMouseEnter:r,onMouseMove:a,onMouseLeave:l,onContextMenu:c,onDoubleClick:d,nodesDraggable:f,elementsSelectable:m,nodesConnectable:h,nodesFocusable:g,resizeObserver:y,noDragClassName:x,noPanClassName:b,disableKeyboardA11y:S,rfId:N,nodeTypes:j,nodeClickDistance:_,onError:M}){const{node:E,internals:T,isParent:R}=nt(ie=>{const xe=ie.nodeLookup.get(e),ve=ie.parentLookup.has(e);return{node:xe,internals:xe.internals,isParent:ve}},bt);let D=E.type||"default",O=j?.[D]||Vb[D];O===void 0&&(M?.("003",cs.error003(D)),D="default",O=j?.default||Vb.default);const P=!!(E.draggable||f&&typeof E.draggable>"u"),q=!!(E.selectable||m&&typeof E.selectable>"u"),Q=!!(E.connectable||h&&typeof E.connectable>"u"),ee=!!(E.focusable||g&&typeof E.focusable>"u"),G=wt(),W=dS(E),B=qz({node:E,nodeType:D,hasDimensions:W,resizeObserver:y}),U=PS({nodeRef:B,disabled:E.hidden||!P,noDragClassName:x,handleSelector:E.dragHandle,nodeId:e,isSelectable:q,nodeClickDistance:_}),k=BS();if(E.hidden)return null;const L=Vs(E),I=zz(E),H=q||P||n||r||a||l,C=r?ie=>r(ie,{...T.userNode}):void 0,$=a?ie=>a(ie,{...T.userNode}):void 0,Y=l?ie=>l(ie,{...T.userNode}):void 0,V=c?ie=>c(ie,{...T.userNode}):void 0,K=d?ie=>d(ie,{...T.userNode}):void 0,fe=ie=>{const{selectNodesOnDrag:xe,nodeDragThreshold:ve}=G.getState();q&&(!xe||!P||ve>0)&&xp({id:e,store:G,nodeRef:B}),n&&n(ie,{...T.userNode})},ue=ie=>{if(!(hS(ie.nativeEvent)||S)){if(nS.includes(ie.key)&&q){const xe=ie.key==="Escape";xp({id:e,store:G,unselect:xe,nodeRef:B})}else if(P&&E.selected&&Object.prototype.hasOwnProperty.call(Wu,ie.key)){ie.preventDefault();const{ariaLabelConfig:xe}=G.getState();G.setState({ariaLiveMessage:xe["node.a11yDescription.ariaLiveMessage"]({direction:ie.key.replace("Arrow","").toLowerCase(),x:~~T.positionAbsolute.x,y:~~T.positionAbsolute.y})}),k({direction:Wu[ie.key],factor:ie.shiftKey?4:1})}}},te=()=>{if(S||!B.current?.matches(":focus-visible"))return;const{transform:ie,width:xe,height:ve,autoPanOnNodeFocus:be,setCenter:ne}=G.getState();if(!be)return;hg(new Map([[e,E]]),{x:0,y:0,width:xe,height:ve},ie,!0).length>0||ne(E.position.x+L.width/2,E.position.y+L.height/2,{zoom:ie[2]})};return o.jsx("div",{className:Dt(["react-flow__node",`react-flow__node-${D}`,{[b]:P},E.className,{selected:E.selected,selectable:q,parent:R,draggable:P,dragging:U}]),ref:B,style:{zIndex:T.z,transform:`translate(${T.positionAbsolute.x}px,${T.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:W?"visible":"hidden",...E.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:C,onMouseMove:$,onMouseLeave:Y,onContextMenu:V,onClick:fe,onDoubleClick:K,onKeyDown:ee?ue:void 0,tabIndex:ee?0:void 0,onFocus:ee?te:void 0,role:E.ariaRole??(ee?"group":void 0),"aria-roledescription":"node","aria-describedby":S?void 0:`${RS}-${N}`,"aria-label":E.ariaLabel,...E.domAttributes,children:o.jsx(Cz,{value:e,children:o.jsx(O,{id:e,data:E.data,type:D,positionAbsoluteX:T.positionAbsolute.x,positionAbsoluteY:T.positionAbsolute.y,selected:E.selected??!1,selectable:q,draggable:P,deletable:E.deletable??!0,isConnectable:Q,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:U,dragHandle:E.dragHandle,zIndex:T.z,parentId:E.parentId,...L})})})}const Yz=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function qS(e){const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:l,onError:c}=nt(Yz,bt),d=Bz(e.onlyRenderVisibleElements),f=Vz();return o.jsx("div",{className:"react-flow__nodes",style:Id,children:d.map(m=>o.jsx(Fz,{id:m,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:c},m))})}qS.displayName="NodeRenderer";const Gz=w.memo(qS);function Xz(e){return nt(w.useCallback(r=>{if(!e)return r.edges.map(l=>l.id);const a=[];if(r.width&&r.height)for(const l of r.edges){const c=r.nodeLookup.get(l.source),d=r.nodeLookup.get(l.target);c&&d&&G8({sourceNode:c,targetNode:d,width:r.width,height:r.height,transform:r.transform})&&a.push(l.id)}return a},[e]),bt)}const Zz=({color:e="none",strokeWidth:n=1})=>{const r={strokeWidth:n,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Wz=({color:e="none",strokeWidth:n=1})=>{const r={strokeWidth:n,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Fb={[Gu.Arrow]:Zz,[Gu.ArrowClosed]:Wz};function Kz(e){const n=wt();return w.useMemo(()=>Object.prototype.hasOwnProperty.call(Fb,e)?Fb[e]:(n.getState().onError?.("009",cs.error009(e)),null),[e])}const Qz=({id:e,type:n,color:r,width:a=12.5,height:l=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:f="auto-start-reverse"})=>{const m=Kz(n);return m?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:f,refX:"0",refY:"0",children:o.jsx(m,{color:r,strokeWidth:d})}):null},FS=({defaultColor:e,rfId:n})=>{const r=nt(c=>c.edges),a=nt(c=>c.defaultEdgeOptions),l=w.useMemo(()=>t9(r,{id:n,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[r,a,n,e]);return l.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:l.map(c=>o.jsx(Qz,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};FS.displayName="MarkerDefinitions";var Jz=w.memo(FS);function YS({x:e,y:n,label:r,labelStyle:a,labelShowBg:l=!0,labelBgStyle:c,labelBgPadding:d=[2,4],labelBgBorderRadius:f=2,children:m,className:h,...g}){const[y,x]=w.useState({x:1,y:0,width:0,height:0}),b=Dt(["react-flow__edge-textwrapper",h]),S=w.useRef(null);return w.useEffect(()=>{if(S.current){const N=S.current.getBBox();x({x:N.x,y:N.y,width:N.width,height:N.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-y.width/2} ${n-y.height/2})`,className:b,visibility:y.width?"visible":"hidden",...g,children:[l&&o.jsx("rect",{width:y.width+2*d[0],x:-d[0],y:-d[1],height:y.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:f,ry:f}),o.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:S,style:a,children:r}),m]}):null}YS.displayName="EdgeText";const eI=w.memo(YS);function Al({path:e,labelX:n,labelY:r,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,interactionWidth:h=20,...g}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...g,d:e,fill:"none",className:Dt(["react-flow__edge-path",g.className])}),h?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,a&&Bn(n)&&Bn(r)?o.jsx(eI,{x:n,y:r,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m}):null]})}function Yb({pos:e,x1:n,y1:r,x2:a,y2:l}){return e===ze.Left||e===ze.Right?[.5*(n+a),r]:[n,.5*(r+l)]}function GS({sourceX:e,sourceY:n,sourcePosition:r=ze.Bottom,targetX:a,targetY:l,targetPosition:c=ze.Top}){const[d,f]=Yb({pos:r,x1:e,y1:n,x2:a,y2:l}),[m,h]=Yb({pos:c,x1:a,y1:l,x2:e,y2:n}),[g,y,x,b]=gS({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:d,sourceControlY:f,targetControlX:m,targetControlY:h});return[`M${e},${n} C${d},${f} ${m},${h} ${a},${l}`,g,y,x,b]}function XS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,sourcePosition:d,targetPosition:f,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:S,markerEnd:N,markerStart:j,interactionWidth:_})=>{const[M,E,T]=GS({sourceX:r,sourceY:a,sourcePosition:d,targetX:l,targetY:c,targetPosition:f}),R=e.isInternal?void 0:n;return o.jsx(Al,{id:R,path:M,labelX:E,labelY:T,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:S,markerEnd:N,markerStart:j,interactionWidth:_})})}const tI=XS({isInternal:!1}),ZS=XS({isInternal:!0});tI.displayName="SimpleBezierEdge";ZS.displayName="SimpleBezierEdgeInternal";function WS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,sourcePosition:b=ze.Bottom,targetPosition:S=ze.Top,markerEnd:N,markerStart:j,pathOptions:_,interactionWidth:M})=>{const[E,T,R]=mp({sourceX:r,sourceY:a,sourcePosition:b,targetX:l,targetY:c,targetPosition:S,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),D=e.isInternal?void 0:n;return o.jsx(Al,{id:D,path:E,labelX:T,labelY:R,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:N,markerStart:j,interactionWidth:M})})}const KS=WS({isInternal:!1}),QS=WS({isInternal:!0});KS.displayName="SmoothStepEdge";QS.displayName="SmoothStepEdgeInternal";function JS(e){return w.memo(({id:n,...r})=>{const a=e.isInternal?void 0:n;return o.jsx(KS,{...r,id:a,pathOptions:w.useMemo(()=>({borderRadius:0,offset:r.pathOptions?.offset}),[r.pathOptions?.offset])})})}const nI=JS({isInternal:!1}),ej=JS({isInternal:!0});nI.displayName="StepEdge";ej.displayName="StepEdgeInternal";function tj(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:S,interactionWidth:N})=>{const[j,_,M]=vS({sourceX:r,sourceY:a,targetX:l,targetY:c}),E=e.isInternal?void 0:n;return o.jsx(Al,{id:E,path:j,labelX:_,labelY:M,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:S,interactionWidth:N})})}const sI=tj({isInternal:!1}),nj=tj({isInternal:!0});sI.displayName="StraightEdge";nj.displayName="StraightEdgeInternal";function sj(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,sourcePosition:d=ze.Bottom,targetPosition:f=ze.Top,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:S,markerEnd:N,markerStart:j,pathOptions:_,interactionWidth:M})=>{const[E,T,R]=xS({sourceX:r,sourceY:a,sourcePosition:d,targetX:l,targetY:c,targetPosition:f,curvature:_?.curvature}),D=e.isInternal?void 0:n;return o.jsx(Al,{id:D,path:E,labelX:T,labelY:R,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:S,markerEnd:N,markerStart:j,interactionWidth:M})})}const rI=sj({isInternal:!1}),rj=sj({isInternal:!0});rI.displayName="BezierEdge";rj.displayName="BezierEdgeInternal";const Gb={default:rj,straight:nj,step:ej,smoothstep:QS,simplebezier:ZS},Xb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},oI=(e,n,r)=>r===ze.Left?e-n:r===ze.Right?e+n:e,aI=(e,n,r)=>r===ze.Top?e-n:r===ze.Bottom?e+n:e,Zb="react-flow__edgeupdater";function Wb({position:e,centerX:n,centerY:r,radius:a=10,onMouseDown:l,onMouseEnter:c,onMouseOut:d,type:f}){return o.jsx("circle",{onMouseDown:l,onMouseEnter:c,onMouseOut:d,className:Dt([Zb,`${Zb}-${f}`]),cx:oI(n,a,e),cy:aI(r,a,e),r:a,stroke:"transparent",fill:"transparent"})}function iI({isReconnectable:e,reconnectRadius:n,edge:r,sourceX:a,sourceY:l,targetX:c,targetY:d,sourcePosition:f,targetPosition:m,onReconnect:h,onReconnectStart:g,onReconnectEnd:y,setReconnecting:x,setUpdateHover:b}){const S=wt(),N=(T,R)=>{if(T.button!==0)return;const{autoPanOnConnect:D,domNode:O,isValidConnection:P,connectionMode:q,connectionRadius:Q,lib:ee,onConnectStart:G,onConnectEnd:W,cancelConnection:B,nodeLookup:U,rfId:k,panBy:L,updateConnection:I}=S.getState(),H=R.type==="target",C=(V,K)=>{x(!1),y?.(V,r,R.type,K)},$=V=>h?.(r,V),Y=(V,K)=>{x(!0),g?.(T,r,R.type),G?.(V,K)};gp.onPointerDown(T.nativeEvent,{autoPanOnConnect:D,connectionMode:q,connectionRadius:Q,domNode:O,handleId:R.id,nodeId:R.nodeId,nodeLookup:U,isTarget:H,edgeUpdaterType:R.type,lib:ee,flowId:k,cancelConnection:B,panBy:L,isValidConnection:P,onConnect:$,onConnectStart:Y,onConnectEnd:W,onReconnectEnd:C,updateConnection:I,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,dragThreshold:S.getState().connectionDragThreshold,handleDomNode:T.currentTarget})},j=T=>N(T,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),_=T=>N(T,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),M=()=>b(!0),E=()=>b(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(Wb,{position:f,centerX:a,centerY:l,radius:n,onMouseDown:j,onMouseEnter:M,onMouseOut:E,type:"source"}),(e===!0||e==="target")&&o.jsx(Wb,{position:m,centerX:c,centerY:d,radius:n,onMouseDown:_,onMouseEnter:M,onMouseOut:E,type:"target"})]})}function lI({id:e,edgesFocusable:n,edgesReconnectable:r,elementsSelectable:a,onClick:l,onDoubleClick:c,onContextMenu:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,reconnectRadius:g,onReconnect:y,onReconnectStart:x,onReconnectEnd:b,rfId:S,edgeTypes:N,noPanClassName:j,onError:_,disableKeyboardA11y:M}){let E=nt(ne=>ne.edgeLookup.get(e));const T=nt(ne=>ne.defaultEdgeOptions);E=T?{...T,...E}:E;let R=E.type||"default",D=N?.[R]||Gb[R];D===void 0&&(_?.("011",cs.error011(R)),R="default",D=N?.default||Gb.default);const O=!!(E.focusable||n&&typeof E.focusable>"u"),P=typeof y<"u"&&(E.reconnectable||r&&typeof E.reconnectable>"u"),q=!!(E.selectable||a&&typeof E.selectable>"u"),Q=w.useRef(null),[ee,G]=w.useState(!1),[W,B]=w.useState(!1),U=wt(),{zIndex:k,sourceX:L,sourceY:I,targetX:H,targetY:C,sourcePosition:$,targetPosition:Y}=nt(w.useCallback(ne=>{const he=ne.nodeLookup.get(E.source),X=ne.nodeLookup.get(E.target);if(!he||!X)return{zIndex:E.zIndex,...Xb};const pe=e9({id:e,sourceNode:he,targetNode:X,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:ne.connectionMode,onError:_});return{zIndex:Y8({selected:E.selected,zIndex:E.zIndex,sourceNode:he,targetNode:X,elevateOnSelect:ne.elevateEdgesOnSelect}),...pe||Xb}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),bt),V=w.useMemo(()=>E.markerStart?`url('#${hp(E.markerStart,S)}')`:void 0,[E.markerStart,S]),K=w.useMemo(()=>E.markerEnd?`url('#${hp(E.markerEnd,S)}')`:void 0,[E.markerEnd,S]);if(E.hidden||L===null||I===null||H===null||C===null)return null;const fe=ne=>{const{addSelectedEdges:he,unselectNodesAndEdges:X,multiSelectionActive:pe}=U.getState();q&&(U.setState({nodesSelectionActive:!1}),E.selected&&pe?(X({nodes:[],edges:[E]}),Q.current?.blur()):he([e])),l&&l(ne,E)},ue=c?ne=>{c(ne,{...E})}:void 0,te=d?ne=>{d(ne,{...E})}:void 0,ie=f?ne=>{f(ne,{...E})}:void 0,xe=m?ne=>{m(ne,{...E})}:void 0,ve=h?ne=>{h(ne,{...E})}:void 0,be=ne=>{if(!M&&nS.includes(ne.key)&&q){const{unselectNodesAndEdges:he,addSelectedEdges:X}=U.getState();ne.key==="Escape"?(Q.current?.blur(),he({edges:[E]})):X([e])}};return o.jsx("svg",{style:{zIndex:k},children:o.jsxs("g",{className:Dt(["react-flow__edge",`react-flow__edge-${R}`,E.className,j,{selected:E.selected,animated:E.animated,inactive:!q&&!l,updating:ee,selectable:q}]),onClick:fe,onDoubleClick:ue,onContextMenu:te,onMouseEnter:ie,onMouseMove:xe,onMouseLeave:ve,onKeyDown:O?be:void 0,tabIndex:O?0:void 0,role:E.ariaRole??(O?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":O?`${DS}-${S}`:void 0,ref:Q,...E.domAttributes,children:[!W&&o.jsx(D,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:q,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:L,sourceY:I,targetX:H,targetY:C,sourcePosition:$,targetPosition:Y,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:V,markerEnd:K,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),P&&o.jsx(iI,{edge:E,isReconnectable:P,reconnectRadius:g,onReconnect:y,onReconnectStart:x,onReconnectEnd:b,sourceX:L,sourceY:I,targetX:H,targetY:C,sourcePosition:$,targetPosition:Y,setUpdateHover:G,setReconnecting:B})]})})}const cI=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function oj({defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:r,edgeTypes:a,noPanClassName:l,onReconnect:c,onEdgeContextMenu:d,onEdgeMouseEnter:f,onEdgeMouseMove:m,onEdgeMouseLeave:h,onEdgeClick:g,reconnectRadius:y,onEdgeDoubleClick:x,onReconnectStart:b,onReconnectEnd:S,disableKeyboardA11y:N}){const{edgesFocusable:j,edgesReconnectable:_,elementsSelectable:M,onError:E}=nt(cI,bt),T=Xz(n);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(Jz,{defaultColor:e,rfId:r}),T.map(R=>o.jsx(lI,{id:R,edgesFocusable:j,edgesReconnectable:_,elementsSelectable:M,noPanClassName:l,onReconnect:c,onContextMenu:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,onClick:g,reconnectRadius:y,onDoubleClick:x,onReconnectStart:b,onReconnectEnd:S,rfId:r,onError:E,edgeTypes:a,disableKeyboardA11y:N},R))]})}oj.displayName="EdgeRenderer";const uI=w.memo(oj),dI=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function fI({children:e}){const n=nt(dI);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}function mI(e){const n=Ia(),r=w.useRef(!1);w.useEffect(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}const hI=e=>e.panZoom?.syncViewport;function pI(e){const n=nt(hI),r=wt();return w.useEffect(()=>{e&&(n?.(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,n]),null}function gI(e){return e.connection.inProgress?{...e.connection,to:kl(e.connection.to,e.transform)}:{...e.connection}}function xI(e){return gI}function yI(e){const n=xI();return nt(n,bt)}const vI=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function bI({containerStyle:e,style:n,type:r,component:a}){const{nodesConnectable:l,width:c,height:d,isValid:f,inProgress:m}=nt(vI,bt);return!(c&&l&&m)?null:o.jsx("svg",{style:e,width:c,height:d,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:Dt(["react-flow__connection",oS(f)]),children:o.jsx(aj,{style:n,type:r,CustomComponent:a,isValid:f})})})}const aj=({style:e,type:n=Nr.Bezier,CustomComponent:r,isValid:a})=>{const{inProgress:l,from:c,fromNode:d,fromHandle:f,fromPosition:m,to:h,toNode:g,toHandle:y,toPosition:x}=yI();if(!l)return;if(r)return o.jsx(r,{connectionLineType:n,connectionLineStyle:e,fromNode:d,fromHandle:f,fromX:c.x,fromY:c.y,toX:h.x,toY:h.y,fromPosition:m,toPosition:x,connectionStatus:oS(a),toNode:g,toHandle:y});let b="";const S={sourceX:c.x,sourceY:c.y,sourcePosition:m,targetX:h.x,targetY:h.y,targetPosition:x};switch(n){case Nr.Bezier:[b]=xS(S);break;case Nr.SimpleBezier:[b]=GS(S);break;case Nr.Step:[b]=mp({...S,borderRadius:0});break;case Nr.SmoothStep:[b]=mp(S);break;default:[b]=vS(S)}return o.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};aj.displayName="ConnectionLine";const wI={};function Kb(e=wI){w.useRef(e),wt(),w.useEffect(()=>{},[e])}function NI(){wt(),w.useRef(!1),w.useEffect(()=>{},[])}function ij({nodeTypes:e,edgeTypes:n,onInit:r,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:g,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:b,connectionLineType:S,connectionLineStyle:N,connectionLineComponent:j,connectionLineContainerStyle:_,selectionKeyCode:M,selectionOnDrag:E,selectionMode:T,multiSelectionKeyCode:R,panActivationKeyCode:D,zoomActivationKeyCode:O,deleteKeyCode:P,onlyRenderVisibleElements:q,elementsSelectable:Q,defaultViewport:ee,translateExtent:G,minZoom:W,maxZoom:B,preventScrolling:U,defaultMarkerColor:k,zoomOnScroll:L,zoomOnPinch:I,panOnScroll:H,panOnScrollSpeed:C,panOnScrollMode:$,zoomOnDoubleClick:Y,panOnDrag:V,onPaneClick:K,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:te,onPaneScroll:ie,onPaneContextMenu:xe,paneClickDistance:ve,nodeClickDistance:be,onEdgeContextMenu:ne,onEdgeMouseEnter:he,onEdgeMouseMove:X,onEdgeMouseLeave:pe,reconnectRadius:Ne,onReconnect:ye,onReconnectStart:Oe,onReconnectEnd:Se,noDragClassName:Ie,noWheelClassName:Xe,noPanClassName:He,disableKeyboardA11y:Re,nodeExtent:Ve,rfId:_e,viewport:$e,onViewportChange:Fe}){return Kb(e),Kb(n),NI(),mI(r),pI($e),o.jsx($z,{onPaneClick:K,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:te,onPaneContextMenu:xe,onPaneScroll:ie,paneClickDistance:ve,deleteKeyCode:P,selectionKeyCode:M,selectionOnDrag:E,selectionMode:T,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:R,panActivationKeyCode:D,zoomActivationKeyCode:O,elementsSelectable:Q,zoomOnScroll:L,zoomOnPinch:I,zoomOnDoubleClick:Y,panOnScroll:H,panOnScrollSpeed:C,panOnScrollMode:$,panOnDrag:V,defaultViewport:ee,translateExtent:G,minZoom:W,maxZoom:B,onSelectionContextMenu:y,preventScrolling:U,noDragClassName:Ie,noWheelClassName:Xe,noPanClassName:He,disableKeyboardA11y:Re,onViewportChange:Fe,isControlledViewport:!!$e,children:o.jsxs(fI,{children:[o.jsx(uI,{edgeTypes:n,onEdgeClick:l,onEdgeDoubleClick:d,onReconnect:ye,onReconnectStart:Oe,onReconnectEnd:Se,onlyRenderVisibleElements:q,onEdgeContextMenu:ne,onEdgeMouseEnter:he,onEdgeMouseMove:X,onEdgeMouseLeave:pe,reconnectRadius:Ne,defaultMarkerColor:k,noPanClassName:He,disableKeyboardA11y:Re,rfId:_e}),o.jsx(bI,{style:N,type:S,component:j,containerStyle:_}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(Gz,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:g,nodeClickDistance:be,onlyRenderVisibleElements:q,noPanClassName:He,noDragClassName:Ie,disableKeyboardA11y:Re,nodeExtent:Ve,rfId:_e}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}ij.displayName="GraphView";const SI=w.memo(ij),Qb=({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m=.5,maxZoom:h=2,nodeOrigin:g,nodeExtent:y}={})=>{const x=new Map,b=new Map,S=new Map,N=new Map,j=a??n??[],_=r??e??[],M=g??[0,0],E=y??cl;wS(S,N,j);const T=pp(_,x,b,{nodeOrigin:M,nodeExtent:E,elevateNodesOnSelect:!1});let R=[0,0,1];if(d&&l&&c){const D=El(x,{filter:Q=>!!((Q.width||Q.initialWidth)&&(Q.height||Q.initialHeight))}),{x:O,y:P,zoom:q}=pg(D,l,c,m,h,f?.padding??.1);R=[O,P,q]}return{rfId:"1",width:0,height:0,transform:R,nodes:_,nodesInitialized:T,nodeLookup:x,parentLookup:b,edges:j,edgeLookup:N,connectionLookup:S,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:m,maxZoom:h,translateExtent:cl,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:_a.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:M,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:d??!1,fitViewOptions:f,fitViewResolver:null,connection:{...rS},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:P8,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:sS}},jI=({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m,maxZoom:h,nodeOrigin:g,nodeExtent:y})=>q9((x,b)=>{async function S(){const{nodeLookup:N,panZoom:j,fitViewOptions:_,fitViewResolver:M,width:E,height:T,minZoom:R,maxZoom:D}=b();j&&(await H8({nodes:N,width:E,height:T,panZoom:j,minZoom:R,maxZoom:D},_),M?.resolve(!0),x({fitViewResolver:null}))}return{...Qb({nodes:e,edges:n,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m,maxZoom:h,nodeOrigin:g,nodeExtent:y,defaultNodes:r,defaultEdges:a}),setNodes:N=>{const{nodeLookup:j,parentLookup:_,nodeOrigin:M,elevateNodesOnSelect:E,fitViewQueued:T}=b(),R=pp(N,j,_,{nodeOrigin:M,nodeExtent:y,elevateNodesOnSelect:E,checkEquality:!0});T&&R?(S(),x({nodes:N,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:N,nodesInitialized:R})},setEdges:N=>{const{connectionLookup:j,edgeLookup:_}=b();wS(j,_,N),x({edges:N})},setDefaultNodesAndEdges:(N,j)=>{if(N){const{setNodes:_}=b();_(N),x({hasDefaultNodes:!0})}if(j){const{setEdges:_}=b();_(j),x({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:j,nodeLookup:_,parentLookup:M,domNode:E,nodeOrigin:T,nodeExtent:R,debug:D,fitViewQueued:O}=b(),{changes:P,updatedInternals:q}=a9(N,_,M,E,T,R);q&&(s9(_,M,{nodeOrigin:T,nodeExtent:R}),O?(S(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),P?.length>0&&(D&&console.log("React Flow: trigger node changes",P),j?.(P)))},updateNodePositions:(N,j=!1)=>{const _=[],M=[],{nodeLookup:E,triggerNodeChanges:T}=b();for(const[R,D]of N){const O=E.get(R),P=!!(O?.expandParent&&O?.parentId&&D?.position),q={id:R,type:"position",position:P?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:j};P&&O.parentId&&_.push({id:R,parentId:O.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),M.push(q)}if(_.length>0){const{parentLookup:R,nodeOrigin:D}=b(),O=bg(_,E,R,D);M.push(...O)}T(M)},triggerNodeChanges:N=>{const{onNodesChange:j,setNodes:_,nodes:M,hasDefaultNodes:E,debug:T}=b();if(N?.length){if(E){const R=IS(N,M);_(R)}T&&console.log("React Flow: trigger node changes",N),j?.(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:j,setEdges:_,edges:M,hasDefaultEdges:E,debug:T}=b();if(N?.length){if(E){const R=LS(N,M);_(R)}T&&console.log("React Flow: trigger edge changes",N),j?.(N)}},addSelectedNodes:N=>{const{multiSelectionActive:j,edgeLookup:_,nodeLookup:M,triggerNodeChanges:E,triggerEdgeChanges:T}=b();if(j){const R=N.map(D=>eo(D,!0));E(R);return}E(ua(M,new Set([...N]),!0)),T(ua(_))},addSelectedEdges:N=>{const{multiSelectionActive:j,edgeLookup:_,nodeLookup:M,triggerNodeChanges:E,triggerEdgeChanges:T}=b();if(j){const R=N.map(D=>eo(D,!0));T(R);return}T(ua(_,new Set([...N]))),E(ua(M,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:j}={})=>{const{edges:_,nodes:M,nodeLookup:E,triggerNodeChanges:T,triggerEdgeChanges:R}=b(),D=N||M,O=j||_,P=D.map(Q=>{const ee=E.get(Q.id);return ee&&(ee.selected=!1),eo(Q.id,!1)}),q=O.map(Q=>eo(Q.id,!1));T(P),R(q)},setMinZoom:N=>{const{panZoom:j,maxZoom:_}=b();j?.setScaleExtent([N,_]),x({minZoom:N})},setMaxZoom:N=>{const{panZoom:j,minZoom:_}=b();j?.setScaleExtent([_,N]),x({maxZoom:N})},setTranslateExtent:N=>{b().panZoom?.setTranslateExtent(N),x({translateExtent:N})},setPaneClickDistance:N=>{b().panZoom?.setClickDistance(N)},resetSelectedElements:()=>{const{edges:N,nodes:j,triggerNodeChanges:_,triggerEdgeChanges:M,elementsSelectable:E}=b();if(!E)return;const T=j.reduce((D,O)=>O.selected?[...D,eo(O.id,!1)]:D,[]),R=N.reduce((D,O)=>O.selected?[...D,eo(O.id,!1)]:D,[]);_(T),M(R)},setNodeExtent:N=>{const{nodes:j,nodeLookup:_,parentLookup:M,nodeOrigin:E,elevateNodesOnSelect:T,nodeExtent:R}=b();N[0][0]===R[0][0]&&N[0][1]===R[0][1]&&N[1][0]===R[1][0]&&N[1][1]===R[1][1]||(pp(j,_,M,{nodeOrigin:E,nodeExtent:N,elevateNodesOnSelect:T,checkEquality:!1}),x({nodeExtent:N}))},panBy:N=>{const{transform:j,width:_,height:M,panZoom:E,translateExtent:T}=b();return i9({delta:N,panZoom:E,transform:j,translateExtent:T,width:_,height:M})},setCenter:async(N,j,_)=>{const{width:M,height:E,maxZoom:T,panZoom:R}=b();if(!R)return Promise.resolve(!1);const D=typeof _?.zoom<"u"?_.zoom:T;return await R.setViewport({x:M/2-N*D,y:E/2-j*D,zoom:D},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...rS}})},updateConnection:N=>{x({connection:N})},reset:()=>x({...Qb()})}},Object.is);function _I({initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:a,initialWidth:l,initialHeight:c,initialMinZoom:d,initialMaxZoom:f,initialFitViewOptions:m,fitView:h,nodeOrigin:g,nodeExtent:y,children:x}){const[b]=w.useState(()=>jI({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:h,minZoom:d,maxZoom:f,fitViewOptions:m,nodeOrigin:g,nodeExtent:y}));return o.jsx(F9,{value:b,children:o.jsx(hz,{children:x})})}function EI({children:e,nodes:n,edges:r,defaultNodes:a,defaultEdges:l,width:c,height:d,fitView:f,fitViewOptions:m,minZoom:h,maxZoom:g,nodeOrigin:y,nodeExtent:x}){return w.useContext(Od)?o.jsx(o.Fragment,{children:e}):o.jsx(_I,{initialNodes:n,initialEdges:r,defaultNodes:a,defaultEdges:l,initialWidth:c,initialHeight:d,fitView:f,initialFitViewOptions:m,initialMinZoom:h,initialMaxZoom:g,nodeOrigin:y,nodeExtent:x,children:e})}const CI={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function kI({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,className:l,nodeTypes:c,edgeTypes:d,onNodeClick:f,onEdgeClick:m,onInit:h,onMove:g,onMoveStart:y,onMoveEnd:x,onConnect:b,onConnectStart:S,onConnectEnd:N,onClickConnectStart:j,onClickConnectEnd:_,onNodeMouseEnter:M,onNodeMouseMove:E,onNodeMouseLeave:T,onNodeContextMenu:R,onNodeDoubleClick:D,onNodeDragStart:O,onNodeDrag:P,onNodeDragStop:q,onNodesDelete:Q,onEdgesDelete:ee,onDelete:G,onSelectionChange:W,onSelectionDragStart:B,onSelectionDrag:U,onSelectionDragStop:k,onSelectionContextMenu:L,onSelectionStart:I,onSelectionEnd:H,onBeforeDelete:C,connectionMode:$,connectionLineType:Y=Nr.Bezier,connectionLineStyle:V,connectionLineComponent:K,connectionLineContainerStyle:fe,deleteKeyCode:ue="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:ie=!1,selectionMode:xe=ul.Full,panActivationKeyCode:ve="Space",multiSelectionKeyCode:be=fl()?"Meta":"Control",zoomActivationKeyCode:ne=fl()?"Meta":"Control",snapToGrid:he,snapGrid:X,onlyRenderVisibleElements:pe=!1,selectNodesOnDrag:Ne,nodesDraggable:ye,autoPanOnNodeFocus:Oe,nodesConnectable:Se,nodesFocusable:Ie,nodeOrigin:Xe=OS,edgesFocusable:He,edgesReconnectable:Re,elementsSelectable:Ve=!0,defaultViewport:_e=rz,minZoom:$e=.5,maxZoom:Fe=2,translateExtent:Nt=cl,preventScrolling:yt=!0,nodeExtent:hs,defaultMarkerColor:wo="#b1b1b7",zoomOnScroll:ge=!0,zoomOnPinch:Me=!0,panOnScroll:Be=!1,panOnScrollSpeed:Et=.5,panOnScrollMode:Rn=ao.Free,zoomOnDoubleClick:Le=!0,panOnDrag:we=!0,onPaneClick:lt,onPaneMouseEnter:at,onPaneMouseMove:At,onPaneMouseLeave:en,onPaneScroll:Dn,onPaneContextMenu:Gn,paneClickDistance:La=0,nodeClickDistance:Ha=0,children:$a,onReconnect:Ml,onReconnectStart:Ld,onReconnectEnd:Xn,onEdgeContextMenu:Ht,onEdgeDoubleClick:Xt,onEdgeMouseEnter:qs,onEdgeMouseMove:Pa,onEdgeMouseLeave:Hd,reconnectRadius:$d=10,onNodesChange:Tl,onEdgesChange:Or,noDragClassName:Ba="nodrag",noWheelClassName:Fs="nowheel",noPanClassName:ps="nopan",fitView:Ys,fitViewOptions:gs,connectOnClick:Mt,attributionPosition:Rl,proOptions:Dl,defaultEdgeOptions:xs,elevateNodesOnSelect:Gs,elevateEdgesOnSelect:Pd,disableKeyboardA11y:Ua=!1,autoPanOnConnect:Ol,autoPanOnNodeDrag:Bd,autoPanSpeed:No,connectionRadius:So,isValidConnection:On,onError:Va,style:zl,id:ys,nodeDragThreshold:qa,connectionDragThreshold:Fa,viewport:Ud,onViewportChange:Il,width:tn,height:Ll,colorMode:Vd="light",debug:jo,onScroll:Ya,ariaLabelConfig:_o,...qd},nn){const zr=ys||"1",Hl=lz(Vd),Ga=w.useCallback(vs=>{vs.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ya?.(vs)},[Ya]);return o.jsx("div",{"data-testid":"rf__wrapper",...qd,onScroll:Ga,style:{...zl,...CI},ref:nn,className:Dt(["react-flow",l,Hl]),id:ys,role:"application",children:o.jsxs(EI,{nodes:e,edges:n,width:tn,height:Ll,fitView:Ys,fitViewOptions:gs,minZoom:$e,maxZoom:Fe,nodeOrigin:Xe,nodeExtent:hs,children:[o.jsx(SI,{onInit:h,onNodeClick:f,onEdgeClick:m,onNodeMouseEnter:M,onNodeMouseMove:E,onNodeMouseLeave:T,onNodeContextMenu:R,onNodeDoubleClick:D,nodeTypes:c,edgeTypes:d,connectionLineType:Y,connectionLineStyle:V,connectionLineComponent:K,connectionLineContainerStyle:fe,selectionKeyCode:te,selectionOnDrag:ie,selectionMode:xe,deleteKeyCode:ue,multiSelectionKeyCode:be,panActivationKeyCode:ve,zoomActivationKeyCode:ne,onlyRenderVisibleElements:pe,defaultViewport:_e,translateExtent:Nt,minZoom:$e,maxZoom:Fe,preventScrolling:yt,zoomOnScroll:ge,zoomOnPinch:Me,zoomOnDoubleClick:Le,panOnScroll:Be,panOnScrollSpeed:Et,panOnScrollMode:Rn,panOnDrag:we,onPaneClick:lt,onPaneMouseEnter:at,onPaneMouseMove:At,onPaneMouseLeave:en,onPaneScroll:Dn,onPaneContextMenu:Gn,paneClickDistance:La,nodeClickDistance:Ha,onSelectionContextMenu:L,onSelectionStart:I,onSelectionEnd:H,onReconnect:Ml,onReconnectStart:Ld,onReconnectEnd:Xn,onEdgeContextMenu:Ht,onEdgeDoubleClick:Xt,onEdgeMouseEnter:qs,onEdgeMouseMove:Pa,onEdgeMouseLeave:Hd,reconnectRadius:$d,defaultMarkerColor:wo,noDragClassName:Ba,noWheelClassName:Fs,noPanClassName:ps,rfId:zr,disableKeyboardA11y:Ua,nodeExtent:hs,viewport:Ud,onViewportChange:Il}),o.jsx(iz,{nodes:e,edges:n,defaultNodes:r,defaultEdges:a,onConnect:b,onConnectStart:S,onConnectEnd:N,onClickConnectStart:j,onClickConnectEnd:_,nodesDraggable:ye,autoPanOnNodeFocus:Oe,nodesConnectable:Se,nodesFocusable:Ie,edgesFocusable:He,edgesReconnectable:Re,elementsSelectable:Ve,elevateNodesOnSelect:Gs,elevateEdgesOnSelect:Pd,minZoom:$e,maxZoom:Fe,nodeExtent:hs,onNodesChange:Tl,onEdgesChange:Or,snapToGrid:he,snapGrid:X,connectionMode:$,translateExtent:Nt,connectOnClick:Mt,defaultEdgeOptions:xs,fitView:Ys,fitViewOptions:gs,onNodesDelete:Q,onEdgesDelete:ee,onDelete:G,onNodeDragStart:O,onNodeDrag:P,onNodeDragStop:q,onSelectionDrag:U,onSelectionDragStart:B,onSelectionDragStop:k,onMove:g,onMoveStart:y,onMoveEnd:x,noPanClassName:ps,nodeOrigin:Xe,rfId:zr,autoPanOnConnect:Ol,autoPanOnNodeDrag:Bd,autoPanSpeed:No,onError:Va,connectionRadius:So,isValidConnection:On,selectNodesOnDrag:Ne,nodeDragThreshold:qa,connectionDragThreshold:Fa,onBeforeDelete:C,paneClickDistance:La,debug:jo,ariaLabelConfig:_o}),o.jsx(sz,{onSelectionChange:W}),$a,o.jsx(Q9,{proOptions:Dl,position:Rl}),o.jsx(K9,{rfId:zr,disableKeyboardA11y:Ua})]})})}var AI=HS(kI);function MI(e){const[n,r]=w.useState(e),a=w.useCallback(l=>r(c=>IS(l,c)),[]);return[n,r,a]}function TI(e){const[n,r]=w.useState(e),a=w.useCallback(l=>r(c=>LS(l,c)),[]);return[n,r,a]}function RI(e){return nt(w.useCallback(r=>r.nodeLookup.get(e),[e]),bt)}function DI({dimensions:e,lineWidth:n,variant:r,className:a}){return o.jsx("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Dt(["react-flow__background-pattern",r,a])})}function OI({radius:e,className:n}){return o.jsx("circle",{cx:e,cy:e,r:e,className:Dt(["react-flow__background-pattern","dots",n])})}var $s;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})($s||($s={}));const zI={[$s.Dots]:1,[$s.Lines]:1,[$s.Cross]:6},II=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function lj({id:e,variant:n=$s.Dots,gap:r=20,size:a,lineWidth:l=1,offset:c=0,color:d,bgColor:f,style:m,className:h,patternClassName:g}){const y=w.useRef(null),{transform:x,patternId:b}=nt(II,bt),S=a||zI[n],N=n===$s.Dots,j=n===$s.Cross,_=Array.isArray(r)?r:[r,r],M=[_[0]*x[2]||1,_[1]*x[2]||1],E=S*x[2],T=Array.isArray(c)?c:[c,c],R=j?[E,E]:M,D=[T[0]*x[2]||1+R[0]/2,T[1]*x[2]||1+R[1]/2],O=`${b}${e||""}`;return o.jsxs("svg",{className:Dt(["react-flow__background",h]),style:{...m,...Id,"--xy-background-color-props":f,"--xy-background-pattern-color-props":d},ref:y,"data-testid":"rf__background",children:[o.jsx("pattern",{id:O,x:x[0]%M[0],y:x[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${D[0]},-${D[1]})`,children:N?o.jsx(OI,{radius:E/2,className:g}):o.jsx(DI,{dimensions:R,lineWidth:l,variant:n,className:g})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}lj.displayName="Background";const LI=w.memo(lj);function HI(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function $I(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function PI(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function BI(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function UI(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function cu({children:e,className:n,...r}){return o.jsx("button",{type:"button",className:Dt(["react-flow__controls-button",n]),...r,children:e})}const VI=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function cj({style:e,showZoom:n=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:l,onZoomIn:c,onZoomOut:d,onFitView:f,onInteractiveChange:m,className:h,children:g,position:y="bottom-left",orientation:x="vertical","aria-label":b}){const S=wt(),{isInteractive:N,minZoomReached:j,maxZoomReached:_,ariaLabelConfig:M}=nt(VI,bt),{zoomIn:E,zoomOut:T,fitView:R}=Ia(),D=()=>{E(),c?.()},O=()=>{T(),d?.()},P=()=>{R(l),f?.()},q=()=>{S.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),m?.(!N)},Q=x==="horizontal"?"horizontal":"vertical";return o.jsxs(zd,{className:Dt(["react-flow__controls",Q,h]),position:y,style:e,"data-testid":"rf__controls","aria-label":b??M["controls.ariaLabel"],children:[n&&o.jsxs(o.Fragment,{children:[o.jsx(cu,{onClick:D,className:"react-flow__controls-zoomin",title:M["controls.zoomIn.ariaLabel"],"aria-label":M["controls.zoomIn.ariaLabel"],disabled:_,children:o.jsx(HI,{})}),o.jsx(cu,{onClick:O,className:"react-flow__controls-zoomout",title:M["controls.zoomOut.ariaLabel"],"aria-label":M["controls.zoomOut.ariaLabel"],disabled:j,children:o.jsx($I,{})})]}),r&&o.jsx(cu,{className:"react-flow__controls-fitview",onClick:P,title:M["controls.fitView.ariaLabel"],"aria-label":M["controls.fitView.ariaLabel"],children:o.jsx(PI,{})}),a&&o.jsx(cu,{className:"react-flow__controls-interactive",onClick:q,title:M["controls.interactive.ariaLabel"],"aria-label":M["controls.interactive.ariaLabel"],children:N?o.jsx(UI,{}):o.jsx(BI,{})}),g]})}cj.displayName="Controls";const qI=w.memo(cj);function FI({id:e,x:n,y:r,width:a,height:l,style:c,color:d,strokeColor:f,strokeWidth:m,className:h,borderRadius:g,shapeRendering:y,selected:x,onClick:b}){const{background:S,backgroundColor:N}=c||{},j=d||S||N;return o.jsx("rect",{className:Dt(["react-flow__minimap-node",{selected:x},h]),x:n,y:r,rx:g,ry:g,width:a,height:l,style:{fill:j,stroke:f,strokeWidth:m},shapeRendering:y,onClick:b?_=>b(_,e):void 0})}const YI=w.memo(FI),GI=e=>e.nodes.map(n=>n.id),Th=e=>e instanceof Function?e:()=>e;function XI({nodeStrokeColor:e,nodeColor:n,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:l,nodeComponent:c=YI,onClick:d}){const f=nt(GI,bt),m=Th(n),h=Th(e),g=Th(r),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:f.map(x=>o.jsx(WI,{id:x,nodeColorFunc:m,nodeStrokeColorFunc:h,nodeClassNameFunc:g,nodeBorderRadius:a,nodeStrokeWidth:l,NodeComponent:c,onClick:d,shapeRendering:y},x))})}function ZI({id:e,nodeColorFunc:n,nodeStrokeColorFunc:r,nodeClassNameFunc:a,nodeBorderRadius:l,nodeStrokeWidth:c,shapeRendering:d,NodeComponent:f,onClick:m}){const{node:h,x:g,y,width:x,height:b}=nt(S=>{const{internals:N}=S.nodeLookup.get(e),j=N.userNode,{x:_,y:M}=N.positionAbsolute,{width:E,height:T}=Vs(j);return{node:j,x:_,y:M,width:E,height:T}},bt);return!h||h.hidden||!dS(h)?null:o.jsx(f,{x:g,y,width:x,height:b,style:h.style,selected:!!h.selected,className:a(h),color:n(h),borderRadius:l,strokeColor:r(h),strokeWidth:c,shapeRendering:d,onClick:m,id:h.id})}const WI=w.memo(ZI);var KI=w.memo(XI);const QI=200,JI=150,e7=e=>!e.hidden,t7=e=>{const n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:e.nodeLookup.size>0?uS(El(e.nodeLookup,{filter:e7}),n):n,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},n7="react-flow__minimap-desc";function uj({style:e,className:n,nodeStrokeColor:r,nodeColor:a,nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:d,nodeComponent:f,bgColor:m,maskColor:h,maskStrokeColor:g,maskStrokeWidth:y,position:x="bottom-right",onClick:b,onNodeClick:S,pannable:N=!1,zoomable:j=!1,ariaLabel:_,inversePan:M,zoomStep:E=1,offsetScale:T=5}){const R=wt(),D=w.useRef(null),{boundingRect:O,viewBB:P,rfId:q,panZoom:Q,translateExtent:ee,flowWidth:G,flowHeight:W,ariaLabelConfig:B}=nt(t7,bt),U=e?.width??QI,k=e?.height??JI,L=O.width/U,I=O.height/k,H=Math.max(L,I),C=H*U,$=H*k,Y=T*H,V=O.x-(C-O.width)/2-Y,K=O.y-($-O.height)/2-Y,fe=C+Y*2,ue=$+Y*2,te=`${n7}-${q}`,ie=w.useRef(0),xe=w.useRef();ie.current=H,w.useEffect(()=>{if(D.current&&Q)return xe.current=g9({domNode:D.current,panZoom:Q,getTransform:()=>R.getState().transform,getViewScale:()=>ie.current}),()=>{xe.current?.destroy()}},[Q]),w.useEffect(()=>{xe.current?.update({translateExtent:ee,width:G,height:W,inversePan:M,pannable:N,zoomStep:E,zoomable:j})},[N,j,M,E,ee,G,W]);const ve=b?he=>{const[X,pe]=xe.current?.pointer(he)||[0,0];b(he,{x:X,y:pe})}:void 0,be=S?w.useCallback((he,X)=>{const pe=R.getState().nodeLookup.get(X).internals.userNode;S(he,pe)},[]):void 0,ne=_??B["minimap.ariaLabel"];return o.jsx(zd,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*H:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof d=="number"?d:void 0},className:Dt(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:U,height:k,viewBox:`${V} ${K} ${fe} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":te,ref:D,onClick:ve,children:[ne&&o.jsx("title",{id:te,children:ne}),o.jsx(KI,{onClick:be,nodeColor:a,nodeStrokeColor:r,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:d,nodeComponent:f}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${V-Y},${K-Y}h${fe+Y*2}v${ue+Y*2}h${-fe-Y*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}uj.displayName="MiniMap";const s7=w.memo(uj),r7=e=>n=>e?`${Math.max(1/n.transform[2],1)}`:void 0,o7={[Aa.Line]:"right",[Aa.Handle]:"bottom-right"};function a7({nodeId:e,position:n,variant:r=Aa.Handle,className:a,style:l=void 0,children:c,color:d,minWidth:f=10,minHeight:m=10,maxWidth:h=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:x,autoScale:b=!0,shouldResize:S,onResizeStart:N,onResize:j,onResizeEnd:_}){const M=US(),E=typeof e=="string"?e:M,T=wt(),R=w.useRef(null),D=r===Aa.Handle,O=nt(w.useCallback(r7(D&&b),[D,b]),bt),P=w.useRef(null),q=n??o7[r];w.useEffect(()=>{if(!(!R.current||!E))return P.current||(P.current=R9({domNode:R.current,nodeId:E,getStoreItems:()=>{const{nodeLookup:ee,transform:G,snapGrid:W,snapToGrid:B,nodeOrigin:U,domNode:k}=T.getState();return{nodeLookup:ee,transform:G,snapGrid:W,snapToGrid:B,nodeOrigin:U,paneDomNode:k}},onChange:(ee,G)=>{const{triggerNodeChanges:W,nodeLookup:B,parentLookup:U,nodeOrigin:k}=T.getState(),L=[],I={x:ee.x,y:ee.y},H=B.get(E);if(H&&H.expandParent&&H.parentId){const C=H.origin??k,$=ee.width??H.measured.width??0,Y=ee.height??H.measured.height??0,V={id:H.id,parentId:H.parentId,rect:{width:$,height:Y,...fS({x:ee.x??H.position.x,y:ee.y??H.position.y},{width:$,height:Y},H.parentId,B,C)}},K=bg([V],B,U,k);L.push(...K),I.x=ee.x?Math.max(C[0]*$,ee.x):void 0,I.y=ee.y?Math.max(C[1]*Y,ee.y):void 0}if(I.x!==void 0&&I.y!==void 0){const C={id:E,type:"position",position:{...I}};L.push(C)}if(ee.width!==void 0&&ee.height!==void 0){const $={id:E,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:ee.width,height:ee.height}};L.push($)}for(const C of G){const $={...C,type:"position"};L.push($)}W(L)},onEnd:({width:ee,height:G})=>{const W={id:E,type:"dimensions",resizing:!1,dimensions:{width:ee,height:G}};T.getState().triggerNodeChanges([W])}})),P.current.update({controlPosition:q,boundaries:{minWidth:f,minHeight:m,maxWidth:h,maxHeight:g},keepAspectRatio:y,resizeDirection:x,onResizeStart:N,onResize:j,onResizeEnd:_,shouldResize:S}),()=>{P.current?.destroy()}},[q,f,m,h,g,y,N,j,_,S]);const Q=q.split("-");return o.jsx("div",{className:Dt(["react-flow__resize-control","nodrag",...Q,r,a]),ref:R,style:{...l,scale:O,...d&&{[D?"backgroundColor":"borderColor"]:d}},children:c})}w.memo(a7);const i7=e=>{switch(e){case"running":return{borderColor:"border-[#643FB2] dark:border-[#8B5CF6]",glow:"shadow-lg shadow-[#643FB2]/20",badgeColor:"bg-[#643FB2] dark:bg-[#8B5CF6]"};case"completed":return{borderColor:"border-green-500 dark:border-green-400",glow:"shadow-lg shadow-green-500/20",badgeColor:"bg-green-500 dark:bg-green-400"};case"failed":return{borderColor:"border-red-500 dark:border-red-400",glow:"shadow-lg shadow-red-500/20",badgeColor:"bg-red-500 dark:bg-red-400"};case"cancelled":return{borderColor:"border-orange-500 dark:border-orange-400",glow:"shadow-lg shadow-orange-500/20",badgeColor:"bg-orange-500 dark:bg-orange-400"};case"pending":default:return{borderColor:"border-gray-300 dark:border-gray-600",glow:"",badgeColor:"bg-gray-400 dark:bg-gray-500"}}},dj=w.memo(({data:e,selected:n})=>{const r=e,a=i7(r.state),l=r.inputData||r.outputData||r.error,c=r.state==="running",d=c&&(r.isStreaming??!0),f=r.layoutDirection==="TB",m=f?ze.Top:ze.Left,h=f?ze.Bottom:ze.Right,g=()=>{const y=[];if(r.error&&typeof r.error=="string"){const x=yu(r.error,150);y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-1",children:"Error:"}),o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-950/20 p-2 rounded border border-red-200 dark:border-red-800 break-words",children:x})]},"error"))}if(r.outputData)try{const x=typeof r.outputData=="string"?r.outputData:JSON.stringify(r.outputData,null,2);y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Output:"}),o.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-green-50 dark:bg-green-950/20 p-2 rounded border border-green-200 dark:border-green-800 max-h-20 overflow-auto",children:o.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:x})})]},"output"))}catch{y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Output:"}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-green-50 dark:bg-green-950/20 p-2 rounded border border-green-200 dark:border-green-800",children:"[Unable to display output data]"})]},"output"))}if(r.inputData)try{const x=typeof r.inputData=="string"?r.inputData:JSON.stringify(r.inputData,null,2);y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Input:"}),o.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-800 max-h-20 overflow-auto",children:o.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:x})})]},"input"))}catch{y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Input:"}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:"[Unable to display input data]"})]},"input"))}return y.length>0?y:null};return o.jsxs("div",{className:Ze("group relative w-64 bg-card dark:bg-card rounded border-2 transition-all duration-200",a.borderColor,n?"ring-2 ring-blue-500 ring-offset-2":"",c?a.glow:"shadow-sm"),children:[o.jsx(Ma,{type:"target",position:m,id:"target",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:r.state==="running"?"#643FB2":r.state==="completed"?"#10b981":r.state==="failed"?"#ef4444":r.state==="cancelled"?"#f97316":"#4b5563"}}),o.jsx(Ma,{type:"source",position:h,id:"source",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:r.state==="running"?"#643FB2":r.state==="completed"?"#10b981":r.state==="failed"?"#ef4444":r.state==="cancelled"?"#f97316":"#4b5563"}}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 relative",children:o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-900/90 dark:bg-gray-800/90 flex items-center justify-center",children:r.isStartNode?o.jsx(fM,{className:"w-5 h-5 text-[#643FB2] dark:text-[#8B5CF6]"}):o.jsx(Is,{className:"w-5 h-5 text-gray-300 dark:text-gray-400"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("h3",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:r.name||r.executorId}),c&&o.jsx(Cr,{className:`w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] ${d?"animate-spin":""} flex-shrink-0`})]}),r.executorType&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-0.5",children:r.executorType})]})]}),l&&o.jsx("div",{className:"mt-3",children:g()}),c&&o.jsx("div",{className:"absolute inset-0 rounded border-2 border-[#643FB2]/30 dark:border-[#8B5CF6]/30 animate-pulse pointer-events-none"})]})]})});dj.displayName="ExecutorNode";const l7=w.memo(function({id:n,source:r,markerEnd:a,style:l}){const c=RI(r);if(!c)return null;const{width:d,height:f}=c.measured,{x:m,y:h}=c.internals.positionAbsolute;if(!d||!f)return null;const y=c.data?.layoutDirection==="TB",x=100,b=40;let S;if(y){const N=m+d/2,j=h+f,_=m+d/2,M=h,E=m+d+x;S=`M ${N} ${j} C ${N} ${j+b}, ${E} ${j+b}, ${E} ${h+f/2} C ${E} ${M-b}, ${_} ${M-b}, ${_} ${M}`}else{const N=m+d,j=h+f/2,_=m,M=h+f/2,E=h+f+x;S=`M ${N} ${j} C ${N+b} ${j}, ${N+b} ${E}, ${m+d/2} ${E} C ${_-b} ${E}, ${_-b} ${M}, ${_} ${M}`}return o.jsx(Al,{id:n,path:S,markerEnd:a,style:l})}),c7={executor:dj},u7={selfLoop:l7};function d7({workflowDump:e,onNodeSelect:n,viewOptions:r,onToggleViewOption:a,layoutDirection:l,onLayoutDirectionChange:c}){const{fitView:d,setViewport:f,setNodes:m}=Ia(),h=()=>{f({x:0,y:0,zoom:1})},g=()=>{d({padding:.2})},y=()=>{if(!e)return;const x=tp(e,n,l),b=np(e),S=sp(x,b,l);m(S)};return o.jsx("div",{className:"absolute top-4 right-4 z-10",children:o.jsxs(ud,{children:[o.jsx(dd,{asChild:!0,children:o.jsxs(Te,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white/90 backdrop-blur-sm border-gray-200 shadow-sm hover:bg-white dark:bg-gray-800/90 dark:border-gray-600 dark:hover:bg-gray-800",children:[o.jsx(rM,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"View options"})]})}),o.jsxs(fd,{align:"end",className:"w-56",children:[o.jsxs(Lt,{className:"flex items-center justify-between",onClick:()=>a?.("showMinimap"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(jM,{className:"mr-2 h-4 w-4"}),"Show Minimap"]}),o.jsx(to,{checked:r.showMinimap,onChange:()=>{}})]}),o.jsxs(Lt,{className:"flex items-center justify-between",onClick:()=>a?.("showGrid"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(uM,{className:"mr-2 h-4 w-4"}),"Show Grid"]}),o.jsx(to,{checked:r.showGrid,onChange:()=>{}})]}),o.jsxs(Lt,{className:"flex items-center justify-between",onClick:()=>a?.("animateRun"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Xp,{className:"mr-2 h-4 w-4"}),"Animate Run"]}),o.jsx(to,{checked:r.animateRun,onChange:()=>{}})]}),o.jsxs(Lt,{className:"flex items-center justify-between",onClick:()=>a?.("consolidateBidirectionalEdges"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(MA,{className:"mr-2 h-4 w-4"}),"Merge Bidirectional Edges"]}),o.jsx(to,{checked:r.consolidateBidirectionalEdges,onChange:()=>{}})]}),o.jsx(ma,{}),o.jsxs(Lt,{className:"flex items-center justify-between",onClick:()=>{const x=l==="LR"?"TB":"LR";if(c?.(x),e){const b=tp(e,n,x),S=np(e),N=sp(b,S,x);m(N)}},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(kA,{className:"mr-2 h-4 w-4"}),"Vertical Layout"]}),o.jsx(to,{checked:l==="TB",onChange:()=>{}})]}),o.jsx(ma,{}),o.jsxs(Lt,{onClick:h,children:[o.jsx(Yp,{className:"mr-2 h-4 w-4"}),"Reset Zoom"]}),o.jsxs(Lt,{onClick:g,children:[o.jsx(EM,{className:"mr-2 h-4 w-4"}),"Fit to Screen"]}),o.jsxs(Lt,{onClick:y,children:[o.jsx(ZM,{className:"mr-2 h-4 w-4"}),"Auto-arrange"]})]})]})})}function f7({nodes:e,nodeUpdates:n,isStreaming:r,animateRun:a}){const{fitView:l}=Ia();return w.useEffect(()=>{if(a)if(r){const c=e.filter(d=>d.data.state==="running");if(c.length>0){const d=c[0];l({nodes:[d],duration:800,padding:.3,minZoom:.8,maxZoom:1.5})}}else e.length>0&&l({duration:1e3,padding:.2})},[n,r,a,e]),null}const m7=w.memo(({timelineVisible:e})=>{const{fitView:n}=Ia();return w.useEffect(()=>{const r=setTimeout(()=>{n({padding:.2,duration:300})},350);return()=>clearTimeout(r)},[e]),null}),h7=w.memo(function({workflowDump:n,events:r,isStreaming:a,onNodeSelect:l,className:c="",viewOptions:d={showMinimap:!1,showGrid:!0,animateRun:!0,consolidateBidirectionalEdges:!0},onToggleViewOption:f,layoutDirection:m="TB",onLayoutDirectionChange:h,timelineVisible:g=!1}){const{initialNodes:y,initialEdges:x}=w.useMemo(()=>{if(!n)return{initialNodes:[],initialEdges:[]};const R=tp(n,l,m),D=np(n),O=d.consolidateBidirectionalEdges?yh(D):D;return{initialNodes:R.length>0?sp(R,O,m):R,initialEdges:O}},[n,l,m,d.consolidateBidirectionalEdges]),[b,S,N]=MI(y),[j,_,M]=TI(x),E=w.useMemo(()=>KR(r,n?.start_executor_id),[r,n?.start_executor_id]);w.useMemo(()=>{Object.keys(E).length>0?S(R=>QR(R,E,a)):r.length===0&&S(R=>R.map(D=>({...D,data:{...D.data,state:"pending",outputData:void 0,error:void 0,isStreaming:!1}})))},[E,S,r.length,a]),w.useMemo(()=>{r.length>0?_(R=>{const D=eD(R,r);return d.consolidateBidirectionalEdges?yh(D):D}):_(R=>{const D=R.map(O=>({...O,animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}));return d.consolidateBidirectionalEdges?yh(D):D})},[r,_,d.consolidateBidirectionalEdges]),w.useEffect(()=>{y.length>0&&(S(y),_(x))},[n,d.consolidateBidirectionalEdges]);const T=w.useCallback((R,D)=>{R.stopPropagation(),l?.(D.data.executorId,D.data)},[l]);return n?y.length===0?o.jsx("div",{className:`flex items-center justify-center h-full bg-gray-50 dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700 ${c}`,children:o.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"text-lg font-medium mb-2",children:"No Executors Found"}),o.jsx("div",{className:"text-sm",children:"Could not extract executors from workflow dump."}),o.jsxs("details",{className:"mt-2 text-xs",children:[o.jsx("summary",{className:"cursor-pointer",children:"Debug Info"}),o.jsx("pre",{className:"mt-1 p-2 bg-gray-100 dark:bg-gray-800 rounded text-left overflow-auto",children:JSON.stringify(n,null,2)})]})]})}):o.jsxs("div",{className:`h-full w-full ${c}`,children:[o.jsxs(AI,{nodes:b,edges:j,onNodesChange:N,onEdgesChange:M,onNodeClick:T,nodeTypes:c7,edgeTypes:u7,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:1.5,defaultEdgeOptions:{type:"default",animated:!1,style:{stroke:"#6b7280",strokeWidth:2}},nodesDraggable:!a,nodesConnectable:!1,elementsSelectable:!0,proOptions:{hideAttribution:!0},children:[d.showGrid&&o.jsx(LI,{variant:$s.Dots,gap:20,size:1,color:"#e5e7eb",className:"dark:opacity-30"}),o.jsx(qI,{position:"bottom-left",showInteractive:!1,style:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e5e7eb",borderRadius:"3px"},className:"dark:!bg-gray-800/90 dark:!border-gray-600"}),d.showMinimap&&o.jsx(s7,{nodeColor:R=>{switch(R.data?.state){case"running":return"#643FB2";case"completed":return"#10b981";case"failed":return"#ef4444";case"cancelled":return"#f97316";default:return"#6b7280"}},maskColor:"rgba(0, 0, 0, 0.1)",position:"bottom-right",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e5e7eb",borderRadius:"8px"},className:"dark:!bg-gray-800/90 dark:!border-gray-600"}),o.jsx(f7,{nodes:b,nodeUpdates:E,isStreaming:a,animateRun:d.animateRun}),o.jsx(m7,{timelineVisible:g}),o.jsx(d7,{workflowDump:n,onNodeSelect:l,viewOptions:d,onToggleViewOption:f,layoutDirection:m,onLayoutDirectionChange:h})]}),o.jsx("style",{children:`
        .react-flow__edge-path {
          transition: stroke 0.3s ease, stroke-width 0.3s ease;
        }
        .react-flow__edge.animated .react-flow__edge-path {
          stroke-dasharray: 5 5;
          animation: dash 1s linear infinite;
        }
        @keyframes dash {
          0% { stroke-dashoffset: 0; }
          100% { stroke-dashoffset: -10; }
        }
        
        /* Dark theme styles for React Flow controls */
        .dark .react-flow__controls {
          background-color: rgba(31, 41, 55, 0.9) !important;
          border-color: rgb(75, 85, 99) !important;
        }
        .dark .react-flow__controls-button {
          background-color: rgba(31, 41, 55, 0.9) !important;
          border-color: rgb(75, 85, 99) !important;
          color: rgb(229, 231, 235) !important;
        }
        .dark .react-flow__controls-button:hover {
          background-color: rgba(55, 65, 81, 0.9) !important;
          color: rgb(255, 255, 255) !important;
        }
        .dark .react-flow__controls-button svg {
          fill: rgb(229, 231, 235) !important;
        }
        .dark .react-flow__controls-button:hover svg {
          fill: rgb(255, 255, 255) !important;
        }
      `})]}):o.jsx("div",{className:`flex items-center justify-center h-full bg-gray-50 dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700 ${c}`,children:o.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"text-lg font-medium mb-2",children:"No Workflow Data"}),o.jsx("div",{className:"text-sm",children:"Workflow dump is not available."})]})})});function uu({title:e,icon:n,children:r,className:a=""}){return o.jsxs("div",{className:`border rounded-lg p-4 bg-card ${a}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n,o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})}function p7({workflow:e,open:n,onOpenChange:r}){const a=e.source==="directory"?o.jsx(V1,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?o.jsx(Vh,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(q1,{className:"h-4 w-4 text-muted-foreground"}),l=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return o.jsx(kr,{open:n,onOpenChange:r,children:o.jsxs(Ar,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs(Mr,{className:"px-6 pt-6 flex-shrink-0",children:[o.jsx(Tr,{children:"Workflow Details"}),o.jsx(bo,{onClose:()=>r(!1)})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Is,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsx("div",{className:"h-px bg-border mb-6"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(uu,{title:"Start Executor",icon:o.jsx(YA,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("div",{className:"font-mono text-foreground",children:e.start_executor_id})}),o.jsx(uu,{title:"Source",icon:a,children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-foreground",children:l}),e.module_path&&o.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),o.jsx(uu,{title:"Environment",icon:e.has_env?o.jsx(Nl,{className:"h-4 w-4 text-orange-500"}):o.jsx(ld,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:o.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),o.jsx(uu,{title:`Executors (${e.executors.length})`,icon:o.jsx(Du,{className:"h-4 w-4 text-muted-foreground"}),children:e.executors.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:e.executors.map((c,d)=>o.jsx("div",{className:"font-mono text-xs text-foreground bg-muted px-2 py-1 rounded truncate",title:c,children:c},d))}):o.jsx("div",{className:"text-muted-foreground",children:"No executors configured"})})]})]})})}function g7({session:e,checkpoints:n,open:r,onOpenChange:a}){const[l,c]=w.useState(null),[d,f]=w.useState(null),[m,h]=w.useState(!1),[g,y]=w.useState(!0);if(w.useEffect(()=>{r&&n.length>0&&(n.some(_=>_.checkpoint_id===l)||c(n[0].checkpoint_id))},[r,n]),w.useEffect(()=>{if(!l||!e)return;(async()=>{h(!0);try{const _=await Je.getConversationItem(e.conversation_id,`checkpoint_${l}`);f(_.metadata?.full_checkpoint)}catch(_){console.error("Failed to load checkpoint:",_),f(null)}finally{h(!1)}})()},[l,e]),!e)return null;const x=n.find(j=>j.checkpoint_id===l),b=d?.shared_state?._executor_state?Object.keys(d.shared_state._executor_state):[],S=d?.messages?Object.keys(d.messages):[],N=j=>{if(!j)return"";const _=j/1024;return _<1?`${j} B`:_<1024?`${_.toFixed(1)} KB`:`${(_/1024).toFixed(1)} MB`};return o.jsx(kr,{open:r,onOpenChange:a,children:o.jsxs(Ar,{className:"w-[90vw] max-w-6xl min-w-[800px] h-[85vh] flex flex-col p-0",children:[o.jsx(Mr,{className:"px-6 pt-6 pb-4 border-b flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Tr,{children:e.metadata.name}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[n.length," checkpoint",n.length!==1?"s":""]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-2 max-w-2xl",children:"This is a read only view of the current checkpoint ids in the checkpoint storage for this workflow run."})]}),o.jsx(bo,{onClose:()=>a(!1)})]})}),o.jsxs("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[o.jsx("div",{className:"w-80 border-r flex flex-col",children:o.jsx(ls,{className:"flex-1",children:o.jsx("div",{className:"p-4 space-y-2",children:n.length===0?o.jsx("div",{className:"text-center text-sm text-muted-foreground py-8",children:"No checkpoints yet"}):n.map((j,_)=>{const M=j.checkpoint_id===l,E=j.metadata.has_pending_hil;return o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>c(j.checkpoint_id),className:Ze("relative w-full text-left p-3 rounded-lg border transition-colors",M?"bg-primary/10 border-primary":"hover:bg-muted/50 border-transparent"),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex flex-col items-center pt-1",children:o.jsx("div",{className:Ze("w-2 h-2 rounded-full z-10",E?"bg-blue-500 ring-2 ring-blue-500/20":"bg-muted-foreground/30")})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:j.metadata.iteration_count===0?"Initial State":`Step ${j.metadata.iteration_count}`}),o.jsx("span",{className:"text-[10px] font-mono text-muted-foreground/70",title:j.checkpoint_id,children:j.checkpoint_id.slice(0,8)}),_===0&&o.jsx(ht,{variant:"secondary",className:"text-[10px] h-4 px-1",children:"Latest"}),E&&o.jsxs(ht,{variant:"secondary",className:"text-[10px] h-4 px-1.5",children:[j.metadata.pending_hil_count," HIL"]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-1",children:[o.jsx("span",{children:new Date(j.timestamp).toLocaleTimeString()}),j.metadata.size_bytes&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:N(j.metadata.size_bytes)})]})]})]})]})}),_<n.length-1&&o.jsx("div",{className:"absolute left-[18px] top-[30px] w-px h-[calc(100%+8px)] bg-border"})]},j.checkpoint_id)})})})}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:!d&&!m?o.jsx("div",{className:"flex-1 flex items-center justify-center text-sm text-muted-foreground",children:"Select a checkpoint to view details"}):o.jsx(ls,{className:"flex-1",children:o.jsxs("div",{className:"p-6 space-y-6 relative",children:[m&&o.jsx("div",{className:"absolute inset-0 bg-background/50 flex items-center justify-center z-10",children:o.jsx(Cr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o.jsxs("div",{className:"flex items-start justify-between pb-4 border-b",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Up,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:x?.metadata.iteration_count===0?"Initial State":`Step ${x?.metadata.iteration_count}`}),x?.metadata.size_bytes&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",N(x.metadata.size_bytes)]})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:x&&new Date(x.timestamp).toLocaleString()}),x&&o.jsxs("div",{className:"text-xs font-mono text-muted-foreground/70 mt-1",children:["ID: ",x.checkpoint_id]})]}),x?.metadata.has_pending_hil&&o.jsxs(ht,{variant:"secondary",children:[x.metadata.pending_hil_count," HIL Pending"]})]}),b.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(Du,{className:"h-4 w-4"}),"Active Executors (",b.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(j=>o.jsx(ht,{variant:"outline",className:"font-mono text-xs",children:j},j))})]}),S.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(Vp,{className:"h-4 w-4"}),"Messages"]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:S.map(j=>{const _=d.messages[j]?.length;return o.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[o.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-1",children:j}),o.jsxs("div",{className:"font-medium",children:[_," message",_!==1?"s":""]})]},j)})})]}),d?.pending_request_info_events&&Object.keys(d.pending_request_info_events).length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(is,{className:"h-4 w-4"}),"Pending HIL Requests (",Object.keys(d.pending_request_info_events).length,")"]}),o.jsx("div",{className:"space-y-2",children:Object.entries(d.pending_request_info_events).map(([j,_])=>o.jsxs("div",{className:"bg-muted/50 border border-border p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("code",{className:"text-xs bg-background px-2 py-1 rounded",children:[j.slice(0,24),"..."]}),o.jsx(ht,{variant:"outline",className:"text-xs",children:_.source_executor_id})]}),o.jsxs("div",{className:"text-xs space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Request:"})," ",o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:_.request_type?.split(".").pop()||_.request_type})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Response:"})," ",o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:_.response_type?.split(".").pop()||_.response_type})]})]})]},j))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-3",children:"Shared State"}),d?.shared_state&&Object.keys(d.shared_state).filter(j=>j!=="_executor_state").length>0?o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(d.shared_state).filter(j=>j!=="_executor_state").map(j=>o.jsx(ht,{variant:"secondary",className:"font-mono text-xs",children:j},j))}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"No custom state"})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("button",{onClick:()=>y(!g),className:"flex items-center gap-2 text-sm font-medium hover:text-primary transition-colors w-full",children:[g?o.jsx(Gt,{className:"h-4 w-4"}):o.jsx(qn,{className:"h-4 w-4"}),"Raw JSON"]}),g&&o.jsx("pre",{className:"mt-3 text-[10px] font-mono bg-muted p-4 rounded overflow-x-auto",children:JSON.stringify(d,null,2)})]})]})})})]})]})})}function x7(e){return["name","title","id","key","label","type","status","tag","category","code","username","password","email"].includes(e.toLowerCase())}function fj(e,n){return n.format==="textarea"||!!n.description&&n.description.length>100||n.type==="string"&&!n.enum&&!x7(e)}function y7(e,n){const r=fj(e,n),a=!!n.description&&n.description.length>150;return r||a?"md:col-span-2 lg:col-span-3 xl:col-span-4":n.type==="array"||n.description&&n.description.length>80?"xl:col-span-2":""}function v7(e,n){if(e.type!=="object"||!e.properties)return!1;const r=e.properties,a=Object.keys(r).filter(l=>!n.includes(l));return n.includes("role")&&a.some(l=>["text","message","content"].includes(l))&&r.role?.type==="string"}function Rh({name:e,schema:n,value:r,onChange:a,isRequired:l=!1,isReadOnly:c=!1}){const{type:d,description:f,enum:m,default:h}=n,g=fj(e,n),y=()=>{if(c)return o.jsxs("div",{className:"space-y-2",children:[o.jsx(xt,{htmlFor:e,className:"text-muted-foreground",children:e}),o.jsx("div",{className:"text-sm p-2 bg-muted rounded border",children:typeof r=="object"?JSON.stringify(r,null,2):String(r)}),f&&o.jsx("p",{className:"text-xs text-muted-foreground",children:f})]});switch(d){case"string":return m?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsxs(bd,{value:typeof r=="string"&&r?r:typeof h=="string"?h:m[0],onValueChange:x=>a(x),children:[o.jsx(Nd,{children:o.jsx(wd,{placeholder:`Select ${e}`})}),o.jsx(Sd,{children:m.map(x=>o.jsx(jd,{value:x,children:x},x))})]}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]}):g?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ro,{id:e,value:typeof r=="string"?r:"",onChange:x=>a(x.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`,rows:4,className:"min-w-[300px] w-full"}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(An,{id:e,type:"text",value:typeof r=="string"?r:"",onChange:x=>a(x.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"integer":case"number":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(An,{id:e,type:"number",step:d==="integer"?"1":"any",value:typeof r=="number"?r:"",onChange:x=>{const b=d==="integer"?parseInt(x.target.value):parseFloat(x.target.value);a(isNaN(b)?"":b)},placeholder:typeof h=="number"?h.toString():`Enter ${e}`}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"boolean":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(to,{id:e,checked:!!r,onCheckedChange:x=>a(x)}),o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"array":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ro,{id:e,value:Array.isArray(r)?r.join(", "):typeof r=="string"?r:"",onChange:x=>{const b=x.target.value.split(",").map(S=>S.trim()).filter(S=>S.length>0);a(b)},placeholder:"Enter items separated by commas",rows:2}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"object":default:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ro,{id:e,value:typeof r=="object"&&r!==null?JSON.stringify(r,null,2):typeof r=="string"?r:"",onChange:x=>{try{const b=JSON.parse(x.target.value);a(b)}catch{a(x.target.value)}},placeholder:'{"key": "value"}',rows:3,className:"font-mono text-xs"}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})}};return o.jsx("div",{className:y7(e,n),children:y()})}function b7({schema:e,values:n,onChange:r,disabled:a=!1,readOnlyFields:l=[],hideFields:c=[],showCollapsedByDefault:d=!1}){const[f,m]=w.useState(d),h=e.properties||{},g=Object.keys(h).filter(O=>!c.includes(O)),y=(e.required||[]).filter(O=>!c.includes(O)),x=v7(e,y),b=g.filter(O=>y.includes(O)&&!(x&&O==="role")),S=g.filter(O=>!y.includes(O)),N=x?[...S].sort((O,P)=>{const q=Q=>["text","message","content"].includes(Q)?1:0;return q(P)-q(O)}):S,_=Math.max(0,(x?1:6)-b.length),M=N.slice(0,_),E=N.slice(_),T=E.length>0,R=b.length>0,D=(O,P)=>{r({...n,[O]:P})};return o.jsxs("div",{className:"space-y-3",children:[b.map(O=>o.jsx(Rh,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!0,isReadOnly:a||l.includes(O)},O)),R&&S.length>0&&o.jsx("div",{children:o.jsx("div",{className:"border-t border-border"})}),M.map(O=>o.jsx(Rh,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!1,isReadOnly:a||l.includes(O)},O)),T&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx(Te,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",disabled:a,children:f?o.jsxs(o.Fragment,{children:[o.jsx(Mu,{className:"h-4 w-4"}),"Hide ",E.length," optional field",E.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Gt,{className:"h-4 w-4"}),"Show ",E.length," optional field",E.length!==1?"s":""]})})}),f&&E.map(O=>o.jsx(Rh,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!1,isReadOnly:a||l.includes(O)},O))]})}function mj(e,n){return(e.required||[]).every(a=>{const l=n[a];return l!==void 0&&l!==""&&l!==null})}function w7({request:e,response:n,onResponseChange:r,onSubmit:a,isSubmitting:l}){const[c,d]=w.useState(!0),f=h=>{r(h)},m=mj(e.request_schema,n);return o.jsx("div",{className:"relative group",children:o.jsx("div",{children:o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"border border-orange-200 dark:border-orange-800 bg-orange-50/50 dark:bg-orange-950/20 overflow-hidden rounded-lg",children:[o.jsxs("div",{className:"px-4 py-3 bg-orange-100/50 dark:bg-orange-950/30 border-b border-orange-200 dark:border-orange-800 flex items-center justify-between cursor-pointer hover:bg-orange-100 dark:hover:bg-orange-950/40 transition-colors",onClick:()=>d(!c),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm text-orange-900 dark:text-orange-100",children:"Workflow needs your input"}),o.jsx(ht,{variant:"outline",className:"text-xs font-mono border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-300",children:e.request_id.slice(0,8)}),!c&&o.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 animate-pulse",children:"Click to respond"})]}),l&&o.jsx(ht,{variant:"secondary",className:"animate-pulse",children:"Submitting..."})]}),c&&o.jsxs("div",{className:"p-4 space-y-4",children:[Object.keys(e.request_data).length>0&&o.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/30 rounded-md p-3 space-y-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Context"}),o.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 pr-2",children:Object.entries(e.request_data).filter(([h])=>!["request_id","source_executor_id"].includes(h)).map(([h,g])=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"font-medium text-muted-foreground",children:[h,":"]})," ",o.jsx("span",{className:"text-foreground break-all",children:typeof g=="object"?JSON.stringify(g,null,2):String(g)})]},h))})]}),e.request_schema?.description&&o.jsxs("div",{className:"text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-3 rounded-md border border-blue-200 dark:border-blue-800",children:[o.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"What's needed:"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:e.request_schema.description})]}),o.jsx("div",{className:"space-y-3",children:o.jsx(b7,{schema:e.request_schema,values:n,onChange:f})}),o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsxs(Te,{size:"default",onClick:a,disabled:!m||l,className:"w-full gap-2",children:[o.jsx(Zi,{className:"w-4 h-4"}),"Submit Response"]}),!m&&o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Please fill in all required fields"})]})]})]})})})})}function N7(e,n=!0){switch(e){case"running":return o.jsx(Cr,{className:`w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] ${n?"animate-spin":""}`});case"completed":return o.jsx(ld,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(Nl,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"cancelled":return o.jsx(is,{className:"w-4 h-4 text-orange-500 dark:text-orange-400"});default:return o.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400 dark:border-gray-500"})}}function S7(e){switch(e){case"running":return"bg-[#643FB2]/10 text-[#643FB2] dark:bg-[#8B5CF6]/10 dark:text-[#8B5CF6] border-[#643FB2]/20 dark:border-[#8B5CF6]/20";case"completed":return"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20";case"failed":return"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20";case"cancelled":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20";default:return"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/20"}}function j7({run:e,isExpanded:n,onToggle:r,onClick:a,isSelected:l,isStreaming:c}){const d=new Date(e.timestamp).toLocaleTimeString(),m=e.output.trim().length>0||e.error,h=w.useRef(null);return w.useEffect(()=>{n&&e.state==="running"&&h.current&&(h.current.scrollTop=h.current.scrollHeight)},[e.output,n,e.state]),o.jsxs("div",{className:`border rounded-lg transition-all ${l?"border-blue-500 dark:border-blue-400 bg-blue-500/5 dark:bg-blue-500/10":"border-border hover:border-muted-foreground/30"}`,children:[o.jsxs("div",{className:"p-3 cursor-pointer",onClick:()=>{a(),m&&r()},children:[o.jsxs("div",{className:"grid grid-cols-[auto_auto_1fr_auto] items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-3 text-muted-foreground",children:m&&o.jsx(o.Fragment,{children:n?o.jsx(Gt,{className:"w-3 h-3"}):o.jsx(qn,{className:"w-3 h-3"})})}),o.jsx("div",{children:N7(e.state,c)}),o.jsx("span",{className:"font-medium text-sm truncate overflow-hidden",children:e.executorName}),e.runNumber>1?o.jsxs(ht,{variant:"outline",className:"text-xs whitespace-nowrap",children:["Run #",e.runNumber]}):o.jsx("div",{})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-5",children:[o.jsx("span",{className:"font-mono",children:d}),o.jsx(ht,{variant:"outline",className:`text-xs border ${S7(e.state)}`,children:e.state})]})]}),n&&m&&o.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:e.error?o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Error:"}),o.jsx("pre",{className:"text-xs bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-2 overflow-y-auto overflow-x-hidden max-h-40 whitespace-pre-wrap break-all",children:e.error})]}):o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Output:"}),o.jsx("pre",{ref:h,className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:e.output})]})})]})}function _7({events:e,itemOutputs:n,currentExecutorId:r,isStreaming:a,onExecutorClick:l,selectedExecutorId:c,workflowResult:d,pendingHilRequests:f=[],hilResponses:m={},onHilResponseChange:h,onHilSubmit:g,isSubmittingHil:y=!1,inputSchema:x,onRun:b,onCancel:S,isCancelling:N=!1,workflowState:j="ready",wasCancelled:_=!1,checkpoints:M=[]}){const[E,T]=w.useState(new Set),[R,D]=w.useState(0),[O,P]=w.useState(!1),q=w.useRef(null),Q=w.useRef(null),ee=w.useRef(null);w.useEffect(()=>{if(a){const U=setInterval(()=>{D(k=>k+1)},100);return()=>clearInterval(U)}},[a]);const{executorRuns:G,executorRunCount:W}=w.useMemo(()=>{const U=[],k=new Map;return e.forEach(L=>{const I="_uiTimestamp"in L&&typeof L._uiTimestamp=="number"?L._uiTimestamp*1e3:Date.now();if(L.type==="response.output_item.added"){const H=L.item;if(H&&H.type==="executor_action"&&H.executor_id&&H.id){const C=H.executor_id,$=H.id,Y=(k.get(C)||0)+1;k.set(C,Y),U.push({executorId:C,executorName:yu(C,35),itemId:$,state:"running",output:n[$]||"",timestamp:I,runNumber:Y})}else if(H&&H.type==="message"&&H.metadata?.agent_id&&H.metadata?.source==="magentic"&&H.id){const C=H.metadata.agent_id,$=H.id,Y=(k.get(C)||0)+1;k.set(C,Y),U.push({executorId:C,executorName:yu(C,35),itemId:$,state:"running",output:n[$]||"",timestamp:I,runNumber:Y})}}if(L.type==="response.output_item.done"){const H=L.item;if(H&&H.type==="executor_action"&&H.executor_id&&H.id){const C=H.id,$=U.find(Y=>Y.itemId===C);$&&($.state=H.status==="completed"?"completed":H.status==="failed"?"failed":"completed",$.output=n[C]||"",H.status==="failed"&&H.error&&($.error=H.error))}else if(H&&H.type==="message"&&H.metadata?.agent_id&&H.metadata?.source==="magentic"&&H.id){const C=H.id,$=U.find(Y=>Y.itemId===C);$&&($.state=H.status==="completed"?"completed":"failed",$.output=n[C]||"")}}if(L.type==="response.workflow_event.completed"&&"data"in L&&L.data){const H=L.data,C=H.executor_id;if(!C)return;const $=H.event_type;if($==="ExecutorInvokedEvent"){const Y=(k.get(C)||0)+1;k.set(C,Y);const V=`fallback_${C}_${I}`;U.push({executorId:C,executorName:yu(C,35),itemId:V,state:"running",output:n[V]||"",timestamp:I,runNumber:Y})}else if($==="ExecutorCompletedEvent"){let Y;for(let V=U.length-1;V>=0;V--)if(U[V].executorId===C&&U[V].state==="running"){Y=U[V];break}Y&&(Y.state="completed",Y.output=n[Y.itemId]||"")}else if($?.includes("Error")||$?.includes("Failed")){let Y;for(let V=U.length-1;V>=0;V--)if(U[V].executorId===C&&U[V].state==="running"){Y=U[V];break}Y&&(Y.state="failed",Y.error=typeof H.data=="string"?H.data:"Execution failed")}}}),U.forEach(L=>{L.state==="running"&&n[L.itemId]&&(L.output=n[L.itemId])}),{executorRuns:U,executorRunCount:k}},[e,n,R]);w.useEffect(()=>{r&&T(U=>{const k=new Set(U);return k.add(`${r}-${W.get(r)||1}`),k})},[r,W]),w.useEffect(()=>{if(G.length>0&&a){const U=G[G.length-1],k=`${U.executorId}-${U.runNumber}`;k!==q.current&&(q.current=k,Q.current&&Q.current.scrollIntoView({behavior:"smooth",block:"end"}))}},[G,a]),w.useEffect(()=>{d&&!a&&Q.current&&setTimeout(()=>{Q.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[d,a]),w.useEffect(()=>{!a&&G.length>0&&f.length===0&&setTimeout(()=>{Q.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[a,f.length,G.length]),w.useEffect(()=>{f.length>0&&ee.current&&setTimeout(()=>{ee.current?.scrollIntoView({behavior:"smooth",block:"end"}),ee.current?.classList.add("highlight-attention"),setTimeout(()=>{ee.current?.classList.remove("highlight-attention")},1e3)},100)},[f.length]);const B=()=>{const U=G.map(k=>{const I=`[${new Date(k.timestamp).toLocaleTimeString()}] ${k.executorName} (${k.state})`,H=k.error||k.output||"(no output)";return`${I}
${H}
`}).join(`
`);navigator.clipboard.writeText(U),P(!0),setTimeout(()=>P(!1),2e3)};return o.jsxs("div",{className:"h-full flex flex-col border-l bg-muted/30",children:[o.jsxs("div",{className:"p-3 border-b bg-background flex items-center justify-between flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm",children:"Execution Timeline"}),o.jsx(ht,{variant:"outline",className:"text-xs",children:G.length}),a&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-[#643FB2] dark:bg-[#8B5CF6]"}),o.jsx("span",{children:"Running"})]})]}),G.length>0&&o.jsx(Te,{variant:"ghost",size:"sm",onClick:B,className:`h-7 px-2 text-xs ${O?"text-green-600 dark:text-green-400":""}`,children:O?o.jsxs(o.Fragment,{children:[o.jsx(vo,{className:"w-3 h-3 mr-1"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(no,{className:"w-3 h-3 mr-1"}),"Copy All"]})})]}),o.jsx(ls,{className:"flex-1",children:o.jsxs("div",{className:"p-3 space-y-2",children:[G.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:a?"Workflow is running...":"Ready to run workflow"}):o.jsxs(o.Fragment,{children:[G.map((U,k)=>{const L=`${U.executorId}-${U.runNumber}`;return o.jsx(j7,{run:U,isExpanded:E.has(L),onToggle:()=>{T(I=>{const H=new Set(I);return H.has(L)?H.delete(L):H.add(L),H})},onClick:()=>l?.(U.executorId),isSelected:c===U.executorId,isStreaming:a},`${L}-${k}`)}),f.length>0&&o.jsx("div",{ref:ee,"data-hil-form":!0,className:"transition-all duration-300",children:f.map(U=>o.jsx(w7,{request:U,response:m[U.request_id]||{},onResponseChange:k=>h?.(U.request_id,k),onSubmit:()=>g?.(),isSubmitting:y},U.request_id))})]}),d&&d.trim().length>0&&!a&&!_&&o.jsxs("div",{className:"border rounded-lg border-green-500/40 bg-green-500/5 dark:bg-green-500/10",children:[o.jsx("div",{className:"p-3 bg-green-500/10 border-b border-green-500/20",children:o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ld,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),o.jsx("span",{className:"font-medium text-sm",children:"Workflow Complete"})]})}),o.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Final Output:"}),o.jsx("pre",{className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:d})]})})]}),_&&!a&&o.jsx("div",{className:"border rounded-lg border-orange-500/40 bg-orange-500/5 dark:bg-orange-500/10",children:o.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[o.jsx(cd,{className:"w-4 h-4 text-orange-500 dark:text-orange-400 fill-current"}),o.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"Execution stopped by user"})]})}),o.jsx("div",{ref:Q})]})}),(b||S)&&f.length===0&&o.jsx("div",{className:"border-t p-3 bg-background flex-shrink-0",children:o.jsx(_2,{inputSchema:x,onRun:b||(()=>{}),onCancel:S,isSubmitting:j==="running",isCancelling:N,workflowState:j,checkpoints:M,showCheckpoints:!1})})]})}function E7({selectedWorkflow:e,onDebugEvent:n}){const[r,a]=w.useState(null),[l,c]=w.useState(!1),[d,f]=w.useState(null),[m,h]=w.useState([]),[g,y]=w.useState(!1),[x,b]=w.useState(!1),[S,N]=w.useState(null),[j,_]=w.useState(!1),[M,E]=w.useState(!1),[T,R]=w.useState(!1),[D,O]=w.useState(!1),[P,q]=w.useState(""),[Q,ee]=w.useState([]),{isCancelling:G,createAbortSignal:W,handleCancel:B,resetCancelling:U}=ON(),[k,L]=w.useState([]),[I,H]=w.useState({}),C=w.useRef({}),$=w.useRef(null),Y=w.useRef(null),V=de(ge=>ge.currentSession),K=de(ge=>ge.availableSessions),fe=de(ge=>ge.loadingSessions),ue=de(ge=>ge.setCurrentSession),te=de(ge=>ge.setAvailableSessions),ie=de(ge=>ge.setLoadingSessions),xe=de(ge=>ge.addSession),ve=de(ge=>ge.removeSession),be=de(ge=>ge.addToast),ne=de(ge=>ge.runtime),[he,X]=w.useState(()=>{const ge=localStorage.getItem("workflowViewOptions"),Me={showMinimap:!1,showGrid:!0,animateRun:!1,consolidateBidirectionalEdges:!0};if(ge){const Be=JSON.parse(ge);return{...Me,...Be}}return Me}),[pe,Ne]=w.useState(()=>localStorage.getItem("workflowLayoutDirection")||"TB");w.useEffect(()=>{localStorage.setItem("workflowViewOptions",JSON.stringify(he))},[he]),w.useEffect(()=>{localStorage.setItem("workflowLayoutDirection",pe)},[pe]);const ye=ge=>{X(Me=>({...Me,[ge]:!Me[ge]}))},Oe=async()=>{if(T||!e)return;R(!0);const{addToast:ge,updateWorkflow:Me}=await Zh(()=>Promise.resolve().then(()=>Gh),void 0,import.meta.url).then(Be=>({addToast:Be.useDevUIStore.getState().addToast,updateWorkflow:Be.useDevUIStore.getState().updateWorkflow}));try{await Je.reloadEntity(e.id);const Be=await Je.getWorkflowInfo(e.id);Me(Be),a(Be),ge({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(Be){const Et=Be instanceof Error?Be.message:"Failed to reload entity";ge({message:`Failed to reload: ${Et}`,type:"error",duration:6e3})}finally{R(!1)}};w.useEffect(()=>{const ge=async()=>{if(e.type==="workflow"){c(!0),f(null);try{const Me=await Je.getWorkflowInfo(e.id);a(Me),f(null)}catch(Me){a(null);const Be=Me instanceof Error?Me.message:String(Me);f(Be),console.error("Error loading workflow info:",Me)}finally{c(!1)}}};h([]),y(!1),N(null),q(""),f(null),C.current={},$.current=null,Y.current=null,ge()},[e.id,e.type]);const Se=w.useCallback(async()=>{if(r){ie(!0);try{const ge=await Je.listWorkflowSessions(r.id);if(ge.data.length===0){const Me=await Je.createWorkflowSession(r.id,{name:`Checkpoint Storage ${new Date().toLocaleString()}`});te([Me]),ue(Me)}else{const Me=[...ge.data].sort((Be,Et)=>Et.created_at-Be.created_at);if(te(Me),!V){const Be=Me[0];ue(Be),await Xe(Be)}}}catch(ge){console.error("Failed to load sessions:",ge),ne!=="dotnet"&&be({message:"Failed to load sessions",type:"error"})}finally{ie(!1)}}},[r,V,ne,be,te,ue]);w.useEffect(()=>{Se()},[r?.id,ne]);const Ie=w.useCallback(async()=>{if(!V){ee([]);return}try{const Me=(await Je.listConversationItems(V.conversation_id,{limit:100})).data.filter(Be=>Be.type==="checkpoint");ee(Me)}catch(ge){console.error(`Failed to load checkpoints for session ${V.conversation_id}:`,ge),ee([])}},[V]);w.useEffect(()=>{M&&V&&Ie()},[M,V,Ie]);const Xe=w.useCallback(async ge=>{!ge||!r||(h([]),y(!1),b(!1),N(null),O(!1),q(""),L([]),H({}),C.current={},$.current=null,Y.current=null)},[r]),He=w.useCallback(async ge=>{const Me=K.find(Be=>Be.conversation_id===ge);Me&&(ue(Me),await Xe(Me))},[K,ue,Xe]),Re=w.useCallback(async()=>{if(r)try{const ge=await Je.createWorkflowSession(r.id,{name:`Checkpoint Storage ${new Date().toLocaleString()}`});console.log("[WorkflowView] Created new session:",ge.conversation_id),console.log("[WorkflowView] Previous session:",V?.conversation_id),xe(ge),ue(ge),await Xe(ge),await new Promise(Me=>setTimeout(Me,100)),be({message:"New checkpoint storage created",type:"success"})}catch(ge){console.error("Failed to create checkpoint storage:",ge),be({message:"Failed to create checkpoint storage",type:"error"})}},[r,V,xe,ue,Xe,be]),Ve=w.useCallback(async()=>{if(!(!V||!r)&&confirm("Delete this session? All checkpoints will be lost."))try{await Je.deleteWorkflowSession(r.id,V.conversation_id),ve(V.conversation_id),be({message:"Session deleted",type:"success"})}catch(ge){console.error("Failed to delete session:",ge),be({message:"Failed to delete session",type:"error"})}},[V,r,ve,be]),_e=ge=>{N(ge)},$e=w.useMemo(()=>m.filter(ge=>ge.type==="response.output_item.added"||ge.type==="response.output_item.done"||ge.type==="response.created"||ge.type==="response.in_progress"||ge.type==="response.completed"||ge.type==="response.failed"||ge.type==="response.workflow_event.completed"||ge.type==="response.workflow_event.complete"),[m]),Fe=w.useMemo(()=>{const ge=[];return $e.forEach(Me=>{if(Me.type==="response.output_item.added"||Me.type==="response.output_item.done"){const Be=Me.item;Be&&Be.type==="executor_action"&&Be.executor_id&&ge.push({executorId:Be.executor_id,message:Me.type==="response.output_item.added"?"Executor started":Be.status==="completed"?"Executor completed":Be.status==="failed"?"Executor failed":"Executor processing",timestamp:new Date().toISOString(),status:Be.status==="completed"?"completed":Be.status==="failed"?"error":"running"})}else if(Me.type==="response.workflow_event.complete"&&"data"in Me&&Me.data&&typeof Me.data=="object"){const Be=Me.data;Be.executor_id!=null&&ge.push({executorId:String(Be.executor_id),message:String(Be.event_type||"Processing"),timestamp:String(Be.timestamp||new Date().toISOString()),status:String(Be.event_type||"").includes("Completed")?"completed":String(Be.event_type||"").includes("Error")?"error":"running"})}}),ge},[$e]),Nt=w.useMemo(()=>g?Fe.filter(Me=>Me.status==="running").slice(-2).map(Me=>Me.executorId):[],[Fe,g]),yt=w.useCallback(async(ge,Me)=>{if(!e||e.type!=="workflow")return;y(!0),b(!1),h([]),q(""),C.current={},$.current=null,Y.current=null,L([]),H({}),n("clear");const Be=W();try{console.log("[WorkflowView] Running workflow with:"),console.log("  - Current session ID:",V?.conversation_id),console.log("  - Input data:",ge);const Et={input_data:ge,conversation_id:V?.conversation_id||void 0,checkpoint_id:Me};V?.conversation_id?Je.clearStreamingState(V.conversation_id):Je.clearStreamingState(e.id);const Rn=Je.streamWorkflowExecutionOpenAI(e.id,Et,Be);for await(const Le of Rn){if((Le.type==="response.output_item.added"||Le.type==="response.output_item.done"||Le.type==="response.created"||Le.type==="response.in_progress"||Le.type==="response.completed"||Le.type==="response.failed"||Le.type==="response.workflow_event.completed"||Le.type==="response.workflow_event.complete")&&h(we=>{const lt=Math.floor(Date.now()/1e3),at=we.length>0&&we[we.length-1]._uiTimestamp||0,At=Math.max(lt,at+1);return[...we,{...Le,_uiTimestamp:At}]}),n(Le),Le.type==="response.output_item.added"){const we=Le.item;if(we&&we.type==="executor_action"&&we.executor_id&&we.id&&($.current=we.id,C.current[we.id]||(C.current[we.id]="")),we&&we.type==="message"&&we.metadata?.source==="magentic"&&we.id&&($.current=we.id,C.current[we.id]||(C.current[we.id]="")),we&&we.type==="message"&&!we.metadata?.source&&we.content){for(const lt of we.content)if(lt.type==="output_text"&&lt.text){q(at=>at&&at.length>0?at+`

`+lt.text:lt.text);try{const at=JSON.parse(lt.text);typeof at=="object"&&at!==null&&(Y.current=at)}catch{}}}}if(Le.type,Le.type,Le.type==="response.workflow_event.completed"&&"data"in Le&&Le.data){const we=Le.data;if(we.event_type==="ExecutorInvokedEvent"&&we.executor_id){const lt=`fallback_${we.executor_id}_${Date.now()}`;$.current=lt,C.current[lt]||(C.current[lt]="")}(we.event_type==="WorkflowCompletedEvent"||we.event_type==="WorkflowOutputEvent")&&we.data&&(typeof we.data=="object"&&(Y.current=we.data),$.current=null)}if(Le.type==="response.output_text.delta"&&"delta"in Le&&Le.delta){const we=Le.item_id||$.current;we&&(C.current[we]||(C.current[we]=""),C.current[we]+=Le.delta)}if(Le.type==="response.request_info.requested"){const we=Le;L(At=>[...At,{request_id:we.request_id,request_data:we.request_data,request_schema:we.request_schema}]);const lt=we.request_schema,at={};lt.properties&&Object.entries(lt.properties).forEach(([At,en])=>{const Dn=en;Dn.enum&&Dn.enum.length>0?at[At]=Dn.enum[0]:Dn.default!==void 0&&(at[At]=Dn.default)}),H(At=>({...At,[we.request_id]:at}))}if(Le.type==="error")break}y(!1)}catch(Et){Hu(Et)?(console.log("Workflow execution cancelled by user"),b(!0),L([]),H({})):console.error("Workflow execution error:",Et),y(!1),U()}},[e,n,V,W,U]),hs=w.useCallback(()=>{for(const ge of k){const Me=I[ge.request_id]||{};if(!mj(ge.request_schema,Me))return!1}return!0},[k,I]),wo=w.useCallback(async()=>{if(!e||e.type!=="workflow")return;if(!hs()){console.warn("Cannot submit: Not all HIL forms are valid");return}y(!0),L([]),H({});const ge=W();try{const Me={input_data:[{type:"message",content:[{type:"workflow_hil_response",responses:I}]}],conversation_id:V?.conversation_id||void 0},Be=Je.streamWorkflowExecutionOpenAI(e.id,Me,ge);let Et=!1;const Rn=[];for await(const Le of Be){if((Le.type==="response.output_item.added"||Le.type==="response.output_item.done"||Le.type==="response.created"||Le.type==="response.in_progress"||Le.type==="response.completed"||Le.type==="response.failed"||Le.type==="response.workflow_event.completed")&&h(we=>{const lt=Math.floor(Date.now()/1e3),at=we.length>0&&we[we.length-1]._uiTimestamp||0,At=Math.max(lt,at+1);return[...we,{...Le,_uiTimestamp:At}]}),n(Le),Le.type==="response.request_info.requested"){const we=Le;Et=!0;const lt={request_id:we.request_id,request_data:we.request_data,request_schema:we.request_schema};Rn.push(lt);const at=we.request_schema,At={};at.properties&&Object.entries(at.properties).forEach(([en,Dn])=>{const Gn=Dn;Gn.enum&&Gn.enum.length>0?At[en]=Gn.enum[0]:Gn.default!==void 0&&(At[en]=Gn.default)}),H(en=>({...en,[we.request_id]:At}))}if(Le.type==="response.output_item.added"){const we=Le.item;if(we&&we.type==="executor_action"&&we.executor_id&&we.id&&($.current=we.id,C.current[we.id]||(C.current[we.id]="")),we&&we.type==="message"&&we.content){for(const lt of we.content)if(lt.type==="output_text"&&lt.text){q(at=>at&&at.length>0?at+`

`+lt.text:lt.text);try{const at=JSON.parse(lt.text);typeof at=="object"&&at!==null&&(Y.current=at)}catch{}}}}if(Le.type==="response.output_text.delta"&&"delta"in Le&&Le.delta){const we=$.current;we&&(C.current[we]||(C.current[we]=""),C.current[we]+=Le.delta)}Le.type==="response.completed"&&await Ie(),Le.type==="response.failed"&&await Ie()}Et&&L(Rn),y(!1),await Ie()}catch(Me){Hu(Me)?(console.log("HIL submission cancelled by user"),b(!0)):console.error("HIL submission error:",Me),y(!1),U(),await Ie()}},[e,I,n,V,hs,W,U,Ie]);return l?o.jsx(Gv,{message:"Loading workflow...",description:"Fetching workflow structure and configuration"}):d?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center max-w-md p-6",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Workflow"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:d}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This may not be a valid workflow entity. Check the file contains a workflow export."})]})}):!r?.workflow_dump&&!Fe.length?o.jsx(Gv,{message:"Initializing workflow...",description:"Setting up workflow execution environment"}):o.jsxs("div",{className:"workflow-view flex flex-col h-full",children:[o.jsxs("div",{className:"border-b pb-2 p-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("h2",{className:"font-semibold text-sm truncate",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Is,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:e.name||e.id})]})}),o.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>_(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View workflow details",children:o.jsx(va,{className:"h-4 w-4"})}),e.source!=="in_memory"&&o.jsx(Te,{variant:"ghost",size:"sm",onClick:Oe,disabled:T,className:"h-6 w-6 p-0 flex-shrink-0",title:T?"Reloading...":"Reload entity code (hot reload)",children:o.jsx(Fp,{className:`h-4 w-4 ${T?"animate-spin":""}`})})]}),r&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[o.jsxs(bd,{value:V?.conversation_id||"",onValueChange:He,disabled:fe,children:[o.jsx(Nd,{className:"w-full sm:w-64",children:o.jsx(wd,{placeholder:fe?"Loading...":K.length===0?"No checkpoint storages":"Select checkpoint storage",children:V&&o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:"truncate",children:V.metadata.name||`Checkpoint Storage ${V.conversation_id.slice(-8)}`}),V.metadata.checkpoint_summary&&V.metadata.checkpoint_summary.count>0&&o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[o.jsx(ht,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:V.metadata.checkpoint_summary.count}),V.metadata.checkpoint_summary.has_pending_hil&&o.jsx(ht,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:"HIL"})]})]})})}),o.jsx(Sd,{children:K.map(ge=>o.jsx(jd,{value:ge.conversation_id,children:o.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[o.jsx("span",{className:"truncate",children:ge.metadata.name||`Checkpoint Storage ${ge.conversation_id.slice(-8)}`}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[ge.created_at&&o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(ge.created_at*1e3).toLocaleTimeString()}),ge.metadata.checkpoint_summary&&ge.metadata.checkpoint_summary.count>0&&o.jsxs(o.Fragment,{children:[o.jsx(ht,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:ge.metadata.checkpoint_summary.count}),ge.metadata.checkpoint_summary.has_pending_hil&&o.jsx(ht,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:"HIL"})]})]})]})},ge.conversation_id))})]}),o.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>E(!0),disabled:!V,className:"h-9 w-9 p-0 flex-shrink-0",title:"View checkpoint details",children:o.jsx(va,{className:"h-4 w-4"})}),o.jsx(Te,{variant:"ghost",size:"sm",onClick:Ve,disabled:!V||fe,className:"h-9 w-9 p-0",title:"Delete current session",children:o.jsx(Gp,{className:"h-4 w-4 "})}),o.jsx(Te,{variant:"ghost",size:"sm",onClick:Re,disabled:fe,className:"h-9 px-3",title:"New session",children:o.jsx(qp,{className:"h-4 w-4"})}),D&&o.jsx(_2,{inputSchema:r.input_schema,onRun:yt,onCancel:B,isSubmitting:g,isCancelling:G,workflowState:g?"running":Fe.length>0?"completed":"ready",checkpoints:Q,showCheckpoints:!1})]})]}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),k.length>0&&o.jsx("div",{className:"bg-orange-100 dark:bg-orange-950/30 border-b border-orange-300 dark:border-orange-800 px-4 py-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(is,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),o.jsxs("span",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:["Workflow is waiting for your input (",k.length," ","request",k.length>1?"s":"",")"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[k.length>1&&o.jsxs(Te,{size:"sm",onClick:wo,disabled:!hs()||g,className:"gap-1",children:[o.jsx(Zi,{className:"w-3.5 h-3.5"}),"Submit All"]}),o.jsx(Te,{size:"sm",variant:"ghost",onClick:()=>{document.querySelector("[data-hil-form]")?.scrollIntoView({behavior:"smooth",block:"center"})},className:"text-orange-700 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-200",children:"Jump to input "})]})]})}),o.jsxs("div",{className:"flex-1 min-h-0 flex gap-0",children:[o.jsx("div",{className:"flex-1 min-w-0 transition-all duration-300",children:r?.workflow_dump&&o.jsx(h7,{workflowDump:r.workflow_dump,events:$e,isStreaming:g,onNodeSelect:_e,className:"h-full",viewOptions:he,onToggleViewOption:ye,layoutDirection:pe,onLayoutDirectionChange:Ne,timelineVisible:!0})}),o.jsx("div",{className:"flex-shrink-0 overflow-hidden transition-all duration-300 ease-out border-l",style:{width:D?"2.5rem":"28rem"},children:D?o.jsxs("div",{className:"h-full w-10 bg-background flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>O(!1),title:"Expand timeline",children:[o.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:o.jsx(B1,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[o.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Execution Timeline"}),$e.length>0&&o.jsx("div",{className:`bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center ${g?"animate-pulse":""}`,style:{fontSize:"10px"},children:$e.length})]})]}):o.jsxs("div",{className:"w-[28rem] h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Execution Timeline"}),$e.length>0&&o.jsx("div",{className:`bg-primary text-primary-foreground rounded-full px-2 h-5 flex items-center justify-center ${g?"animate-pulse":""}`,style:{fontSize:"11px",minWidth:"20px"},children:$e.length})]}),o.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>O(!0),className:"h-8 w-8 p-0",title:"Minimize timeline",children:o.jsx(qn,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:o.jsx(_7,{events:$e,itemOutputs:C.current,currentExecutorId:Nt[Nt.length-1]||null,isStreaming:g,onExecutorClick:_e,selectedExecutorId:S,workflowResult:P,pendingHilRequests:k,hilResponses:I,onHilResponseChange:(ge,Me)=>{H(Be=>({...Be,[ge]:Me}))},onHilSubmit:wo,isSubmittingHil:g,inputSchema:r?.input_schema,onRun:(ge,Me)=>{yt(ge,Me)},onCancel:B,isCancelling:G,workflowState:g?"running":x?"cancelled":Fe.length>0?"completed":"ready",wasCancelled:x,checkpoints:Q})})]})})]}),o.jsx(p7,{workflow:e,open:j,onOpenChange:_}),o.jsx(g7,{session:V||null,checkpoints:Q,open:M,onOpenChange:E})]})}function hj({message:e,type:n="info",duration:r=4e3,onClose:a}){const[l,c]=w.useState(!0);w.useEffect(()=>{const m=setTimeout(()=>{c(!1),setTimeout(a,300)},r);return()=>clearTimeout(m)},[r,a]);const d={info:"bg-primary/10 border-primary/20",success:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",warning:"bg-orange-50 dark:bg-orange-950 border-orange-200 dark:border-orange-800",error:"bg-red-50 dark:bg-red-950 border-red-200 dark:border-red-800"}[n],f={info:"text-primary",success:"text-green-800 dark:text-green-200",warning:"text-orange-800 dark:text-orange-200",error:"text-red-800 dark:text-red-200"}[n];return o.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-start gap-3 p-4 rounded-lg border shadow-lg max-w-md transition-all duration-300 ${l?"opacity-100 translate-x-0":"opacity-0 translate-x-4"} ${d}`,children:[o.jsx("p",{className:`text-sm flex-1 ${f}`,children:e}),o.jsx("button",{onClick:()=>{c(!1),setTimeout(a,300)},className:`flex-shrink-0 hover:opacity-70 transition-opacity ${f}`,children:o.jsx(wa,{className:"h-4 w-4"})})]})}function C7({toasts:e,onRemove:n}){return o.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.map(r=>o.jsx(hj,{message:r.message,type:r.type,duration:r.duration,onClose:()=>n(r.id)},r.id))})}function k7(){const[e,n]=w.useState(!1),[r,a]=w.useState(""),[l,c]=w.useState(!1),[d,f]=w.useState(""),m=de(X=>X.agents),h=de(X=>X.workflows),g=de(X=>X.entities),y=de(X=>X.selectedAgent),x=de(X=>X.azureDeploymentEnabled),b=de(X=>X.isLoadingEntities),S=de(X=>X.entityError),N=de(X=>X.oaiMode),j=de(X=>X.uiMode),_=de(X=>X.setAgents),M=de(X=>X.setWorkflows),E=de(X=>X.setEntities),T=de(X=>X.selectEntity),R=de(X=>X.updateAgent),D=de(X=>X.updateWorkflow),O=de(X=>X.setIsLoadingEntities),P=de(X=>X.setEntityError),q=de(X=>X.showDebugPanel),Q=de(X=>X.debugPanelMinimized),ee=de(X=>X.debugPanelWidth),G=de(X=>X.debugEvents),W=de(X=>X.isResizing),B=de(X=>X.setShowDebugPanel),U=de(X=>X.setDebugPanelMinimized),k=de(X=>X.setDebugPanelWidth),L=de(X=>X.addDebugEvent),I=de(X=>X.clearDebugEvents),H=de(X=>X.setIsResizing),C=de(X=>X.showAboutModal),$=de(X=>X.showGallery),Y=de(X=>X.showDeployModal),V=de(X=>X.showEntityNotFoundToast),K=de(X=>X.setShowAboutModal),fe=de(X=>X.setShowGallery),ue=de(X=>X.setShowDeployModal),te=de(X=>X.setShowEntityNotFoundToast),ie=de(X=>X.toasts),xe=de(X=>X.removeToast);w.useEffect(()=>{(async()=>{try{const pe=await Je.getMeta();if(pe.auth_required&&(n(!0),!Je.getAuthToken())){P("UNAUTHORIZED"),O(!1);return}de.getState().setServerMeta({uiMode:pe.ui_mode,runtime:pe.runtime,capabilities:pe.capabilities,authRequired:pe.auth_required,version:pe.version});const{entities:Ne,agents:ye,workflows:Oe}=await Je.getEntities();E(Ne),_(ye),M(Oe);const Ie=new URLSearchParams(window.location.search).get("entity_id");let Xe;if(Ie&&(Xe=Ne.find(He=>He.id===Ie),Xe||te(!0)),!Xe)if(Xe=Ne.length>0?Ne[0]:void 0,Xe){const He=new URL(window.location.href);He.searchParams.set("entity_id",Xe.id),window.history.replaceState({},"",He)}else{const He=new URL(window.location.href);He.searchParams.delete("entity_id"),window.history.replaceState({},"",He)}if(Xe&&(T(Xe),Xe.metadata?.lazy_loaded===!1))try{if(Xe.type==="agent"){const He=await Je.getAgentInfo(Xe.id);R(He)}else{const He=await Je.getWorkflowInfo(Xe.id);D(He)}}catch(He){console.error(`Failed to load full info for first entity ${Xe.id}:`,He)}O(!1)}catch(pe){console.error("Failed to load agents/workflows:",pe);const Ne=pe instanceof Error?pe.message:"Failed to load data";Ne==="UNAUTHORIZED"&&n(!0),P(Ne),O(!1)}})()},[_,M,T,R,D,O,P,te]);const ve=w.useCallback(async()=>{if(r.trim()){c(!0),f("");try{Je.setAuthToken(r.trim()),await Je.getEntities(),window.location.reload()}catch(X){Je.clearAuthToken(),c(!1);const pe=X instanceof Error?X.message:"Unknown error";f(pe==="UNAUTHORIZED"?"Invalid token. Please check and try again.":`Failed to connect: ${pe}`)}}},[r]);w.useEffect(()=>{if(N.enabled&&y?.type==="workflow"){const X=m[0];X&&T(X)}},[N.enabled,y,m,T]);const be=w.useCallback(X=>{X.preventDefault(),H(!0);const pe=X.clientX,Ne=ee,ye=Se=>{const Ie=pe-Se.clientX,Xe=Math.max(200,Math.min(window.innerWidth*.5,Ne+Ie));k(Xe)},Oe=()=>{H(!1),document.removeEventListener("mousemove",ye),document.removeEventListener("mouseup",Oe)};document.addEventListener("mousemove",ye),document.addEventListener("mouseup",Oe)},[ee]),ne=w.useCallback(async X=>{if(T(X),X.metadata?.lazy_loaded===!1)try{if(X.type==="agent"){const pe=await Je.getAgentInfo(X.id);R(pe)}else{const pe=await Je.getWorkflowInfo(X.id);D(pe)}}catch(pe){console.error(`Failed to load full info for ${X.id}:`,pe)}},[T,R,D]),he=w.useCallback(X=>{X==="clear"?I():L(X)},[L,I]);if(b)return o.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[o.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[o.jsx("div",{className:"w-64 h-9 bg-muted animate-pulse rounded-md"}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"}),o.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-medium",children:"Initializing DevUI..."}),o.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Loading agents and workflows from your configuration"})]})})]});if(S){const X=Je.getBaseUrl(),pe=S==="UNAUTHORIZED"||e;let Ne="8080";try{if(X){const ye=new URL(X);Ne=ye.port||(ye.protocol==="https:"?"443":"80")}}catch{}return o.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[o.jsx(Uv,{agents:[],workflows:[],entities:[],selectedItem:void 0,onSelect:()=>{},isLoading:!1,onSettingsClick:()=>K(!0)}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center space-y-6 max-w-2xl",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"rounded-full bg-muted p-4 animate-pulse",children:pe?o.jsx(NM,{className:"h-12 w-12 text-muted-foreground"}):o.jsx(YM,{className:"h-12 w-12 text-muted-foreground"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:pe?"Authentication Required":"Can't Connect to Backend"}),o.jsx("p",{className:"text-muted-foreground text-base",children:pe?"This backend requires a bearer token to access.":"No worries! Just start the DevUI backend server and you'll be good to go."})]}),pe?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enter Authentication Token"}),o.jsx(An,{type:"password",placeholder:"Paste token from server logs",value:r,onChange:ye=>a(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&!l&&ve()},disabled:l,className:"font-mono text-sm"}),o.jsx(Te,{onClick:ve,disabled:!r.trim()||l,className:"w-full",children:l?"Verifying...":"Connect"}),d&&o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:d})]}),o.jsxs("details",{className:"text-left group",children:[o.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2 justify-center",children:[o.jsx(Gt,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Where do I find the token?"]}),o.jsxs("div",{className:"mt-3 text-left bg-muted/30 rounded-lg p-3 space-y-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Look for this in your DevUI server startup logs:"}),o.jsxs("code",{className:"block bg-background px-2 py-1 rounded text-xs font-mono text-foreground",children:[" DEV TOKEN (localhost only, shown once):",o.jsx("br",{})," abc123xyz..."]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Start the backend:"}),o.jsxs("code",{className:"block bg-background px-3 py-2 rounded border text-sm font-mono text-foreground",children:["devui ./agents --port ",Ne]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Or launch programmatically with"," ",o.jsx("code",{className:"text-xs",children:"serve(entities=[agent])"})]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default:"," ",o.jsx("span",{className:"font-mono",children:X})]})]}),S&&o.jsxs("details",{className:"text-left group",children:[o.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2",children:[o.jsx(Gt,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Error details"]}),o.jsx("p",{className:"mt-2 text-xs text-muted-foreground font-mono bg-muted/30 p-3 rounded border",children:S})]}),o.jsx(Te,{onClick:()=>window.location.reload(),variant:"default",className:"mt-2",children:"Retry Connection"})]})]})}),o.jsx(qv,{open:C,onOpenChange:K})]})}return o.jsxs("div",{className:"h-screen flex flex-col bg-background max-h-screen",children:[o.jsx(Uv,{agents:m,workflows:h,entities:g,selectedItem:y,onSelect:ne,onBrowseGallery:()=>fe(!0),isLoading:b,onSettingsClick:()=>K(!0)}),o.jsx("div",{className:"flex flex-1 overflow-hidden",children:$?o.jsx("div",{className:"flex-1 w-full",children:o.jsx(Yv,{variant:"route",onClose:()=>fe(!1),hasExistingEntities:m.length>0||h.length>0})}):m.length===0&&h.length===0?o.jsx(Yv,{variant:"inline"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1 min-w-0",children:y?y.type==="agent"?o.jsx(BR,{selectedAgent:y,onDebugEvent:he}):o.jsx(E7,{selectedWorkflow:y,onDebugEvent:he}):o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select an agent or workflow to get started."})}),j==="developer"&&q?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`w-1 cursor-col-resize flex-shrink-0 relative group transition-colors duration-200 ease-in-out ${W?"bg-primary/40":"bg-border hover:bg-primary/20"}`,onMouseDown:be,children:o.jsx("div",{className:"absolute inset-y-0 -left-2 -right-2 flex items-center justify-center",children:o.jsx("div",{className:`h-12 w-1 rounded-full transition-all duration-200 ease-in-out ${W?"bg-primary shadow-lg shadow-primary/25":"bg-primary/30 group-hover:bg-primary group-hover:shadow-md group-hover:shadow-primary/20"}`})})}),o.jsx("div",{className:"flex-shrink-0 flex flex-col h-[calc(100vh-3.7rem)]",style:{width:Q?"2.5rem":`${ee}px`},children:Q?o.jsxs("div",{className:"h-full w-10 bg-background border-l flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>U(!1),title:"Expand debug panel",children:[o.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:o.jsx(B1,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[o.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Debug Panel"}),G.length>0&&o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center",style:{fontSize:"10px"},children:G.length})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(l5,{events:G,isStreaming:!1,onMinimize:()=>U(!0)}),o.jsx("div",{className:"border-t bg-muted/30 px-3 py-2.5 flex-shrink-0",children:o.jsxs(Te,{onClick:()=>ue(!0),className:"w-full",variant:"outline",size:"sm",children:[o.jsx(qh,{className:"h-3 w-3 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate text-xs",children:x&&y?.deployment_supported?"Deploy to Azure":"Deployment Guide"})]})})]})})]}):j==="developer"?o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>B(!0),className:"h-full w-10 rounded-none border-l",title:"Show debug panel",children:o.jsx(DM,{className:"h-4 w-4"})})}):null]})}),o.jsx(qv,{open:C,onOpenChange:K}),o.jsx(A5,{open:Y,onClose:()=>ue(!1),agentName:y?.name,entity:y}),V&&o.jsx(hj,{message:"Entity not found. Showing first available entity instead.",type:"info",onClose:()=>te(!1)}),o.jsx(C7,{toasts:ie,onRemove:xe})]})}function A7({children:e,attribute:n="class",defaultTheme:r="dark",enableSystem:a=!0,disableTransitionOnChange:l=!0,...c}){return o.jsx(pT,{attribute:n,defaultTheme:r,enableSystem:a,disableTransitionOnChange:l,...c,children:e})}N5();CE.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(A7,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:o.jsx(k7,{})})}));
